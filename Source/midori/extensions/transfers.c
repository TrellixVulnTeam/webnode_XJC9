/* transfers.c generated by valac 0.20.1, the Vala compiler
 * generated from transfers.vala, do not modify */

/*
   Copyright (C) 2009-2013 Christian Dywan <christian@twotoasts.de>

   This library is free software; you can redistribute it and/or
   modify it under the terms of the GNU Lesser General Public
   License as published by the Free Software Foundation; either
   version 2.1 of the License, or (at your option) any later version.

   See the file COPYING for the full license text.
*/

#include <glib.h>
#include <glib-object.h>
#include <gtk/gtk.h>
#include <stdlib.h>
#include <string.h>
#include "webkit2/webkit2.h"
#include "midori-core.h"
#include <float.h>
#include <math.h>
#include "katze/katze.h"
#include <glib/gi18n-lib.h>
#include <gdk/gdk.h>
#include <gio/gio.h>
#include "midori/midori.h"
#include <pango/pango.h>
#include "midori/midori-view.h"


#define TRANSFERS_TYPE_TRANSFER (transfers_transfer_get_type ())
#define TRANSFERS_TRANSFER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TRANSFERS_TYPE_TRANSFER, TransfersTransfer))
#define TRANSFERS_TRANSFER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TRANSFERS_TYPE_TRANSFER, TransfersTransferClass))
#define TRANSFERS_IS_TRANSFER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TRANSFERS_TYPE_TRANSFER))
#define TRANSFERS_IS_TRANSFER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TRANSFERS_TYPE_TRANSFER))
#define TRANSFERS_TRANSFER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TRANSFERS_TYPE_TRANSFER, TransfersTransferClass))

typedef struct _TransfersTransfer TransfersTransfer;
typedef struct _TransfersTransferClass TransfersTransferClass;
typedef struct _TransfersTransferPrivate TransfersTransferPrivate;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_list_free0(var) ((var == NULL) ? NULL : (var = (g_list_free (var), NULL)))

#define TRANSFERS_TYPE_SIDEBAR (transfers_sidebar_get_type ())
#define TRANSFERS_SIDEBAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TRANSFERS_TYPE_SIDEBAR, TransfersSidebar))
#define TRANSFERS_SIDEBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TRANSFERS_TYPE_SIDEBAR, TransfersSidebarClass))
#define TRANSFERS_IS_SIDEBAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TRANSFERS_TYPE_SIDEBAR))
#define TRANSFERS_IS_SIDEBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TRANSFERS_TYPE_SIDEBAR))
#define TRANSFERS_SIDEBAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TRANSFERS_TYPE_SIDEBAR, TransfersSidebarClass))

typedef struct _TransfersSidebar TransfersSidebar;
typedef struct _TransfersSidebarClass TransfersSidebarClass;
typedef struct _TransfersSidebarPrivate TransfersSidebarPrivate;
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))
typedef struct _Block1Data Block1Data;
#define _g_free0(var) (var = (g_free (var), NULL))

#define TRANSFERS_TYPE_TRANSFER_BUTTON (transfers_transfer_button_get_type ())
#define TRANSFERS_TRANSFER_BUTTON(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TRANSFERS_TYPE_TRANSFER_BUTTON, TransfersTransferButton))
#define TRANSFERS_TRANSFER_BUTTON_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TRANSFERS_TYPE_TRANSFER_BUTTON, TransfersTransferButtonClass))
#define TRANSFERS_IS_TRANSFER_BUTTON(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TRANSFERS_TYPE_TRANSFER_BUTTON))
#define TRANSFERS_IS_TRANSFER_BUTTON_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TRANSFERS_TYPE_TRANSFER_BUTTON))
#define TRANSFERS_TRANSFER_BUTTON_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TRANSFERS_TYPE_TRANSFER_BUTTON, TransfersTransferButtonClass))

typedef struct _TransfersTransferButton TransfersTransferButton;
typedef struct _TransfersTransferButtonClass TransfersTransferButtonClass;
typedef struct _TransfersTransferButtonPrivate TransfersTransferButtonPrivate;

#define TRANSFERS_TYPE_TOOLBAR (transfers_toolbar_get_type ())
#define TRANSFERS_TOOLBAR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TRANSFERS_TYPE_TOOLBAR, TransfersToolbar))
#define TRANSFERS_TOOLBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TRANSFERS_TYPE_TOOLBAR, TransfersToolbarClass))
#define TRANSFERS_IS_TOOLBAR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TRANSFERS_TYPE_TOOLBAR))
#define TRANSFERS_IS_TOOLBAR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TRANSFERS_TYPE_TOOLBAR))
#define TRANSFERS_TOOLBAR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TRANSFERS_TYPE_TOOLBAR, TransfersToolbarClass))

typedef struct _TransfersToolbar TransfersToolbar;
typedef struct _TransfersToolbarClass TransfersToolbarClass;
typedef struct _TransfersToolbarPrivate TransfersToolbarPrivate;

#define TRANSFERS_TYPE_MANAGER (transfers_manager_get_type ())
#define TRANSFERS_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TRANSFERS_TYPE_MANAGER, TransfersManager))
#define TRANSFERS_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TRANSFERS_TYPE_MANAGER, TransfersManagerClass))
#define TRANSFERS_IS_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TRANSFERS_TYPE_MANAGER))
#define TRANSFERS_IS_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TRANSFERS_TYPE_MANAGER))
#define TRANSFERS_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TRANSFERS_TYPE_MANAGER, TransfersManagerClass))

typedef struct _TransfersManager TransfersManager;
typedef struct _TransfersManagerClass TransfersManagerClass;
typedef struct _TransfersManagerPrivate TransfersManagerPrivate;
#define __g_list_free__g_object_unref0_0(var) ((var == NULL) ? NULL : (var = (_g_list_free__g_object_unref0_ (var), NULL)))
#define __g_list_free__g_free0_0(var) ((var == NULL) ? NULL : (var = (_g_list_free__g_free0_ (var), NULL)))

struct _TransfersTransfer {
	GObject parent_instance;
	TransfersTransferPrivate * priv;
	WebKitDownload* download;
};

struct _TransfersTransferClass {
	GObjectClass parent_class;
};

struct _TransfersTransferPrivate {
	gboolean _succeeded;
	gboolean _finished;
};

struct _TransfersSidebar {
	GtkVBox parent_instance;
	TransfersSidebarPrivate * priv;
};

struct _TransfersSidebarClass {
	GtkVBoxClass parent_class;
};

struct _TransfersSidebarPrivate {
	GtkToolbar* toolbar;
	GtkToolButton* clear;
	GtkListStore* store;
	GtkTreeView* treeview;
	KatzeArray* array;
};

struct _Block1Data {
	int _ref_count_;
	TransfersSidebar * self;
	TransfersTransfer* transfer;
};

struct _TransfersTransferButton {
	GtkToolItem parent_instance;
	TransfersTransferButtonPrivate * priv;
};

struct _TransfersTransferButtonClass {
	GtkToolItemClass parent_class;
};

struct _TransfersTransferButtonPrivate {
	TransfersTransfer* transfer;
	GtkProgressBar* progress;
	GtkImage* icon;
	GtkButton* button;
};

struct _TransfersToolbar {
	GtkToolbar parent_instance;
	TransfersToolbarPrivate * priv;
};

struct _TransfersToolbarClass {
	GtkToolbarClass parent_class;
};

struct _TransfersToolbarPrivate {
	KatzeArray* array;
	GtkToolButton* clear;
};

struct _TransfersManager {
	MidoriExtension parent_instance;
	TransfersManagerPrivate * priv;
	KatzeArray* array;
	GList* widgets;
	GList* notifications;
	guint notification_timeout;
};

struct _TransfersManagerClass {
	MidoriExtensionClass parent_class;
};


static gpointer transfers_transfer_parent_class = NULL;
static gpointer transfers_sidebar_parent_class = NULL;
static MidoriViewableIface* transfers_sidebar_midori_viewable_parent_iface = NULL;
static gpointer transfers_transfer_button_parent_class = NULL;
static gpointer transfers_toolbar_parent_class = NULL;
static gpointer transfers_manager_parent_class = NULL;

void gtk_widget_size_request (GtkWidget* widget, GtkRequisition* requisition);
void sokoke_widget_get_text_size (GtkWidget* widget, const gchar* sample, gint* width, gint* height);
GType transfers_transfer_get_type (void) G_GNUC_CONST;
#define TRANSFERS_TRANSFER_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TRANSFERS_TYPE_TRANSFER, TransfersTransferPrivate))
enum  {
	TRANSFERS_TRANSFER_DUMMY_PROPERTY,
	TRANSFERS_TRANSFER_ACTION,
	TRANSFERS_TRANSFER_PROGRESS,
	TRANSFERS_TRANSFER_SUCCEEDED,
	TRANSFERS_TRANSFER_FINISHED,
	TRANSFERS_TRANSFER_DESTINATION
};
TransfersTransfer* transfers_transfer_new (WebKitDownload* download);
TransfersTransfer* transfers_transfer_construct (GType object_type, WebKitDownload* download);
static void transfers_transfer_transfer_changed (TransfersTransfer* self, GParamSpec* pspec);
static void _transfers_transfer_transfer_changed_g_object_notify (GObject* _sender, GParamSpec* pspec, gpointer self);
static void __lambda2_ (TransfersTransfer* self);
void transfers_transfer_set_finished (TransfersTransfer* self, gboolean value);
void transfers_transfer_set_succeeded (TransfersTransfer* self, gboolean value);
static void ___lambda2__webkit_download_finished (WebKitDownload* _sender, gpointer self);
static void __lambda3_ (TransfersTransfer* self);
static void ___lambda3__webkit_download_failed (WebKitDownload* _sender, void* _error_, gpointer self);
gint transfers_transfer_get_action (TransfersTransfer* self);
gdouble transfers_transfer_get_progress (TransfersTransfer* self);
gboolean transfers_transfer_get_succeeded (TransfersTransfer* self);
gboolean transfers_transfer_get_finished (TransfersTransfer* self);
const gchar* transfers_transfer_get_destination (TransfersTransfer* self);
static void transfers_transfer_finalize (GObject* obj);
static void _vala_transfers_transfer_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec);
static void _vala_transfers_transfer_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec);
gboolean transfers_pending_transfers (KatzeArray* array);
GType transfers_sidebar_get_type (void) G_GNUC_CONST;
#define TRANSFERS_SIDEBAR_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TRANSFERS_TYPE_SIDEBAR, TransfersSidebarPrivate))
enum  {
	TRANSFERS_SIDEBAR_DUMMY_PROPERTY
};
static const gchar* transfers_sidebar_real_get_stock_id (MidoriViewable* base);
static const gchar* transfers_sidebar_real_get_label (MidoriViewable* base);
static GtkWidget* transfers_sidebar_real_get_toolbar (MidoriViewable* base);
static void transfers_sidebar_clear_clicked (TransfersSidebar* self);
static void _transfers_sidebar_clear_clicked_gtk_tool_button_clicked (GtkToolButton* _sender, gpointer self);
TransfersSidebar* transfers_sidebar_new (KatzeArray* array);
TransfersSidebar* transfers_sidebar_construct (GType object_type, KatzeArray* array);
static gint transfers_sidebar_tree_sort_func (TransfersSidebar* self, GtkTreeModel* model, GtkTreeIter* a, GtkTreeIter* b);
static gint _transfers_sidebar_tree_sort_func_gtk_tree_iter_compare_func (GtkTreeModel* model, GtkTreeIter* a, GtkTreeIter* b, gpointer self);
static void transfers_sidebar_on_render_icon (TransfersSidebar* self, GtkCellLayout* column, GtkCellRenderer* renderer, GtkTreeModel* model, GtkTreeIter* iter);
static void _transfers_sidebar_on_render_icon_gtk_cell_layout_data_func (GtkCellLayout* cell_layout, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter, gpointer self);
static void transfers_sidebar_on_render_text (TransfersSidebar* self, GtkCellLayout* column, GtkCellRenderer* renderer, GtkTreeModel* model, GtkTreeIter* iter);
static void _transfers_sidebar_on_render_text_gtk_cell_layout_data_func (GtkCellLayout* cell_layout, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter, gpointer self);
static void transfers_sidebar_on_render_button (TransfersSidebar* self, GtkCellLayout* column, GtkCellRenderer* renderer, GtkTreeModel* model, GtkTreeIter* iter);
static void _transfers_sidebar_on_render_button_gtk_cell_layout_data_func (GtkCellLayout* cell_layout, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter, gpointer self);
static void transfers_sidebar_row_activated (TransfersSidebar* self, GtkTreePath* path, GtkTreeViewColumn* column);
static void _transfers_sidebar_row_activated_gtk_tree_view_row_activated (GtkTreeView* _sender, GtkTreePath* path, GtkTreeViewColumn* column, gpointer self);
static gboolean transfers_sidebar_button_released (TransfersSidebar* self, GdkEventButton* event);
static gboolean _transfers_sidebar_button_released_gtk_widget_button_release_event (GtkWidget* _sender, GdkEventButton* event, gpointer self);
static gboolean transfers_sidebar_menu_popup (TransfersSidebar* self);
static gboolean _transfers_sidebar_menu_popup_gtk_widget_popup_menu (GtkWidget* _sender, gpointer self);
static void transfers_sidebar_transfer_added (TransfersSidebar* self, GObject* item);
static void _transfers_sidebar_transfer_added_katze_array_add_item (KatzeArray* _sender, GObject* item, gpointer self);
static void transfers_sidebar_transfer_removed (TransfersSidebar* self, GObject* item);
static void _transfers_sidebar_transfer_removed_katze_array_remove_item (KatzeArray* _sender, GObject* item, gpointer self);
static gboolean transfers_sidebar_show_popup_menu (TransfersSidebar* self, GdkEventButton* event);
static Block1Data* block1_data_ref (Block1Data* _data1_);
static void block1_data_unref (void * _userdata_);
static void ___lambda4_ (Block1Data* _data1_);
static void ____lambda4__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
static void ___lambda5_ (Block1Data* _data1_);
static void ____lambda5__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
static void ___lambda6_ (Block1Data* _data1_);
static void ____lambda6__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self);
static void transfers_sidebar_transfer_changed (TransfersSidebar* self);
static void _transfers_sidebar_transfer_changed_transfers_transfer_changed (TransfersTransfer* _sender, gpointer self);
static void transfers_sidebar_finalize (GObject* obj);
GType transfers_transfer_button_get_type (void) G_GNUC_CONST;
#define TRANSFERS_TRANSFER_BUTTON_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TRANSFERS_TYPE_TRANSFER_BUTTON, TransfersTransferButtonPrivate))
enum  {
	TRANSFERS_TRANSFER_BUTTON_DUMMY_PROPERTY
};
TransfersTransferButton* transfers_transfer_button_new (TransfersTransfer* transfer);
TransfersTransferButton* transfers_transfer_button_construct (GType object_type, TransfersTransfer* transfer);
static void transfers_transfer_button_button_clicked (TransfersTransferButton* self);
static void _transfers_transfer_button_button_clicked_gtk_button_clicked (GtkButton* _sender, gpointer self);
static void transfers_transfer_button_transfer_changed (TransfersTransferButton* self);
static void _transfers_transfer_button_transfer_changed_transfers_transfer_changed (TransfersTransfer* _sender, gpointer self);
static void transfers_transfer_button_transfer_removed (TransfersTransferButton* self);
static void _transfers_transfer_button_transfer_removed_transfers_transfer_removed (TransfersTransfer* _sender, gpointer self);
static void transfers_transfer_button_finalize (GObject* obj);
GType transfers_toolbar_get_type (void) G_GNUC_CONST;
#define TRANSFERS_TOOLBAR_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TRANSFERS_TYPE_TOOLBAR, TransfersToolbarPrivate))
enum  {
	TRANSFERS_TOOLBAR_DUMMY_PROPERTY
};
static void transfers_toolbar_clear_clicked (TransfersToolbar* self);
TransfersToolbar* transfers_toolbar_new (KatzeArray* array);
TransfersToolbar* transfers_toolbar_construct (GType object_type, KatzeArray* array);
static void _transfers_toolbar_clear_clicked_gtk_tool_button_clicked (GtkToolButton* _sender, gpointer self);
static void transfers_toolbar_transfer_added (TransfersToolbar* self, GObject* item);
static void _transfers_toolbar_transfer_added_katze_array_add_item (KatzeArray* _sender, GObject* item, gpointer self);
static void transfers_toolbar_transfer_removed (TransfersToolbar* self, GObject* item);
static void _transfers_toolbar_transfer_removed_katze_array_remove_item (KatzeArray* _sender, GObject* item, gpointer self);
static void transfers_toolbar_finalize (GObject* obj);
GType transfers_manager_get_type (void) G_GNUC_CONST;
enum  {
	TRANSFERS_MANAGER_DUMMY_PROPERTY
};
static void _g_object_unref0_ (gpointer var);
static void _g_list_free__g_object_unref0_ (GList* self);
static void _g_free0_ (gpointer var);
static void _g_list_free__g_free0_ (GList* self);
static void transfers_manager_download_added (TransfersManager* self, WebKitDownload* download);
static void transfers_manager_transfer_remove (TransfersManager* self, TransfersTransfer* transfer);
static void _transfers_manager_transfer_remove_transfers_transfer_remove (TransfersTransfer* _sender, gpointer self);
static void transfers_manager_transfer_changed (TransfersManager* self, TransfersTransfer* transfer);
static void _transfers_manager_transfer_changed_transfers_transfer_changed (TransfersTransfer* _sender, gpointer self);
static void transfers_manager_transfer_removed (TransfersManager* self, GObject* item);
static void _transfers_manager_transfer_removed_katze_array_remove_item (KatzeArray* _sender, GObject* item, gpointer self);
static gboolean transfers_manager_notification_timeout_triggered (TransfersManager* self);
static gboolean _transfers_manager_notification_timeout_triggered_gsource_func (gpointer self);
static gboolean transfers_manager_browser_closed (TransfersManager* self, GtkWidget* widget, GdkEventAny* event);
static void transfers_manager_browser_added (TransfersManager* self, MidoriBrowser* browser);
static void _transfers_manager_download_added_midori_browser_add_download (MidoriBrowser* _sender, WebKitDownload* download, gpointer self);
static gboolean _transfers_manager_browser_closed_gtk_widget_delete_event (GtkWidget* _sender, GdkEventAny* event, gpointer self);
static void transfers_manager_activated (TransfersManager* self, MidoriApp* app);
static void _transfers_manager_browser_added_midori_app_add_browser (MidoriApp* _sender, MidoriBrowser* browser, gpointer self);
static void transfers_manager_deactivated (TransfersManager* self);
TransfersManager* transfers_manager_new (void);
TransfersManager* transfers_manager_construct (GType object_type);
static void _transfers_manager_activated_midori_extension_activate (MidoriExtension* _sender, MidoriApp* app, gpointer self);
static void _transfers_manager_deactivated_midori_extension_deactivate (MidoriExtension* _sender, gpointer self);
static void transfers_manager_finalize (GObject* obj);
MidoriExtension* extension_init (void);


static gpointer _g_object_ref0 (gpointer self) {
#line 53 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return self ? g_object_ref (self) : NULL;
#line 321 "transfers.c"
}


static void _transfers_transfer_transfer_changed_g_object_notify (GObject* _sender, GParamSpec* pspec, gpointer self) {
#line 55 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_transfer_transfer_changed (self, pspec);
#line 328 "transfers.c"
}


static void __lambda2_ (TransfersTransfer* self) {
#line 57 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_transfer_set_finished (self, TRUE);
#line 57 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_transfer_set_succeeded (self, TRUE);
#line 58 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_emit_by_name (self, "changed");
#line 339 "transfers.c"
}


static void ___lambda2__webkit_download_finished (WebKitDownload* _sender, gpointer self) {
#line 56 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	__lambda2_ (self);
#line 346 "transfers.c"
}


static void __lambda3_ (TransfersTransfer* self) {
#line 61 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_transfer_set_succeeded (self, FALSE);
#line 62 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_transfer_set_finished (self, TRUE);
#line 63 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_emit_by_name (self, "changed");
#line 357 "transfers.c"
}


static void ___lambda3__webkit_download_failed (WebKitDownload* _sender, void* _error_, gpointer self) {
#line 60 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	__lambda3_ (self);
#line 364 "transfers.c"
}


TransfersTransfer* transfers_transfer_construct (GType object_type, WebKitDownload* download) {
	TransfersTransfer * self = NULL;
	WebKitDownload* _tmp0_;
	WebKitDownload* _tmp1_;
	WebKitDownload* _tmp2_;
	WebKitDownload* _tmp3_;
	WebKitDownload* _tmp4_;
#line 52 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (download != NULL, NULL);
#line 52 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self = (TransfersTransfer*) g_object_new (object_type, NULL);
#line 53 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = download;
#line 53 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 53 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->download);
#line 53 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->download = _tmp1_;
#line 55 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = download;
#line 55 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object ((GObject*) _tmp2_, "notify::estimated-progress", (GCallback) _transfers_transfer_transfer_changed_g_object_notify, self, 0);
#line 56 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp3_ = download;
#line 56 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object (_tmp3_, "finished", (GCallback) ___lambda2__webkit_download_finished, self, 0);
#line 60 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp4_ = download;
#line 60 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object (_tmp4_, "failed", (GCallback) ___lambda3__webkit_download_failed, self, 0);
#line 52 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return self;
#line 401 "transfers.c"
}


TransfersTransfer* transfers_transfer_new (WebKitDownload* download) {
#line 52 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return transfers_transfer_construct (TRANSFERS_TYPE_TRANSFER, download);
#line 408 "transfers.c"
}


static void transfers_transfer_transfer_changed (TransfersTransfer* self, GParamSpec* pspec) {
#line 71 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 71 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (pspec != NULL);
#line 72 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_emit_by_name (self, "changed");
#line 419 "transfers.c"
}


gint transfers_transfer_get_action (TransfersTransfer* self) {
	gint result;
	WebKitDownload* _tmp0_;
	gint _tmp1_ = 0;
#line 28 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 29 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = self->download;
#line 29 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = midori_download_get_type (_tmp0_);
#line 29 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	result = _tmp1_;
#line 29 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 437 "transfers.c"
}


gdouble transfers_transfer_get_progress (TransfersTransfer* self) {
	gdouble result;
	WebKitDownload* _tmp0_;
	gdouble _tmp1_ = 0.0;
#line 31 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (self != NULL, 0.0);
#line 32 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = self->download;
#line 32 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = midori_download_get_progress (_tmp0_);
#line 32 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	result = _tmp1_;
#line 32 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 455 "transfers.c"
}


gboolean transfers_transfer_get_succeeded (TransfersTransfer* self) {
	gboolean result;
	gboolean _tmp0_;
#line 35 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 35 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = self->priv->_succeeded;
#line 35 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	result = _tmp0_;
#line 35 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 470 "transfers.c"
}


void transfers_transfer_set_succeeded (TransfersTransfer* self, gboolean value) {
	gboolean _tmp0_;
#line 35 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 35 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = value;
#line 35 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->priv->_succeeded = _tmp0_;
#line 35 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_notify ((GObject *) self, "succeeded");
#line 484 "transfers.c"
}


gboolean transfers_transfer_get_finished (TransfersTransfer* self) {
	gboolean result;
	gboolean _tmp0_;
#line 36 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 36 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = self->priv->_finished;
#line 36 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	result = _tmp0_;
#line 36 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 499 "transfers.c"
}


void transfers_transfer_set_finished (TransfersTransfer* self, gboolean value) {
	gboolean _tmp0_;
#line 36 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 36 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = value;
#line 36 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->priv->_finished = _tmp0_;
#line 36 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_notify ((GObject *) self, "finished");
#line 513 "transfers.c"
}


const gchar* transfers_transfer_get_destination (TransfersTransfer* self) {
	const gchar* result;
	WebKitDownload* _tmp0_;
	const gchar* _tmp1_;
	const gchar* _tmp2_;
#line 37 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 38 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = self->download;
#line 38 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = webkit_download_get_destination (_tmp0_);
#line 38 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = _tmp1_;
#line 38 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	result = _tmp2_;
#line 38 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 534 "transfers.c"
}


static void transfers_transfer_class_init (TransfersTransferClass * klass) {
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_transfer_parent_class = g_type_class_peek_parent (klass);
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_type_class_add_private (klass, sizeof (TransfersTransferPrivate));
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	G_OBJECT_CLASS (klass)->get_property = _vala_transfers_transfer_get_property;
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	G_OBJECT_CLASS (klass)->set_property = _vala_transfers_transfer_set_property;
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	G_OBJECT_CLASS (klass)->finalize = transfers_transfer_finalize;
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), TRANSFERS_TRANSFER_ACTION, g_param_spec_int ("action", "action", "action", G_MININT, G_MAXINT, 0, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), TRANSFERS_TRANSFER_PROGRESS, g_param_spec_double ("progress", "progress", "progress", -G_MAXDOUBLE, G_MAXDOUBLE, 0.0, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), TRANSFERS_TRANSFER_SUCCEEDED, g_param_spec_boolean ("succeeded", "succeeded", "succeeded", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), TRANSFERS_TRANSFER_FINISHED, g_param_spec_boolean ("finished", "finished", "finished", FALSE, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE | G_PARAM_WRITABLE));
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_class_install_property (G_OBJECT_CLASS (klass), TRANSFERS_TRANSFER_DESTINATION, g_param_spec_string ("destination", "destination", "destination", NULL, G_PARAM_STATIC_NAME | G_PARAM_STATIC_NICK | G_PARAM_STATIC_BLURB | G_PARAM_READABLE));
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_new ("changed", TRANSFERS_TYPE_TRANSFER, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_new ("remove", TRANSFERS_TYPE_TRANSFER, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_new ("removed", TRANSFERS_TYPE_TRANSFER, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__VOID, G_TYPE_NONE, 0);
#line 565 "transfers.c"
}


static void transfers_transfer_instance_init (TransfersTransfer * self) {
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->priv = TRANSFERS_TRANSFER_GET_PRIVATE (self);
#line 35 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->priv->_succeeded = FALSE;
#line 36 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->priv->_finished = FALSE;
#line 576 "transfers.c"
}


static void transfers_transfer_finalize (GObject* obj) {
	TransfersTransfer * self;
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TRANSFERS_TYPE_TRANSFER, TransfersTransfer);
#line 22 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->download);
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	G_OBJECT_CLASS (transfers_transfer_parent_class)->finalize (obj);
#line 588 "transfers.c"
}


GType transfers_transfer_get_type (void) {
	static volatile gsize transfers_transfer_type_id__volatile = 0;
	if (g_once_init_enter (&transfers_transfer_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (TransfersTransferClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) transfers_transfer_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (TransfersTransfer), 0, (GInstanceInitFunc) transfers_transfer_instance_init, NULL };
		GType transfers_transfer_type_id;
		transfers_transfer_type_id = g_type_register_static (G_TYPE_OBJECT, "TransfersTransfer", &g_define_type_info, 0);
		g_once_init_leave (&transfers_transfer_type_id__volatile, transfers_transfer_type_id);
	}
	return transfers_transfer_type_id__volatile;
}


static void _vala_transfers_transfer_get_property (GObject * object, guint property_id, GValue * value, GParamSpec * pspec) {
	TransfersTransfer * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, TRANSFERS_TYPE_TRANSFER, TransfersTransfer);
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	switch (property_id) {
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		case TRANSFERS_TRANSFER_ACTION:
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_value_set_int (value, transfers_transfer_get_action (self));
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		break;
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		case TRANSFERS_TRANSFER_PROGRESS:
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_value_set_double (value, transfers_transfer_get_progress (self));
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		break;
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		case TRANSFERS_TRANSFER_SUCCEEDED:
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_value_set_boolean (value, transfers_transfer_get_succeeded (self));
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		break;
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		case TRANSFERS_TRANSFER_FINISHED:
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_value_set_boolean (value, transfers_transfer_get_finished (self));
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		break;
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		case TRANSFERS_TRANSFER_DESTINATION:
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_value_set_string (value, transfers_transfer_get_destination (self));
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		break;
#line 639 "transfers.c"
		default:
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		break;
#line 645 "transfers.c"
	}
}


static void _vala_transfers_transfer_set_property (GObject * object, guint property_id, const GValue * value, GParamSpec * pspec) {
	TransfersTransfer * self;
	self = G_TYPE_CHECK_INSTANCE_CAST (object, TRANSFERS_TYPE_TRANSFER, TransfersTransfer);
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	switch (property_id) {
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		case TRANSFERS_TRANSFER_SUCCEEDED:
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		transfers_transfer_set_succeeded (self, g_value_get_boolean (value));
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		break;
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		case TRANSFERS_TRANSFER_FINISHED:
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		transfers_transfer_set_finished (self, g_value_get_boolean (value));
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		break;
#line 667 "transfers.c"
		default:
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		G_OBJECT_WARN_INVALID_PROPERTY_ID (object, property_id, pspec);
#line 21 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		break;
#line 673 "transfers.c"
	}
}


gboolean transfers_pending_transfers (KatzeArray* array) {
	gboolean result = FALSE;
	KatzeArray* _tmp0_;
	GList* _tmp1_ = NULL;
#line 76 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (array != NULL, FALSE);
#line 77 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = array;
#line 77 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = katze_array_get_items (_tmp0_);
#line 688 "transfers.c"
	{
		GList* item_collection = NULL;
		GList* item_it = NULL;
#line 77 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		item_collection = _tmp1_;
#line 77 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		for (item_it = item_collection; item_it != NULL; item_it = item_it->next) {
#line 696 "transfers.c"
			GObject* _tmp2_;
			GObject* item = NULL;
#line 77 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp2_ = _g_object_ref0 ((GObject*) ((KatzeItem*) item_it->data));
#line 77 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			item = _tmp2_;
#line 703 "transfers.c"
			{
				GObject* _tmp3_;
				TransfersTransfer* _tmp4_;
				TransfersTransfer* transfer;
				TransfersTransfer* _tmp5_;
				gboolean _tmp6_;
				gboolean _tmp7_;
#line 78 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp3_ = item;
#line 78 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp4_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, TRANSFERS_TYPE_TRANSFER) ? ((TransfersTransfer*) _tmp3_) : NULL);
#line 78 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				transfer = _tmp4_;
#line 79 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp5_ = transfer;
#line 79 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp6_ = transfers_transfer_get_finished (_tmp5_);
#line 79 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp7_ = _tmp6_;
#line 79 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				if (!_tmp7_) {
#line 80 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
					result = TRUE;
#line 80 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
					_g_object_unref0 (transfer);
#line 80 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
					_g_object_unref0 (item);
#line 80 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
					_g_list_free0 (item_collection);
#line 80 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
					return result;
#line 735 "transfers.c"
				}
#line 77 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_g_object_unref0 (transfer);
#line 77 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_g_object_unref0 (item);
#line 741 "transfers.c"
			}
		}
#line 77 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_list_free0 (item_collection);
#line 746 "transfers.c"
	}
#line 82 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	result = FALSE;
#line 82 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 752 "transfers.c"
}


static const gchar* transfers_sidebar_real_get_stock_id (MidoriViewable* base) {
	TransfersSidebar * self;
	const gchar* result = NULL;
#line 92 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self = (TransfersSidebar*) base;
#line 93 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	result = MIDORI_STOCK_TRANSFER;
#line 93 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 765 "transfers.c"
}


static const gchar* transfers_sidebar_real_get_label (MidoriViewable* base) {
	TransfersSidebar * self;
	const gchar* result = NULL;
	const gchar* _tmp0_ = NULL;
#line 96 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self = (TransfersSidebar*) base;
#line 97 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = _ ("Transfers");
#line 97 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	result = _tmp0_;
#line 97 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 781 "transfers.c"
}


static void _transfers_sidebar_clear_clicked_gtk_tool_button_clicked (GtkToolButton* _sender, gpointer self) {
#line 112 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_sidebar_clear_clicked (self);
#line 788 "transfers.c"
}


static GtkWidget* transfers_sidebar_real_get_toolbar (MidoriViewable* base) {
	TransfersSidebar * self;
	GtkWidget* result = NULL;
	GtkToolbar* _tmp0_;
	GtkToolbar* _tmp22_;
	GtkWidget* _tmp23_;
#line 100 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self = (TransfersSidebar*) base;
#line 101 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = self->priv->toolbar;
#line 101 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	if (_tmp0_ == NULL) {
#line 804 "transfers.c"
		GtkToolbar* _tmp1_;
		GtkToolbar* _tmp2_;
		GtkToolbar* _tmp3_;
		GtkToolItem* _tmp4_;
		GtkToolItem* _tmp5_;
		GtkSeparatorToolItem* _tmp6_;
		GtkSeparatorToolItem* separator;
		GtkSeparatorToolItem* _tmp7_;
		GtkSeparatorToolItem* _tmp8_;
		GtkToolbar* _tmp9_;
		GtkSeparatorToolItem* _tmp10_;
		GtkToolButton* _tmp11_;
		GtkToolButton* _tmp12_;
		const gchar* _tmp13_ = NULL;
		GtkToolButton* _tmp14_;
		GtkToolButton* _tmp15_;
		GtkToolButton* _tmp16_;
		KatzeArray* _tmp17_;
		gboolean _tmp18_ = FALSE;
		GtkToolbar* _tmp19_;
		GtkToolButton* _tmp20_;
		GtkToolbar* _tmp21_;
#line 102 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp1_ = (GtkToolbar*) gtk_toolbar_new ();
#line 102 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_object_ref_sink (_tmp1_);
#line 102 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_object_unref0 (self->priv->toolbar);
#line 102 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		self->priv->toolbar = _tmp1_;
#line 103 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp2_ = self->priv->toolbar;
#line 103 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_toolbar_set_icon_size (_tmp2_, GTK_ICON_SIZE_BUTTON);
#line 104 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp3_ = self->priv->toolbar;
#line 104 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp4_ = gtk_tool_item_new ();
#line 104 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_object_ref_sink (_tmp4_);
#line 104 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp5_ = _tmp4_;
#line 104 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_toolbar_insert (_tmp3_, _tmp5_, -1);
#line 104 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_object_unref0 (_tmp5_);
#line 105 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp6_ = (GtkSeparatorToolItem*) gtk_separator_tool_item_new ();
#line 105 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_object_ref_sink (_tmp6_);
#line 105 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		separator = _tmp6_;
#line 106 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp7_ = separator;
#line 106 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_separator_tool_item_set_draw (_tmp7_, FALSE);
#line 107 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp8_ = separator;
#line 107 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_tool_item_set_expand ((GtkToolItem*) _tmp8_, TRUE);
#line 108 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp9_ = self->priv->toolbar;
#line 108 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp10_ = separator;
#line 108 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_toolbar_insert (_tmp9_, (GtkToolItem*) _tmp10_, -1);
#line 109 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp11_ = (GtkToolButton*) gtk_tool_button_new_from_stock (GTK_STOCK_CLEAR);
#line 109 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_object_ref_sink (_tmp11_);
#line 109 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_object_unref0 (self->priv->clear);
#line 109 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		self->priv->clear = _tmp11_;
#line 110 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp12_ = self->priv->clear;
#line 110 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp13_ = _ ("Clear All");
#line 110 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_tool_button_set_label (_tmp12_, _tmp13_);
#line 111 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp14_ = self->priv->clear;
#line 111 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_tool_item_set_is_important ((GtkToolItem*) _tmp14_, TRUE);
#line 112 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp15_ = self->priv->clear;
#line 112 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_signal_connect_object (_tmp15_, "clicked", (GCallback) _transfers_sidebar_clear_clicked_gtk_tool_button_clicked, self, 0);
#line 113 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp16_ = self->priv->clear;
#line 113 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp17_ = self->priv->array;
#line 113 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp18_ = katze_array_is_empty (_tmp17_);
#line 113 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_widget_set_sensitive ((GtkWidget*) _tmp16_, !_tmp18_);
#line 114 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp19_ = self->priv->toolbar;
#line 114 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp20_ = self->priv->clear;
#line 114 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_toolbar_insert (_tmp19_, (GtkToolItem*) _tmp20_, -1);
#line 115 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp21_ = self->priv->toolbar;
#line 115 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_widget_show_all ((GtkWidget*) _tmp21_);
#line 101 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_object_unref0 (separator);
#line 913 "transfers.c"
	}
#line 117 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp22_ = self->priv->toolbar;
#line 117 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp23_ = _g_object_ref0 ((GtkWidget*) _tmp22_);
#line 117 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	result = _tmp23_;
#line 117 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 923 "transfers.c"
}


static void transfers_sidebar_clear_clicked (TransfersSidebar* self) {
	KatzeArray* _tmp0_;
	GList* _tmp1_ = NULL;
#line 120 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 121 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = self->priv->array;
#line 121 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = katze_array_get_items (_tmp0_);
#line 936 "transfers.c"
	{
		GList* item_collection = NULL;
		GList* item_it = NULL;
#line 121 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		item_collection = _tmp1_;
#line 121 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		for (item_it = item_collection; item_it != NULL; item_it = item_it->next) {
#line 944 "transfers.c"
			GObject* _tmp2_;
			GObject* item = NULL;
#line 121 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp2_ = _g_object_ref0 ((GObject*) ((KatzeItem*) item_it->data));
#line 121 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			item = _tmp2_;
#line 951 "transfers.c"
			{
				GObject* _tmp3_;
				TransfersTransfer* _tmp4_;
				TransfersTransfer* transfer;
				TransfersTransfer* _tmp5_;
				gboolean _tmp6_;
				gboolean _tmp7_;
#line 122 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp3_ = item;
#line 122 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp4_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, TRANSFERS_TYPE_TRANSFER) ? ((TransfersTransfer*) _tmp3_) : NULL);
#line 122 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				transfer = _tmp4_;
#line 123 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp5_ = transfer;
#line 123 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp6_ = transfers_transfer_get_finished (_tmp5_);
#line 123 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp7_ = _tmp6_;
#line 123 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				if (_tmp7_) {
#line 973 "transfers.c"
					TransfersTransfer* _tmp8_;
#line 124 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
					_tmp8_ = transfer;
#line 124 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
					g_signal_emit_by_name (_tmp8_, "remove");
#line 979 "transfers.c"
				}
#line 121 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_g_object_unref0 (transfer);
#line 121 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_g_object_unref0 (item);
#line 985 "transfers.c"
			}
		}
#line 121 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_list_free0 (item_collection);
#line 990 "transfers.c"
	}
}


static gint _transfers_sidebar_tree_sort_func_gtk_tree_iter_compare_func (GtkTreeModel* model, GtkTreeIter* a, GtkTreeIter* b, gpointer self) {
	gint result;
	result = transfers_sidebar_tree_sort_func (self, model, a, b);
#line 135 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 1000 "transfers.c"
}


static void _transfers_sidebar_on_render_icon_gtk_cell_layout_data_func (GtkCellLayout* cell_layout, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter, gpointer self) {
#line 140 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_sidebar_on_render_icon (self, cell_layout, cell, tree_model, iter);
#line 1007 "transfers.c"
}


static void _transfers_sidebar_on_render_text_gtk_cell_layout_data_func (GtkCellLayout* cell_layout, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter, gpointer self) {
#line 148 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_sidebar_on_render_text (self, cell_layout, cell, tree_model, iter);
#line 1014 "transfers.c"
}


static void _transfers_sidebar_on_render_button_gtk_cell_layout_data_func (GtkCellLayout* cell_layout, GtkCellRenderer* cell, GtkTreeModel* tree_model, GtkTreeIter* iter, gpointer self) {
#line 154 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_sidebar_on_render_button (self, cell_layout, cell, tree_model, iter);
#line 1021 "transfers.c"
}


static void _transfers_sidebar_row_activated_gtk_tree_view_row_activated (GtkTreeView* _sender, GtkTreePath* path, GtkTreeViewColumn* column, gpointer self) {
#line 157 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_sidebar_row_activated (self, path, column);
#line 1028 "transfers.c"
}


static gboolean _transfers_sidebar_button_released_gtk_widget_button_release_event (GtkWidget* _sender, GdkEventButton* event, gpointer self) {
	gboolean result;
	result = transfers_sidebar_button_released (self, event);
#line 158 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 1037 "transfers.c"
}


static gboolean _transfers_sidebar_menu_popup_gtk_widget_popup_menu (GtkWidget* _sender, gpointer self) {
	gboolean result;
	result = transfers_sidebar_menu_popup (self);
#line 159 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 1046 "transfers.c"
}


static void _transfers_sidebar_transfer_added_katze_array_add_item (KatzeArray* _sender, GObject* item, gpointer self) {
#line 164 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_sidebar_transfer_added (self, item);
#line 1053 "transfers.c"
}


static void _transfers_sidebar_transfer_removed_katze_array_remove_item (KatzeArray* _sender, GObject* item, gpointer self) {
#line 165 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_sidebar_transfer_removed (self, item);
#line 1060 "transfers.c"
}


TransfersSidebar* transfers_sidebar_construct (GType object_type, KatzeArray* array) {
	TransfersSidebar * self = NULL;
	GtkTreeViewColumn* column = NULL;
	GtkListStore* _tmp0_;
	GtkTreeView* _tmp1_;
	GtkTreeView* _tmp2_;
	GtkListStore* _tmp3_;
	GtkListStore* _tmp4_;
	GtkTreeViewColumn* _tmp5_;
	GtkCellRendererPixbuf* _tmp6_;
	GtkCellRendererPixbuf* renderer_icon;
	GtkTreeViewColumn* _tmp7_;
	GtkCellRendererPixbuf* _tmp8_;
	GtkTreeViewColumn* _tmp9_;
	GtkCellRendererPixbuf* _tmp10_;
	GtkTreeView* _tmp11_;
	GtkTreeViewColumn* _tmp12_;
	GtkTreeViewColumn* _tmp13_;
	GtkTreeViewColumn* _tmp14_;
	GtkCellRendererProgress* _tmp15_;
	GtkCellRendererProgress* renderer_progress;
	GtkTreeViewColumn* _tmp16_;
	GtkCellRendererProgress* _tmp17_;
	GtkTreeViewColumn* _tmp18_;
	GtkTreeViewColumn* _tmp19_;
	GtkCellRendererProgress* _tmp20_;
	GtkTreeView* _tmp21_;
	GtkTreeViewColumn* _tmp22_;
	GtkTreeViewColumn* _tmp23_;
	GtkCellRendererPixbuf* _tmp24_;
	GtkCellRendererPixbuf* renderer_button;
	GtkTreeViewColumn* _tmp25_;
	GtkCellRendererPixbuf* _tmp26_;
	GtkTreeViewColumn* _tmp27_;
	GtkCellRendererPixbuf* _tmp28_;
	GtkTreeView* _tmp29_;
	GtkTreeViewColumn* _tmp30_;
	GtkTreeView* _tmp31_;
	GtkTreeView* _tmp32_;
	GtkTreeView* _tmp33_;
	GtkTreeView* _tmp34_;
	GtkTreeView* _tmp35_;
	KatzeArray* _tmp36_;
	KatzeArray* _tmp37_;
	KatzeArray* _tmp38_;
	KatzeArray* _tmp39_;
	KatzeArray* _tmp40_;
	GList* _tmp41_ = NULL;
#line 128 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (array != NULL, NULL);
#line 128 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self = (TransfersSidebar*) g_object_new (object_type, NULL);
#line 131 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = self->priv->store;
#line 131 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = (GtkTreeView*) gtk_tree_view_new_with_model ((GtkTreeModel*) _tmp0_);
#line 131 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_ref_sink (_tmp1_);
#line 131 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->priv->treeview);
#line 131 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->priv->treeview = _tmp1_;
#line 132 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = self->priv->treeview;
#line 132 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_tree_view_set_headers_visible (_tmp2_, FALSE);
#line 134 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp3_ = self->priv->store;
#line 134 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_tree_sortable_set_sort_column_id ((GtkTreeSortable*) _tmp3_, 0, GTK_SORT_ASCENDING);
#line 135 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp4_ = self->priv->store;
#line 135 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_tree_sortable_set_sort_func ((GtkTreeSortable*) _tmp4_, 0, _transfers_sidebar_tree_sort_func_gtk_tree_iter_compare_func, g_object_ref (self), g_object_unref);
#line 137 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp5_ = gtk_tree_view_column_new ();
#line 137 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_ref_sink (_tmp5_);
#line 137 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (column);
#line 137 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	column = _tmp5_;
#line 138 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp6_ = (GtkCellRendererPixbuf*) gtk_cell_renderer_pixbuf_new ();
#line 138 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_ref_sink (_tmp6_);
#line 138 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	renderer_icon = _tmp6_;
#line 139 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp7_ = column;
#line 139 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp8_ = renderer_icon;
#line 139 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_cell_layout_pack_start ((GtkCellLayout*) _tmp7_, (GtkCellRenderer*) _tmp8_, FALSE);
#line 140 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp9_ = column;
#line 140 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp10_ = renderer_icon;
#line 140 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_cell_layout_set_cell_data_func ((GtkCellLayout*) _tmp9_, (GtkCellRenderer*) _tmp10_, _transfers_sidebar_on_render_icon_gtk_cell_layout_data_func, g_object_ref (self), g_object_unref);
#line 141 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp11_ = self->priv->treeview;
#line 141 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp12_ = column;
#line 141 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_tree_view_append_column (_tmp11_, _tmp12_);
#line 143 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp13_ = gtk_tree_view_column_new ();
#line 143 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_ref_sink (_tmp13_);
#line 143 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (column);
#line 143 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	column = _tmp13_;
#line 144 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp14_ = column;
#line 144 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_tree_view_column_set_sizing (_tmp14_, GTK_TREE_VIEW_COLUMN_AUTOSIZE);
#line 145 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp15_ = (GtkCellRendererProgress*) gtk_cell_renderer_progress_new ();
#line 145 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_ref_sink (_tmp15_);
#line 145 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	renderer_progress = _tmp15_;
#line 146 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp16_ = column;
#line 146 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp17_ = renderer_progress;
#line 146 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_cell_layout_pack_start ((GtkCellLayout*) _tmp16_, (GtkCellRenderer*) _tmp17_, TRUE);
#line 147 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp18_ = column;
#line 147 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_tree_view_column_set_expand (_tmp18_, TRUE);
#line 148 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp19_ = column;
#line 148 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp20_ = renderer_progress;
#line 148 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_cell_layout_set_cell_data_func ((GtkCellLayout*) _tmp19_, (GtkCellRenderer*) _tmp20_, _transfers_sidebar_on_render_text_gtk_cell_layout_data_func, g_object_ref (self), g_object_unref);
#line 149 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp21_ = self->priv->treeview;
#line 149 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp22_ = column;
#line 149 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_tree_view_append_column (_tmp21_, _tmp22_);
#line 151 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp23_ = gtk_tree_view_column_new ();
#line 151 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_ref_sink (_tmp23_);
#line 151 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (column);
#line 151 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	column = _tmp23_;
#line 152 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp24_ = (GtkCellRendererPixbuf*) gtk_cell_renderer_pixbuf_new ();
#line 152 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_ref_sink (_tmp24_);
#line 152 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	renderer_button = _tmp24_;
#line 153 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp25_ = column;
#line 153 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp26_ = renderer_button;
#line 153 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_cell_layout_pack_start ((GtkCellLayout*) _tmp25_, (GtkCellRenderer*) _tmp26_, FALSE);
#line 154 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp27_ = column;
#line 154 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp28_ = renderer_button;
#line 154 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_cell_layout_set_cell_data_func ((GtkCellLayout*) _tmp27_, (GtkCellRenderer*) _tmp28_, _transfers_sidebar_on_render_button_gtk_cell_layout_data_func, g_object_ref (self), g_object_unref);
#line 155 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp29_ = self->priv->treeview;
#line 155 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp30_ = column;
#line 155 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_tree_view_append_column (_tmp29_, _tmp30_);
#line 157 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp31_ = self->priv->treeview;
#line 157 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object (_tmp31_, "row-activated", (GCallback) _transfers_sidebar_row_activated_gtk_tree_view_row_activated, self, 0);
#line 158 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp32_ = self->priv->treeview;
#line 158 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object ((GtkWidget*) _tmp32_, "button-release-event", (GCallback) _transfers_sidebar_button_released_gtk_widget_button_release_event, self, 0);
#line 159 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp33_ = self->priv->treeview;
#line 159 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object ((GtkWidget*) _tmp33_, "popup-menu", (GCallback) _transfers_sidebar_menu_popup_gtk_widget_popup_menu, self, 0);
#line 160 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp34_ = self->priv->treeview;
#line 160 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_widget_show ((GtkWidget*) _tmp34_);
#line 161 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp35_ = self->priv->treeview;
#line 161 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_box_pack_start ((GtkBox*) self, (GtkWidget*) _tmp35_, TRUE, TRUE, (guint) 0);
#line 163 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp36_ = array;
#line 163 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp37_ = _g_object_ref0 (_tmp36_);
#line 163 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->priv->array);
#line 163 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->priv->array = _tmp37_;
#line 164 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp38_ = array;
#line 164 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object (_tmp38_, "add-item", (GCallback) _transfers_sidebar_transfer_added_katze_array_add_item, self, 0);
#line 165 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp39_ = array;
#line 165 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object (_tmp39_, "remove-item", (GCallback) _transfers_sidebar_transfer_removed_katze_array_remove_item, self, G_CONNECT_AFTER);
#line 166 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp40_ = array;
#line 166 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp41_ = katze_array_get_items (_tmp40_);
#line 1282 "transfers.c"
	{
		GList* item_collection = NULL;
		GList* item_it = NULL;
#line 166 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		item_collection = _tmp41_;
#line 166 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		for (item_it = item_collection; item_it != NULL; item_it = item_it->next) {
#line 1290 "transfers.c"
			GObject* _tmp42_;
			GObject* item = NULL;
#line 166 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp42_ = _g_object_ref0 ((GObject*) ((KatzeItem*) item_it->data));
#line 166 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			item = _tmp42_;
#line 1297 "transfers.c"
			{
				GObject* _tmp43_;
#line 167 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp43_ = item;
#line 167 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				transfers_sidebar_transfer_added (self, _tmp43_);
#line 166 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_g_object_unref0 (item);
#line 1306 "transfers.c"
			}
		}
#line 166 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_list_free0 (item_collection);
#line 1311 "transfers.c"
	}
#line 128 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (renderer_button);
#line 128 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (renderer_progress);
#line 128 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (renderer_icon);
#line 128 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (column);
#line 128 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return self;
#line 1323 "transfers.c"
}


TransfersSidebar* transfers_sidebar_new (KatzeArray* array) {
#line 128 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return transfers_sidebar_construct (TRANSFERS_TYPE_SIDEBAR, array);
#line 1330 "transfers.c"
}


static void transfers_sidebar_row_activated (TransfersSidebar* self, GtkTreePath* path, GtkTreeViewColumn* column) {
	GtkTreeIter iter = {0};
	GtkListStore* _tmp0_;
	GtkTreePath* _tmp1_;
	GtkTreeIter _tmp2_ = {0};
	gboolean _tmp3_ = FALSE;
	GError * _inner_error_ = NULL;
#line 170 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 170 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (path != NULL);
#line 170 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (column != NULL);
#line 172 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = self->priv->store;
#line 172 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = path;
#line 172 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp3_ = gtk_tree_model_get_iter ((GtkTreeModel*) _tmp0_, &_tmp2_, _tmp1_);
#line 172 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	iter = _tmp2_;
#line 172 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	if (_tmp3_) {
#line 1357 "transfers.c"
		TransfersTransfer* transfer = NULL;
		GtkListStore* _tmp4_;
		GtkTreeIter _tmp5_;
#line 174 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp4_ = self->priv->store;
#line 174 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp5_ = iter;
#line 174 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_tree_model_get ((GtkTreeModel*) _tmp4_, &_tmp5_, 0, &transfer, -1);
#line 1367 "transfers.c"
		{
			TransfersTransfer* _tmp6_;
			WebKitDownload* _tmp7_;
			GtkTreeView* _tmp8_;
			gboolean _tmp9_ = FALSE;
			gboolean _tmp10_;
#line 177 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp6_ = transfer;
#line 177 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp7_ = _tmp6_->download;
#line 177 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp8_ = self->priv->treeview;
#line 177 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp9_ = midori_download_action_clear (_tmp7_, (GtkWidget*) _tmp8_, &_inner_error_);
#line 177 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp10_ = _tmp9_;
#line 177 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			if (_inner_error_ != NULL) {
#line 1386 "transfers.c"
				goto __catch0_g_error;
			}
#line 177 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			if (_tmp10_) {
#line 1391 "transfers.c"
				TransfersTransfer* _tmp11_;
#line 178 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp11_ = transfer;
#line 178 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				g_signal_emit_by_name (_tmp11_, "remove");
#line 1397 "transfers.c"
			}
		}
		goto __finally0;
		__catch0_g_error:
		{
			GError* _error_ = NULL;
			const gchar* _tmp12_ = NULL;
			GError* _tmp13_;
			const gchar* _tmp14_;
#line 176 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_error_ = _inner_error_;
#line 176 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_inner_error_ = NULL;
#line 181 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp12_ = _ ("Failed to open download: %s");
#line 181 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp13_ = _error_;
#line 181 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp14_ = _tmp13_->message;
#line 181 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			g_warning (_tmp12_, _tmp14_);
#line 176 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_g_error_free0 (_error_);
#line 1421 "transfers.c"
		}
		__finally0:
#line 176 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		if (_inner_error_ != NULL) {
#line 176 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_g_object_unref0 (transfer);
#line 176 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 176 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			g_clear_error (&_inner_error_);
#line 176 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			return;
#line 1434 "transfers.c"
		}
#line 172 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_object_unref0 (transfer);
#line 1438 "transfers.c"
	}
}


static gboolean transfers_sidebar_button_released (TransfersSidebar* self, GdkEventButton* event) {
	gboolean result = FALSE;
	GdkEventButton _tmp0_;
	guint _tmp1_;
#line 186 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 186 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (event != NULL, FALSE);
#line 187 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = *event;
#line 187 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = _tmp0_.button;
#line 187 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	if (_tmp1_ == ((guint) 3)) {
#line 1457 "transfers.c"
		GdkEventButton _tmp2_;
		gboolean _tmp3_ = FALSE;
#line 188 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp2_ = *event;
#line 188 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp3_ = transfers_sidebar_show_popup_menu (self, &_tmp2_);
#line 188 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		result = _tmp3_;
#line 188 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		return result;
#line 1468 "transfers.c"
	}
#line 189 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	result = FALSE;
#line 189 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 1474 "transfers.c"
}


static gboolean transfers_sidebar_menu_popup (TransfersSidebar* self) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
#line 192 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 193 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = transfers_sidebar_show_popup_menu (self, NULL);
#line 193 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	result = _tmp0_;
#line 193 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 1489 "transfers.c"
}


static Block1Data* block1_data_ref (Block1Data* _data1_) {
#line 198 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_atomic_int_inc (&_data1_->_ref_count_);
#line 198 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return _data1_;
#line 1498 "transfers.c"
}


static void block1_data_unref (void * _userdata_) {
	Block1Data* _data1_;
	_data1_ = (Block1Data*) _userdata_;
#line 198 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	if (g_atomic_int_dec_and_test (&_data1_->_ref_count_)) {
#line 1507 "transfers.c"
		TransfersSidebar * self;
#line 198 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		self = _data1_->self;
#line 198 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_object_unref0 (_data1_->transfer);
#line 198 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_object_unref0 (self);
#line 198 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_slice_free (Block1Data, _data1_);
#line 1517 "transfers.c"
	}
}


static void ___lambda4_ (Block1Data* _data1_) {
	TransfersSidebar * self;
	GError * _inner_error_ = NULL;
#line 204 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self = _data1_->self;
#line 1527 "transfers.c"
	{
		TransfersTransfer* _tmp0_;
		WebKitDownload* _tmp1_;
		GtkTreeView* _tmp2_;
#line 206 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp0_ = _data1_->transfer;
#line 206 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp1_ = _tmp0_->download;
#line 206 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp2_ = self->priv->treeview;
#line 206 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		midori_download_open (_tmp1_, (GtkWidget*) _tmp2_, &_inner_error_);
#line 206 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		if (_inner_error_ != NULL) {
#line 1542 "transfers.c"
			goto __catch1_g_error;
		}
	}
	goto __finally1;
	__catch1_g_error:
	{
		GError* error_open = NULL;
		const gchar* _tmp3_ = NULL;
		GError* _tmp4_;
		const gchar* _tmp5_;
#line 205 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		error_open = _inner_error_;
#line 205 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_inner_error_ = NULL;
#line 208 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp3_ = _ ("Failed to open download: %s");
#line 208 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp4_ = error_open;
#line 208 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp5_ = _tmp4_->message;
#line 208 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_warning (_tmp3_, _tmp5_);
#line 205 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_error_free0 (error_open);
#line 1567 "transfers.c"
	}
	__finally1:
#line 205 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	if (_inner_error_ != NULL) {
#line 205 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 205 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_clear_error (&_inner_error_);
#line 205 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		return;
#line 1578 "transfers.c"
	}
}


static void ____lambda4__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
#line 204 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	___lambda4_ (self);
#line 1586 "transfers.c"
}


static void ___lambda5_ (Block1Data* _data1_) {
	TransfersSidebar * self;
	TransfersTransfer* _tmp0_;
	const gchar* _tmp1_;
	const gchar* _tmp2_;
	GFile* _tmp3_ = NULL;
	GFile* folder;
	MidoriBrowser* _tmp4_ = NULL;
	GtkWidget* _tmp5_;
	GtkWidget* _tmp6_;
	GFile* _tmp7_ = NULL;
	GFile* _tmp8_;
	gchar* _tmp9_ = NULL;
	gchar* _tmp10_;
	gboolean _tmp11_ = FALSE;
#line 215 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self = _data1_->self;
#line 216 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = _data1_->transfer;
#line 216 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = transfers_transfer_get_destination (_tmp0_);
#line 216 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = _tmp1_;
#line 216 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp3_ = g_file_new_for_uri (_tmp2_);
#line 216 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	folder = _tmp3_;
#line 217 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp4_ = midori_browser_get_for_widget ((GtkWidget*) self);
#line 217 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp5_ = midori_browser_get_tab (_tmp4_);
#line 217 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp6_ = _tmp5_;
#line 217 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp7_ = g_file_get_parent (folder);
#line 217 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp8_ = _tmp7_;
#line 217 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp9_ = g_file_get_uri (_tmp8_);
#line 217 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp10_ = _tmp9_;
#line 217 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_emit_by_name (G_TYPE_CHECK_INSTANCE_TYPE (_tmp6_, MIDORI_TYPE_TAB) ? ((MidoriTab*) _tmp6_) : NULL, "open-uri", _tmp10_, &_tmp11_);
#line 217 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_free0 (_tmp10_);
#line 217 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (_tmp8_);
#line 215 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (folder);
#line 1639 "transfers.c"
}


static void ____lambda5__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
#line 215 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	___lambda5_ (self);
#line 1646 "transfers.c"
}


static void ___lambda6_ (Block1Data* _data1_) {
	TransfersSidebar * self;
	TransfersTransfer* _tmp0_;
	const gchar* _tmp1_;
	const gchar* _tmp2_;
	gchar* _tmp3_;
	gchar* uri;
	GtkClipboard* _tmp4_ = NULL;
	GtkClipboard* _tmp5_ = NULL;
#line 221 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self = _data1_->self;
#line 222 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = _data1_->transfer;
#line 222 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = transfers_transfer_get_destination (_tmp0_);
#line 222 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = _tmp1_;
#line 222 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp3_ = g_strdup (_tmp2_);
#line 222 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	uri = _tmp3_;
#line 223 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp4_ = gtk_widget_get_clipboard ((GtkWidget*) self, GDK_SELECTION_PRIMARY);
#line 223 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_clipboard_set_text (_tmp4_, uri, -1);
#line 224 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp5_ = gtk_widget_get_clipboard ((GtkWidget*) self, GDK_SELECTION_CLIPBOARD);
#line 224 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_clipboard_set_text (_tmp5_, uri, -1);
#line 221 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_free0 (uri);
#line 1681 "transfers.c"
}


static void ____lambda6__gtk_menu_item_activate (GtkMenuItem* _sender, gpointer self) {
#line 221 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	___lambda6_ (self);
#line 1688 "transfers.c"
}


static gboolean transfers_sidebar_show_popup_menu (TransfersSidebar* self, GdkEventButton* event) {
	gboolean result = FALSE;
	GtkTreeIter iter = {0};
	GtkTreeView* _tmp0_;
	GtkTreeSelection* _tmp1_ = NULL;
	GtkTreeIter _tmp2_ = {0};
	gboolean _tmp3_ = FALSE;
#line 196 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 198 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = self->priv->treeview;
#line 198 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = gtk_tree_view_get_selection (_tmp0_);
#line 198 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp3_ = gtk_tree_selection_get_selected (_tmp1_, NULL, &_tmp2_);
#line 198 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	iter = _tmp2_;
#line 198 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	if (_tmp3_) {
#line 1711 "transfers.c"
		Block1Data* _data1_;
		GtkListStore* _tmp4_;
		GtkTreeIter _tmp5_;
		GtkMenu* _tmp6_;
		GtkMenu* menu;
		GtkImageMenuItem* _tmp7_;
		GtkImageMenuItem* menuitem;
		GtkImageMenuItem* _tmp8_;
		GtkImageMenuItem* _tmp9_;
		TransfersTransfer* _tmp10_;
		gboolean _tmp11_;
		gboolean _tmp12_;
		GtkMenu* _tmp13_;
		GtkImageMenuItem* _tmp14_;
		const gchar* _tmp15_ = NULL;
		GtkImageMenuItem* _tmp16_;
		GtkImageMenuItem* _tmp17_;
		GtkImage* _tmp18_;
		GtkImage* _tmp19_;
		GtkImageMenuItem* _tmp20_;
		GtkMenu* _tmp21_;
		GtkImageMenuItem* _tmp22_;
		const gchar* _tmp23_ = NULL;
		GtkImageMenuItem* _tmp24_;
		GtkImageMenuItem* _tmp25_;
		GtkImageMenuItem* _tmp26_;
		GtkImage* _tmp27_;
		GtkImage* _tmp28_;
		GtkMenu* _tmp29_;
		GtkImageMenuItem* _tmp30_;
		GtkMenu* _tmp31_;
		GtkTreeView* _tmp32_;
		GtkMenu* _tmp33_;
#line 198 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_data1_ = g_slice_new0 (Block1Data);
#line 198 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_data1_->_ref_count_ = 1;
#line 198 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_data1_->self = g_object_ref (self);
#line 200 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp4_ = self->priv->store;
#line 200 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp5_ = iter;
#line 200 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_tree_model_get ((GtkTreeModel*) _tmp4_, &_tmp5_, 0, &_data1_->transfer, -1);
#line 202 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp6_ = (GtkMenu*) gtk_menu_new ();
#line 202 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_object_ref_sink (_tmp6_);
#line 202 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		menu = _tmp6_;
#line 203 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp7_ = (GtkImageMenuItem*) gtk_image_menu_item_new_from_stock (GTK_STOCK_OPEN, NULL);
#line 203 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_object_ref_sink (_tmp7_);
#line 203 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		menuitem = _tmp7_;
#line 204 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp8_ = menuitem;
#line 204 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_signal_connect_data ((GtkMenuItem*) _tmp8_, "activate", (GCallback) ____lambda4__gtk_menu_item_activate, block1_data_ref (_data1_), (GClosureNotify) block1_data_unref, 0);
#line 211 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp9_ = menuitem;
#line 211 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp10_ = _data1_->transfer;
#line 211 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp11_ = transfers_transfer_get_succeeded (_tmp10_);
#line 211 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp12_ = _tmp11_;
#line 211 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_widget_set_sensitive ((GtkWidget*) _tmp9_, _tmp12_);
#line 212 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp13_ = menu;
#line 212 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp14_ = menuitem;
#line 212 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_menu_shell_append ((GtkMenuShell*) _tmp13_, (GtkWidget*) ((GtkMenuItem*) _tmp14_));
#line 213 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp15_ = _ ("Open Destination _Folder");
#line 213 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp16_ = (GtkImageMenuItem*) gtk_image_menu_item_new_with_mnemonic (_tmp15_);
#line 213 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_object_ref_sink (_tmp16_);
#line 213 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_object_unref0 (menuitem);
#line 213 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		menuitem = _tmp16_;
#line 214 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp17_ = menuitem;
#line 214 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp18_ = (GtkImage*) gtk_image_new_from_stock (GTK_STOCK_DIRECTORY, GTK_ICON_SIZE_MENU);
#line 214 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_object_ref_sink (_tmp18_);
#line 214 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp19_ = _tmp18_;
#line 214 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_image_menu_item_set_image (_tmp17_, (GtkWidget*) _tmp19_);
#line 214 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_object_unref0 (_tmp19_);
#line 215 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp20_ = menuitem;
#line 215 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_signal_connect_data ((GtkMenuItem*) _tmp20_, "activate", (GCallback) ____lambda5__gtk_menu_item_activate, block1_data_ref (_data1_), (GClosureNotify) block1_data_unref, 0);
#line 219 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp21_ = menu;
#line 219 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp22_ = menuitem;
#line 219 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_menu_shell_append ((GtkMenuShell*) _tmp21_, (GtkWidget*) ((GtkMenuItem*) _tmp22_));
#line 220 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp23_ = _ ("Copy Link Loc_ation");
#line 220 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp24_ = (GtkImageMenuItem*) gtk_image_menu_item_new_with_mnemonic (_tmp23_);
#line 220 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_object_ref_sink (_tmp24_);
#line 220 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_object_unref0 (menuitem);
#line 220 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		menuitem = _tmp24_;
#line 221 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp25_ = menuitem;
#line 221 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_signal_connect_data ((GtkMenuItem*) _tmp25_, "activate", (GCallback) ____lambda6__gtk_menu_item_activate, block1_data_ref (_data1_), (GClosureNotify) block1_data_unref, 0);
#line 226 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp26_ = menuitem;
#line 226 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp27_ = (GtkImage*) gtk_image_new_from_stock (GTK_STOCK_COPY, GTK_ICON_SIZE_MENU);
#line 226 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_object_ref_sink (_tmp27_);
#line 226 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp28_ = _tmp27_;
#line 226 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_image_menu_item_set_image (_tmp26_, (GtkWidget*) _tmp28_);
#line 226 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_object_unref0 (_tmp28_);
#line 227 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp29_ = menu;
#line 227 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp30_ = menuitem;
#line 227 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_menu_shell_append ((GtkMenuShell*) _tmp29_, (GtkWidget*) ((GtkMenuItem*) _tmp30_));
#line 228 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp31_ = menu;
#line 228 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_widget_show_all ((GtkWidget*) _tmp31_);
#line 229 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp32_ = self->priv->treeview;
#line 229 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp33_ = menu;
#line 229 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		katze_widget_popup ((GtkWidget*) _tmp32_, _tmp33_, NULL, KATZE_MENU_POSITION_CURSOR);
#line 231 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		result = TRUE;
#line 231 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_object_unref0 (menuitem);
#line 231 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_object_unref0 (menu);
#line 231 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		block1_data_unref (_data1_);
#line 231 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_data1_ = NULL;
#line 231 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		return result;
#line 1875 "transfers.c"
	}
#line 233 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	result = FALSE;
#line 233 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 1881 "transfers.c"
}


static gint transfers_sidebar_tree_sort_func (TransfersSidebar* self, GtkTreeModel* model, GtkTreeIter* a, GtkTreeIter* b) {
	gint result = 0;
	TransfersTransfer* transfer1 = NULL;
	TransfersTransfer* transfer2 = NULL;
	GtkTreeModel* _tmp0_;
	GtkTreeIter _tmp1_;
	GtkTreeModel* _tmp2_;
	GtkTreeIter _tmp3_;
	gint _tmp4_ = 0;
	TransfersTransfer* _tmp5_;
	gboolean _tmp6_;
	gboolean _tmp7_;
	gint _tmp8_ = 0;
	TransfersTransfer* _tmp9_;
	gboolean _tmp10_;
	gboolean _tmp11_;
	gint _tmp12_;
	gint _tmp13_;
#line 236 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 236 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (model != NULL, 0);
#line 236 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (a != NULL, 0);
#line 236 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (b != NULL, 0);
#line 238 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = model;
#line 238 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = *a;
#line 238 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_tree_model_get (_tmp0_, &_tmp1_, 0, &transfer1, -1);
#line 239 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = model;
#line 239 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp3_ = *b;
#line 239 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_tree_model_get (_tmp2_, &_tmp3_, 0, &transfer2, -1);
#line 240 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp5_ = transfer1;
#line 240 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp6_ = transfers_transfer_get_finished (_tmp5_);
#line 240 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp7_ = _tmp6_;
#line 240 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	if (_tmp7_) {
#line 240 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp4_ = 1;
#line 1933 "transfers.c"
	} else {
#line 240 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp4_ = 0;
#line 1937 "transfers.c"
	}
#line 240 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp9_ = transfer2;
#line 240 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp10_ = transfers_transfer_get_finished (_tmp9_);
#line 240 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp11_ = _tmp10_;
#line 240 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	if (_tmp11_) {
#line 240 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp8_ = 1;
#line 1949 "transfers.c"
	} else {
#line 240 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp8_ = 0;
#line 1953 "transfers.c"
	}
#line 240 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp12_ = _tmp4_;
#line 240 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp13_ = _tmp8_;
#line 240 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	result = _tmp12_ - _tmp13_;
#line 240 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (transfer2);
#line 240 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (transfer1);
#line 240 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 1967 "transfers.c"
}


static void transfers_sidebar_transfer_changed (TransfersSidebar* self) {
	GtkTreeView* _tmp0_;
#line 243 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 244 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = self->priv->treeview;
#line 244 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_widget_queue_draw ((GtkWidget*) _tmp0_);
#line 1979 "transfers.c"
}


static void _transfers_sidebar_transfer_changed_transfers_transfer_changed (TransfersTransfer* _sender, gpointer self) {
#line 252 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_sidebar_transfer_changed (self);
#line 1986 "transfers.c"
}


static void transfers_sidebar_transfer_added (TransfersSidebar* self, GObject* item) {
	GObject* _tmp0_;
	TransfersTransfer* _tmp1_;
	TransfersTransfer* transfer;
	GtkTreeIter iter = {0};
	GtkListStore* _tmp2_;
	GtkTreeIter _tmp3_ = {0};
	GtkListStore* _tmp4_;
	GtkTreeIter _tmp5_;
	GtkToolButton* _tmp6_;
#line 247 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 247 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (item != NULL);
#line 248 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = item;
#line 248 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp0_, TRANSFERS_TYPE_TRANSFER) ? ((TransfersTransfer*) _tmp0_) : NULL);
#line 248 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfer = _tmp1_;
#line 250 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = self->priv->store;
#line 250 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_list_store_append (_tmp2_, &_tmp3_);
#line 250 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	iter = _tmp3_;
#line 251 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp4_ = self->priv->store;
#line 251 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp5_ = iter;
#line 251 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_list_store_set (_tmp4_, &_tmp5_, 0, transfer, -1);
#line 252 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object (transfer, "changed", (GCallback) _transfers_sidebar_transfer_changed_transfers_transfer_changed, self, 0);
#line 253 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp6_ = self->priv->clear;
#line 253 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_widget_set_sensitive ((GtkWidget*) _tmp6_, TRUE);
#line 247 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (transfer);
#line 2030 "transfers.c"
}


static void transfers_sidebar_transfer_removed (TransfersSidebar* self, GObject* item) {
	GObject* _tmp0_;
	TransfersTransfer* _tmp1_;
	TransfersTransfer* transfer;
	TransfersTransfer* _tmp2_;
	guint _tmp3_ = 0U;
	GtkTreeIter iter = {0};
	GtkListStore* _tmp4_;
	GtkTreeIter _tmp5_ = {0};
	gboolean _tmp6_ = FALSE;
	KatzeArray* _tmp17_;
	gboolean _tmp18_ = FALSE;
#line 256 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 256 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (item != NULL);
#line 257 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = item;
#line 257 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp0_, TRANSFERS_TYPE_TRANSFER) ? ((TransfersTransfer*) _tmp0_) : NULL);
#line 257 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfer = _tmp1_;
#line 258 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = transfer;
#line 258 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_parse_name ("changed", TRANSFERS_TYPE_TRANSFER, &_tmp3_, NULL, FALSE);
#line 258 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_handlers_disconnect_matched (_tmp2_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp3_, 0, NULL, (GCallback) _transfers_sidebar_transfer_changed_transfers_transfer_changed, self);
#line 260 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp4_ = self->priv->store;
#line 260 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp6_ = gtk_tree_model_iter_children ((GtkTreeModel*) _tmp4_, &_tmp5_, NULL);
#line 260 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	iter = _tmp5_;
#line 260 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	if (_tmp6_) {
#line 2070 "transfers.c"
		{
			gboolean _tmp7_;
#line 261 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp7_ = TRUE;
#line 261 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			while (TRUE) {
#line 2077 "transfers.c"
				gboolean _tmp8_;
				TransfersTransfer* found = NULL;
				GtkListStore* _tmp11_;
				GtkTreeIter _tmp12_;
				TransfersTransfer* _tmp13_;
				TransfersTransfer* _tmp14_;
#line 261 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp8_ = _tmp7_;
#line 261 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				if (!_tmp8_) {
#line 2088 "transfers.c"
					GtkListStore* _tmp9_;
					gboolean _tmp10_ = FALSE;
#line 268 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
					_tmp9_ = self->priv->store;
#line 268 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
					_tmp10_ = gtk_tree_model_iter_next ((GtkTreeModel*) _tmp9_, &iter);
#line 268 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
					if (!_tmp10_) {
#line 268 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
						break;
#line 2099 "transfers.c"
					}
				}
#line 261 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp7_ = FALSE;
#line 263 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp11_ = self->priv->store;
#line 263 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp12_ = iter;
#line 263 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				gtk_tree_model_get ((GtkTreeModel*) _tmp11_, &_tmp12_, 0, &found, -1);
#line 264 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp13_ = transfer;
#line 264 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp14_ = found;
#line 264 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				if (_tmp13_ == _tmp14_) {
#line 2116 "transfers.c"
					GtkListStore* _tmp15_;
					GtkTreeIter _tmp16_;
#line 265 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
					_tmp15_ = self->priv->store;
#line 265 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
					_tmp16_ = iter;
#line 265 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
					gtk_list_store_remove (_tmp15_, &_tmp16_);
#line 266 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
					_g_object_unref0 (found);
#line 266 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
					break;
#line 2129 "transfers.c"
				}
#line 261 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_g_object_unref0 (found);
#line 2133 "transfers.c"
			}
		}
	}
#line 270 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp17_ = self->priv->array;
#line 270 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp18_ = katze_array_is_empty (_tmp17_);
#line 270 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	if (_tmp18_) {
#line 2143 "transfers.c"
		GtkToolButton* _tmp19_;
#line 271 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp19_ = self->priv->clear;
#line 271 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_widget_set_sensitive ((GtkWidget*) _tmp19_, FALSE);
#line 2149 "transfers.c"
	}
#line 256 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (transfer);
#line 2153 "transfers.c"
}


static void transfers_sidebar_on_render_icon (TransfersSidebar* self, GtkCellLayout* column, GtkCellRenderer* renderer, GtkTreeModel* model, GtkTreeIter* iter) {
	TransfersTransfer* transfer = NULL;
	GtkTreeModel* _tmp0_;
	GtkTreeIter _tmp1_;
	WebKitDownload* _tmp2_;
	gchar* _tmp3_ = NULL;
	gchar* content_type;
	GIcon* _tmp4_ = NULL;
	GThemedIcon* _tmp5_;
	GThemedIcon* icon;
	GtkCellRenderer* _tmp6_;
#line 274 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 274 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (column != NULL);
#line 274 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (renderer != NULL);
#line 274 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (model != NULL);
#line 274 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (iter != NULL);
#line 278 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = model;
#line 278 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = *iter;
#line 278 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_tree_model_get (_tmp0_, &_tmp1_, 0, &transfer, -1);
#line 279 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = transfer->download;
#line 279 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp3_ = midori_download_get_content_type (_tmp2_, NULL);
#line 279 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	content_type = _tmp3_;
#line 280 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp4_ = g_content_type_get_icon (content_type);
#line 280 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp5_ = G_TYPE_CHECK_INSTANCE_TYPE (_tmp4_, g_themed_icon_get_type ()) ? ((GThemedIcon*) _tmp4_) : NULL;
#line 280 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	if (_tmp5_ == NULL) {
#line 280 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_object_unref0 (_tmp4_);
#line 2198 "transfers.c"
	}
#line 280 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	icon = _tmp5_;
#line 281 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_themed_icon_append_name (icon, "text-html");
#line 282 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp6_ = renderer;
#line 282 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_set ((GObject*) _tmp6_, "gicon", icon, "stock-size", GTK_ICON_SIZE_DND, "xpad", 1, "ypad", 12, NULL);
#line 274 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (icon);
#line 274 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_free0 (content_type);
#line 274 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (transfer);
#line 2214 "transfers.c"
}


static void transfers_sidebar_on_render_text (TransfersSidebar* self, GtkCellLayout* column, GtkCellRenderer* renderer, GtkTreeModel* model, GtkTreeIter* iter) {
	TransfersTransfer* transfer = NULL;
	GtkTreeModel* _tmp0_;
	GtkTreeIter _tmp1_;
	WebKitDownload* _tmp2_;
	gchar* _tmp3_ = NULL;
	gchar* tooltip;
	GtkCellRenderer* _tmp4_;
	gdouble _tmp5_;
	gdouble _tmp6_;
#line 287 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 287 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (column != NULL);
#line 287 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (renderer != NULL);
#line 287 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (model != NULL);
#line 287 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (iter != NULL);
#line 291 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = model;
#line 291 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = *iter;
#line 291 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_tree_model_get (_tmp0_, &_tmp1_, 0, &transfer, -1);
#line 292 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = transfer->download;
#line 292 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp3_ = midori_download_get_tooltip (_tmp2_);
#line 292 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	tooltip = _tmp3_;
#line 293 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp4_ = renderer;
#line 293 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp5_ = transfers_transfer_get_progress (transfer);
#line 293 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp6_ = _tmp5_;
#line 293 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_set ((GObject*) _tmp4_, "text", tooltip, "value", (gint) (_tmp6_ * 100), NULL);
#line 287 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_free0 (tooltip);
#line 287 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (transfer);
#line 2262 "transfers.c"
}


static void transfers_sidebar_on_render_button (TransfersSidebar* self, GtkCellLayout* column, GtkCellRenderer* renderer, GtkTreeModel* model, GtkTreeIter* iter) {
	TransfersTransfer* transfer = NULL;
	GtkTreeModel* _tmp0_;
	GtkTreeIter _tmp1_;
	WebKitDownload* _tmp2_;
	gchar* _tmp3_ = NULL;
	gchar* stock_id;
	GtkCellRenderer* _tmp4_;
#line 297 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 297 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (column != NULL);
#line 297 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (renderer != NULL);
#line 297 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (model != NULL);
#line 297 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (iter != NULL);
#line 301 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = model;
#line 301 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = *iter;
#line 301 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_tree_model_get (_tmp0_, &_tmp1_, 0, &transfer, -1);
#line 302 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = transfer->download;
#line 302 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp3_ = midori_download_action_stock_id (_tmp2_);
#line 302 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	stock_id = _tmp3_;
#line 303 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp4_ = renderer;
#line 303 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_set ((GObject*) _tmp4_, "stock-id", stock_id, "stock-size", GTK_ICON_SIZE_MENU, NULL);
#line 297 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_free0 (stock_id);
#line 297 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (transfer);
#line 2304 "transfers.c"
}


static void transfers_sidebar_class_init (TransfersSidebarClass * klass) {
#line 85 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_sidebar_parent_class = g_type_class_peek_parent (klass);
#line 85 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_type_class_add_private (klass, sizeof (TransfersSidebarPrivate));
#line 85 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	G_OBJECT_CLASS (klass)->finalize = transfers_sidebar_finalize;
#line 2315 "transfers.c"
}


static void transfers_sidebar_midori_viewable_interface_init (MidoriViewableIface * iface) {
#line 85 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_sidebar_midori_viewable_parent_iface = g_type_interface_peek_parent (iface);
#line 85 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	iface->get_stock_id = (const gchar* (*)(MidoriViewable*)) transfers_sidebar_real_get_stock_id;
#line 85 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	iface->get_label = (const gchar* (*)(MidoriViewable*)) transfers_sidebar_real_get_label;
#line 85 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	iface->get_toolbar = (GtkWidget* (*)(MidoriViewable*)) transfers_sidebar_real_get_toolbar;
#line 2328 "transfers.c"
}


static void transfers_sidebar_instance_init (TransfersSidebar * self) {
	GtkListStore* _tmp0_;
#line 85 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->priv = TRANSFERS_SIDEBAR_GET_PRIVATE (self);
#line 86 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->priv->toolbar = NULL;
#line 88 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = gtk_list_store_new (1, TRANSFERS_TYPE_TRANSFER);
#line 88 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->priv->store = _tmp0_;
#line 2342 "transfers.c"
}


static void transfers_sidebar_finalize (GObject* obj) {
	TransfersSidebar * self;
#line 85 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TRANSFERS_TYPE_SIDEBAR, TransfersSidebar);
#line 86 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->priv->toolbar);
#line 87 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->priv->clear);
#line 88 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->priv->store);
#line 89 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->priv->treeview);
#line 90 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->priv->array);
#line 85 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	G_OBJECT_CLASS (transfers_sidebar_parent_class)->finalize (obj);
#line 2362 "transfers.c"
}


GType transfers_sidebar_get_type (void) {
	static volatile gsize transfers_sidebar_type_id__volatile = 0;
	if (g_once_init_enter (&transfers_sidebar_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (TransfersSidebarClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) transfers_sidebar_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (TransfersSidebar), 0, (GInstanceInitFunc) transfers_sidebar_instance_init, NULL };
		static const GInterfaceInfo midori_viewable_info = { (GInterfaceInitFunc) transfers_sidebar_midori_viewable_interface_init, (GInterfaceFinalizeFunc) NULL, NULL};
		GType transfers_sidebar_type_id;
		transfers_sidebar_type_id = g_type_register_static (GTK_TYPE_VBOX, "TransfersSidebar", &g_define_type_info, 0);
		g_type_add_interface_static (transfers_sidebar_type_id, MIDORI_TYPE_VIEWABLE, &midori_viewable_info);
		g_once_init_leave (&transfers_sidebar_type_id__volatile, transfers_sidebar_type_id);
	}
	return transfers_sidebar_type_id__volatile;
}


static void _transfers_transfer_button_button_clicked_gtk_button_clicked (GtkButton* _sender, gpointer self) {
#line 334 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_transfer_button_button_clicked (self);
#line 2383 "transfers.c"
}


static void _transfers_transfer_button_transfer_changed_transfers_transfer_changed (TransfersTransfer* _sender, gpointer self) {
#line 341 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_transfer_button_transfer_changed (self);
#line 2390 "transfers.c"
}


static void _transfers_transfer_button_transfer_removed_transfers_transfer_removed (TransfersTransfer* _sender, gpointer self) {
#line 343 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_transfer_button_transfer_removed (self);
#line 2397 "transfers.c"
}


TransfersTransferButton* transfers_transfer_button_construct (GType object_type, TransfersTransfer* transfer) {
	TransfersTransferButton * self = NULL;
	TransfersTransfer* _tmp0_;
	TransfersTransfer* _tmp1_;
	GtkHBox* _tmp2_;
	GtkHBox* box;
	GtkProgressBar* _tmp3_;
	GtkProgressBar* _tmp4_;
	GtkProgressBar* _tmp5_;
	TransfersTransfer* _tmp6_;
	const gchar* _tmp7_;
	const gchar* _tmp8_;
	gchar* _tmp9_ = NULL;
	gchar* filename;
	GtkProgressBar* _tmp10_;
	gint width = 0;
	GtkProgressBar* _tmp11_;
	gint _tmp12_ = 0;
	GtkProgressBar* _tmp13_;
	GtkProgressBar* _tmp14_;
	GtkImage* _tmp15_;
	GtkButton* _tmp16_;
	GtkButton* _tmp17_;
	GtkButton* _tmp18_;
	GtkButton* _tmp19_;
	GtkButton* _tmp20_;
	GtkImage* _tmp21_;
	GtkButton* _tmp22_;
	TransfersTransfer* _tmp23_;
	TransfersTransfer* _tmp24_;
#line 314 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (transfer != NULL, NULL);
#line 314 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self = (TransfersTransferButton*) g_object_new (object_type, NULL);
#line 315 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = transfer;
#line 315 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 315 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->priv->transfer);
#line 315 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->priv->transfer = _tmp1_;
#line 317 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = (GtkHBox*) gtk_hbox_new (FALSE, 0);
#line 317 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_ref_sink (_tmp2_);
#line 317 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	box = _tmp2_;
#line 318 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp3_ = (GtkProgressBar*) gtk_progress_bar_new ();
#line 318 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_ref_sink (_tmp3_);
#line 318 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->priv->progress);
#line 318 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->priv->progress = _tmp3_;
#line 320 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp4_ = self->priv->progress;
#line 320 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_progress_bar_set_show_text (_tmp4_, TRUE);
#line 322 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp5_ = self->priv->progress;
#line 322 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_progress_bar_set_ellipsize (_tmp5_, PANGO_ELLIPSIZE_MIDDLE);
#line 323 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp6_ = transfer;
#line 323 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp7_ = transfers_transfer_get_destination (_tmp6_);
#line 323 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp8_ = _tmp7_;
#line 323 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp9_ = midori_download_get_basename_for_display (_tmp8_);
#line 323 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	filename = _tmp9_;
#line 324 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp10_ = self->priv->progress;
#line 324 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_progress_bar_set_text (_tmp10_, filename);
#line 326 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp11_ = self->priv->progress;
#line 326 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	sokoke_widget_get_text_size ((GtkWidget*) _tmp11_, "M", &_tmp12_, NULL);
#line 326 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	width = _tmp12_;
#line 327 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp13_ = self->priv->progress;
#line 327 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_widget_set_size_request ((GtkWidget*) _tmp13_, width * 10, 1);
#line 328 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp14_ = self->priv->progress;
#line 328 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_box_pack_start ((GtkBox*) box, (GtkWidget*) _tmp14_, FALSE, FALSE, (guint) 0);
#line 330 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp15_ = (GtkImage*) gtk_image_new ();
#line 330 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_ref_sink (_tmp15_);
#line 330 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->priv->icon);
#line 330 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->priv->icon = _tmp15_;
#line 331 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp16_ = (GtkButton*) gtk_button_new ();
#line 331 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_ref_sink (_tmp16_);
#line 331 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->priv->button);
#line 331 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->priv->button = _tmp16_;
#line 332 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp17_ = self->priv->button;
#line 332 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_button_set_relief (_tmp17_, GTK_RELIEF_NONE);
#line 333 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp18_ = self->priv->button;
#line 333 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_button_set_focus_on_click (_tmp18_, FALSE);
#line 334 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp19_ = self->priv->button;
#line 334 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object (_tmp19_, "clicked", (GCallback) _transfers_transfer_button_button_clicked_gtk_button_clicked, self, 0);
#line 335 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp20_ = self->priv->button;
#line 335 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp21_ = self->priv->icon;
#line 335 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_container_add ((GtkContainer*) _tmp20_, (GtkWidget*) _tmp21_);
#line 336 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp22_ = self->priv->button;
#line 336 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_box_pack_start ((GtkBox*) box, (GtkWidget*) _tmp22_, FALSE, FALSE, (guint) 0);
#line 338 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_container_add ((GtkContainer*) self, (GtkWidget*) box);
#line 339 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_widget_show_all ((GtkWidget*) self);
#line 341 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp23_ = transfer;
#line 341 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object (_tmp23_, "changed", (GCallback) _transfers_transfer_button_transfer_changed_transfers_transfer_changed, self, 0);
#line 342 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_transfer_button_transfer_changed (self);
#line 343 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp24_ = transfer;
#line 343 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object (_tmp24_, "removed", (GCallback) _transfers_transfer_button_transfer_removed_transfers_transfer_removed, self, 0);
#line 314 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_free0 (filename);
#line 314 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (box);
#line 314 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return self;
#line 2551 "transfers.c"
}


TransfersTransferButton* transfers_transfer_button_new (TransfersTransfer* transfer) {
#line 314 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return transfers_transfer_button_construct (TRANSFERS_TYPE_TRANSFER_BUTTON, transfer);
#line 2558 "transfers.c"
}


static void transfers_transfer_button_button_clicked (TransfersTransferButton* self) {
	GError * _inner_error_ = NULL;
#line 346 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 2566 "transfers.c"
	{
		TransfersTransfer* _tmp0_;
		WebKitDownload* _tmp1_;
		GtkButton* _tmp2_;
		gboolean _tmp3_ = FALSE;
		gboolean _tmp4_;
#line 348 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp0_ = self->priv->transfer;
#line 348 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp1_ = _tmp0_->download;
#line 348 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp2_ = self->priv->button;
#line 348 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp3_ = midori_download_action_clear (_tmp1_, (GtkWidget*) _tmp2_, &_inner_error_);
#line 348 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp4_ = _tmp3_;
#line 348 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		if (_inner_error_ != NULL) {
#line 2585 "transfers.c"
			goto __catch2_g_error;
		}
#line 348 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		if (_tmp4_) {
#line 2590 "transfers.c"
			TransfersTransfer* _tmp5_;
#line 349 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp5_ = self->priv->transfer;
#line 349 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			g_signal_emit_by_name (_tmp5_, "remove");
#line 2596 "transfers.c"
		}
	}
	goto __finally2;
	__catch2_g_error:
	{
		GError* _error_ = NULL;
		const gchar* _tmp6_ = NULL;
		GError* _tmp7_;
		const gchar* _tmp8_;
#line 347 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_error_ = _inner_error_;
#line 347 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_inner_error_ = NULL;
#line 352 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp6_ = _ ("Failed to open download: %s");
#line 352 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp7_ = _error_;
#line 352 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp8_ = _tmp7_->message;
#line 352 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_warning (_tmp6_, _tmp8_);
#line 347 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_error_free0 (_error_);
#line 2620 "transfers.c"
	}
	__finally2:
#line 347 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	if (_inner_error_ != NULL) {
#line 347 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 347 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_clear_error (&_inner_error_);
#line 347 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		return;
#line 2631 "transfers.c"
	}
}


static void transfers_transfer_button_transfer_changed (TransfersTransferButton* self) {
	GtkProgressBar* _tmp0_;
	TransfersTransfer* _tmp1_;
	WebKitDownload* _tmp2_;
	gdouble _tmp3_ = 0.0;
	GtkProgressBar* _tmp4_;
	TransfersTransfer* _tmp5_;
	WebKitDownload* _tmp6_;
	gchar* _tmp7_ = NULL;
	gchar* _tmp8_;
	TransfersTransfer* _tmp9_;
	WebKitDownload* _tmp10_;
	gchar* _tmp11_ = NULL;
	gchar* stock_id;
	GtkImage* _tmp12_;
#line 356 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 357 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = self->priv->progress;
#line 357 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = self->priv->transfer;
#line 357 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = _tmp1_->download;
#line 357 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp3_ = midori_download_get_progress (_tmp2_);
#line 357 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_progress_bar_set_fraction (_tmp0_, _tmp3_);
#line 358 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp4_ = self->priv->progress;
#line 358 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp5_ = self->priv->transfer;
#line 358 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp6_ = _tmp5_->download;
#line 358 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp7_ = midori_download_get_tooltip (_tmp6_);
#line 358 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp8_ = _tmp7_;
#line 358 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_widget_set_tooltip_text ((GtkWidget*) _tmp4_, _tmp8_);
#line 358 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_free0 (_tmp8_);
#line 359 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp9_ = self->priv->transfer;
#line 359 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp10_ = _tmp9_->download;
#line 359 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp11_ = midori_download_action_stock_id (_tmp10_);
#line 359 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	stock_id = _tmp11_;
#line 360 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp12_ = self->priv->icon;
#line 360 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_image_set_from_stock (_tmp12_, stock_id, GTK_ICON_SIZE_MENU);
#line 356 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_free0 (stock_id);
#line 2691 "transfers.c"
}


static void transfers_transfer_button_transfer_removed (TransfersTransferButton* self) {
#line 363 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 364 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_widget_destroy ((GtkWidget*) self);
#line 2700 "transfers.c"
}


static void transfers_transfer_button_class_init (TransfersTransferButtonClass * klass) {
#line 308 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_transfer_button_parent_class = g_type_class_peek_parent (klass);
#line 308 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_type_class_add_private (klass, sizeof (TransfersTransferButtonPrivate));
#line 308 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	G_OBJECT_CLASS (klass)->finalize = transfers_transfer_button_finalize;
#line 2711 "transfers.c"
}


static void transfers_transfer_button_instance_init (TransfersTransferButton * self) {
#line 308 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->priv = TRANSFERS_TRANSFER_BUTTON_GET_PRIVATE (self);
#line 2718 "transfers.c"
}


static void transfers_transfer_button_finalize (GObject* obj) {
	TransfersTransferButton * self;
#line 308 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TRANSFERS_TYPE_TRANSFER_BUTTON, TransfersTransferButton);
#line 309 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->priv->transfer);
#line 310 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->priv->progress);
#line 311 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->priv->icon);
#line 312 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->priv->button);
#line 308 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	G_OBJECT_CLASS (transfers_transfer_button_parent_class)->finalize (obj);
#line 2736 "transfers.c"
}


GType transfers_transfer_button_get_type (void) {
	static volatile gsize transfers_transfer_button_type_id__volatile = 0;
	if (g_once_init_enter (&transfers_transfer_button_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (TransfersTransferButtonClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) transfers_transfer_button_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (TransfersTransferButton), 0, (GInstanceInitFunc) transfers_transfer_button_instance_init, NULL };
		GType transfers_transfer_button_type_id;
		transfers_transfer_button_type_id = g_type_register_static (GTK_TYPE_TOOL_ITEM, "TransfersTransferButton", &g_define_type_info, 0);
		g_once_init_leave (&transfers_transfer_button_type_id__volatile, transfers_transfer_button_type_id);
	}
	return transfers_transfer_button_type_id__volatile;
}


static void transfers_toolbar_clear_clicked (TransfersToolbar* self) {
	KatzeArray* _tmp0_;
	GList* _tmp1_ = NULL;
#line 372 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 373 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = self->priv->array;
#line 373 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = katze_array_get_items (_tmp0_);
#line 2761 "transfers.c"
	{
		GList* item_collection = NULL;
		GList* item_it = NULL;
#line 373 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		item_collection = _tmp1_;
#line 373 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		for (item_it = item_collection; item_it != NULL; item_it = item_it->next) {
#line 2769 "transfers.c"
			GObject* _tmp2_;
			GObject* item = NULL;
#line 373 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp2_ = _g_object_ref0 ((GObject*) ((KatzeItem*) item_it->data));
#line 373 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			item = _tmp2_;
#line 2776 "transfers.c"
			{
				GObject* _tmp3_;
				TransfersTransfer* _tmp4_;
				TransfersTransfer* transfer;
				TransfersTransfer* _tmp5_;
				gboolean _tmp6_;
				gboolean _tmp7_;
#line 374 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp3_ = item;
#line 374 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp4_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp3_, TRANSFERS_TYPE_TRANSFER) ? ((TransfersTransfer*) _tmp3_) : NULL);
#line 374 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				transfer = _tmp4_;
#line 375 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp5_ = transfer;
#line 375 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp6_ = transfers_transfer_get_finished (_tmp5_);
#line 375 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp7_ = _tmp6_;
#line 375 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				if (_tmp7_) {
#line 2798 "transfers.c"
					KatzeArray* _tmp8_;
					GObject* _tmp9_;
#line 376 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
					_tmp8_ = self->priv->array;
#line 376 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
					_tmp9_ = item;
#line 376 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
					g_signal_emit_by_name (_tmp8_, "remove-item", _tmp9_);
#line 2807 "transfers.c"
				}
#line 373 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_g_object_unref0 (transfer);
#line 373 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_g_object_unref0 (item);
#line 2813 "transfers.c"
			}
		}
#line 373 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_list_free0 (item_collection);
#line 2818 "transfers.c"
	}
}


static void _transfers_toolbar_clear_clicked_gtk_tool_button_clicked (GtkToolButton* _sender, gpointer self) {
#line 388 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_toolbar_clear_clicked (self);
#line 2826 "transfers.c"
}


static void _transfers_toolbar_transfer_added_katze_array_add_item (KatzeArray* _sender, GObject* item, gpointer self) {
#line 395 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_toolbar_transfer_added (self, item);
#line 2833 "transfers.c"
}


static void _transfers_toolbar_transfer_removed_katze_array_remove_item (KatzeArray* _sender, GObject* item, gpointer self) {
#line 396 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_toolbar_transfer_removed (self, item);
#line 2840 "transfers.c"
}


TransfersToolbar* transfers_toolbar_construct (GType object_type, KatzeArray* array) {
	TransfersToolbar * self = NULL;
	GtkToolButton* _tmp0_;
	GtkToolButton* _tmp1_;
	const gchar* _tmp2_ = NULL;
	GtkToolButton* _tmp3_;
	GtkToolButton* _tmp4_;
	GtkToolButton* _tmp5_;
	KatzeArray* _tmp6_;
	gboolean _tmp7_ = FALSE;
	GtkToolButton* _tmp8_;
	GtkToolButton* _tmp9_;
	GtkToolButton* _tmp10_;
	KatzeArray* _tmp11_;
	KatzeArray* _tmp12_;
	KatzeArray* _tmp13_;
	KatzeArray* _tmp14_;
	KatzeArray* _tmp15_;
	GList* _tmp16_ = NULL;
#line 380 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (array != NULL, NULL);
#line 380 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self = (TransfersToolbar*) g_object_new (object_type, NULL);
#line 381 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_toolbar_set_icon_size ((GtkToolbar*) self, GTK_ICON_SIZE_BUTTON);
#line 382 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_toolbar_set_style ((GtkToolbar*) self, GTK_TOOLBAR_BOTH_HORIZ);
#line 383 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_toolbar_set_show_arrow ((GtkToolbar*) self, FALSE);
#line 385 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = (GtkToolButton*) gtk_tool_button_new_from_stock (GTK_STOCK_CLEAR);
#line 385 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_ref_sink (_tmp0_);
#line 385 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->priv->clear);
#line 385 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->priv->clear = _tmp0_;
#line 386 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = self->priv->clear;
#line 386 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = _ ("Clear All");
#line 386 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_tool_button_set_label (_tmp1_, _tmp2_);
#line 387 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp3_ = self->priv->clear;
#line 387 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_tool_item_set_is_important ((GtkToolItem*) _tmp3_, TRUE);
#line 388 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp4_ = self->priv->clear;
#line 388 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object (_tmp4_, "clicked", (GCallback) _transfers_toolbar_clear_clicked_gtk_tool_button_clicked, self, 0);
#line 389 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp5_ = self->priv->clear;
#line 389 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp6_ = array;
#line 389 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp7_ = katze_array_is_empty (_tmp6_);
#line 389 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_widget_set_sensitive ((GtkWidget*) _tmp5_, !_tmp7_);
#line 390 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp8_ = self->priv->clear;
#line 390 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_toolbar_insert ((GtkToolbar*) self, (GtkToolItem*) _tmp8_, -1);
#line 391 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp9_ = self->priv->clear;
#line 391 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_widget_show ((GtkWidget*) _tmp9_);
#line 392 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp10_ = self->priv->clear;
#line 392 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_widget_set_sensitive ((GtkWidget*) _tmp10_, FALSE);
#line 394 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp11_ = array;
#line 394 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp12_ = _g_object_ref0 (_tmp11_);
#line 394 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->priv->array);
#line 394 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->priv->array = _tmp12_;
#line 395 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp13_ = array;
#line 395 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object (_tmp13_, "add-item", (GCallback) _transfers_toolbar_transfer_added_katze_array_add_item, self, 0);
#line 396 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp14_ = array;
#line 396 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object (_tmp14_, "remove-item", (GCallback) _transfers_toolbar_transfer_removed_katze_array_remove_item, self, G_CONNECT_AFTER);
#line 397 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp15_ = array;
#line 397 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp16_ = katze_array_get_items (_tmp15_);
#line 2935 "transfers.c"
	{
		GList* item_collection = NULL;
		GList* item_it = NULL;
#line 397 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		item_collection = _tmp16_;
#line 397 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		for (item_it = item_collection; item_it != NULL; item_it = item_it->next) {
#line 2943 "transfers.c"
			GObject* _tmp17_;
			GObject* item = NULL;
#line 397 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp17_ = _g_object_ref0 ((GObject*) ((KatzeItem*) item_it->data));
#line 397 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			item = _tmp17_;
#line 2950 "transfers.c"
			{
				GObject* _tmp18_;
#line 398 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp18_ = item;
#line 398 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				transfers_toolbar_transfer_added (self, _tmp18_);
#line 397 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_g_object_unref0 (item);
#line 2959 "transfers.c"
			}
		}
#line 397 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_list_free0 (item_collection);
#line 2964 "transfers.c"
	}
#line 380 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return self;
#line 2968 "transfers.c"
}


TransfersToolbar* transfers_toolbar_new (KatzeArray* array) {
#line 380 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return transfers_toolbar_construct (TRANSFERS_TYPE_TOOLBAR, array);
#line 2975 "transfers.c"
}


static void transfers_toolbar_transfer_added (TransfersToolbar* self, GObject* item) {
	GObject* _tmp0_;
	TransfersTransfer* _tmp1_;
	TransfersTransfer* transfer;
	TransfersTransfer* _tmp2_;
	TransfersTransferButton* _tmp3_;
	TransfersTransferButton* _tmp4_;
	GtkToolButton* _tmp5_;
	GtkRequisition req = {0};
	GtkContainer* _tmp6_;
	GtkContainer* _tmp7_;
	GtkRequisition _tmp8_ = {0};
	GtkRequisition _tmp9_;
	gint _tmp10_;
	gint reqwidth;
	gint winwidth = 0;
	GtkWidget* _tmp11_ = NULL;
	gint _tmp12_ = 0;
	gint _tmp13_;
	gint _tmp14_;
#line 401 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 401 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (item != NULL);
#line 402 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = item;
#line 402 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp0_, TRANSFERS_TYPE_TRANSFER) ? ((TransfersTransfer*) _tmp0_) : NULL);
#line 402 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfer = _tmp1_;
#line 404 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = transfer;
#line 404 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp3_ = transfers_transfer_button_new (_tmp2_);
#line 404 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_ref_sink (_tmp3_);
#line 404 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp4_ = _tmp3_;
#line 404 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_toolbar_insert ((GtkToolbar*) self, (GtkToolItem*) _tmp4_, 0);
#line 404 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (_tmp4_);
#line 405 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp5_ = self->priv->clear;
#line 405 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_widget_set_sensitive ((GtkWidget*) _tmp5_, TRUE);
#line 406 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_widget_show ((GtkWidget*) self);
#line 409 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp6_ = gtk_widget_get_parent ((GtkWidget*) self);
#line 409 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp7_ = _tmp6_;
#line 409 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_widget_size_request ((GtkWidget*) _tmp7_, &_tmp8_);
#line 409 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	req = _tmp8_;
#line 410 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp9_ = req;
#line 410 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp10_ = _tmp9_.width;
#line 410 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	reqwidth = _tmp10_;
#line 412 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp11_ = gtk_widget_get_toplevel ((GtkWidget*) self);
#line 412 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_window_get_size (G_TYPE_CHECK_INSTANCE_TYPE (_tmp11_, GTK_TYPE_WINDOW) ? ((GtkWindow*) _tmp11_) : NULL, &_tmp12_, NULL);
#line 412 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	winwidth = _tmp12_;
#line 413 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp13_ = reqwidth;
#line 413 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp14_ = winwidth;
#line 413 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	if (_tmp13_ > _tmp14_) {
#line 414 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		transfers_toolbar_clear_clicked (self);
#line 3055 "transfers.c"
	}
#line 401 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (transfer);
#line 3059 "transfers.c"
}


static void transfers_toolbar_transfer_removed (TransfersToolbar* self, GObject* item) {
	GtkToolButton* _tmp0_;
	KatzeArray* _tmp1_;
	gboolean _tmp2_ = FALSE;
	KatzeArray* _tmp3_;
	gboolean _tmp4_ = FALSE;
#line 417 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 417 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (item != NULL);
#line 418 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = self->priv->clear;
#line 418 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = self->priv->array;
#line 418 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = transfers_pending_transfers (_tmp1_);
#line 418 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_widget_set_sensitive ((GtkWidget*) _tmp0_, _tmp2_);
#line 419 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp3_ = self->priv->array;
#line 419 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp4_ = katze_array_is_empty (_tmp3_);
#line 419 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	if (_tmp4_) {
#line 420 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_widget_hide ((GtkWidget*) self);
#line 3089 "transfers.c"
	}
}


static void transfers_toolbar_class_init (TransfersToolbarClass * klass) {
#line 368 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_toolbar_parent_class = g_type_class_peek_parent (klass);
#line 368 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_type_class_add_private (klass, sizeof (TransfersToolbarPrivate));
#line 368 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	G_OBJECT_CLASS (klass)->finalize = transfers_toolbar_finalize;
#line 3101 "transfers.c"
}


static void transfers_toolbar_instance_init (TransfersToolbar * self) {
#line 368 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->priv = TRANSFERS_TOOLBAR_GET_PRIVATE (self);
#line 3108 "transfers.c"
}


static void transfers_toolbar_finalize (GObject* obj) {
	TransfersToolbar * self;
#line 368 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TRANSFERS_TYPE_TOOLBAR, TransfersToolbar);
#line 369 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->priv->array);
#line 370 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->priv->clear);
#line 368 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	G_OBJECT_CLASS (transfers_toolbar_parent_class)->finalize (obj);
#line 3122 "transfers.c"
}


GType transfers_toolbar_get_type (void) {
	static volatile gsize transfers_toolbar_type_id__volatile = 0;
	if (g_once_init_enter (&transfers_toolbar_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (TransfersToolbarClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) transfers_toolbar_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (TransfersToolbar), 0, (GInstanceInitFunc) transfers_toolbar_instance_init, NULL };
		GType transfers_toolbar_type_id;
		transfers_toolbar_type_id = g_type_register_static (GTK_TYPE_TOOLBAR, "TransfersToolbar", &g_define_type_info, 0);
		g_once_init_leave (&transfers_toolbar_type_id__volatile, transfers_toolbar_type_id);
	}
	return transfers_toolbar_type_id__volatile;
}


static void _g_object_unref0_ (gpointer var) {
#line 426 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	(var == NULL) ? NULL : (var = (g_object_unref (var), NULL));
#line 3141 "transfers.c"
}


static void _g_list_free__g_object_unref0_ (GList* self) {
#line 426 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_list_foreach (self, (GFunc) _g_object_unref0_, NULL);
#line 426 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_list_free (self);
#line 3150 "transfers.c"
}


static void _g_free0_ (gpointer var) {
#line 427 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	var = (g_free (var), NULL);
#line 3157 "transfers.c"
}


static void _g_list_free__g_free0_ (GList* self) {
#line 427 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_list_foreach (self, (GFunc) _g_free0_, NULL);
#line 427 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_list_free (self);
#line 3166 "transfers.c"
}


static void _transfers_manager_transfer_remove_transfers_transfer_remove (TransfersTransfer* _sender, gpointer self) {
#line 432 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_manager_transfer_remove (self, _sender);
#line 3173 "transfers.c"
}


static void _transfers_manager_transfer_changed_transfers_transfer_changed (TransfersTransfer* _sender, gpointer self) {
#line 433 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_manager_transfer_changed (self, _sender);
#line 3180 "transfers.c"
}


static void _transfers_manager_transfer_removed_katze_array_remove_item (KatzeArray* _sender, GObject* item, gpointer self) {
#line 434 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_manager_transfer_removed (self, item);
#line 3187 "transfers.c"
}


static void transfers_manager_download_added (TransfersManager* self, WebKitDownload* download) {
	WebKitDownload* _tmp0_;
	TransfersTransfer* _tmp1_;
	TransfersTransfer* transfer;
	KatzeArray* _tmp2_;
	KatzeArray* _tmp3_;
#line 430 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 430 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (download != NULL);
#line 431 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = download;
#line 431 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = transfers_transfer_new (_tmp0_);
#line 431 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfer = _tmp1_;
#line 432 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object (transfer, "remove", (GCallback) _transfers_manager_transfer_remove_transfers_transfer_remove, self, 0);
#line 433 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object (transfer, "changed", (GCallback) _transfers_manager_transfer_changed_transfers_transfer_changed, self, 0);
#line 434 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = self->array;
#line 434 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object (_tmp2_, "remove-item", (GCallback) _transfers_manager_transfer_removed_katze_array_remove_item, self, 0);
#line 435 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp3_ = self->array;
#line 435 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_emit_by_name (_tmp3_, "add-item", (GObject*) transfer);
#line 430 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (transfer);
#line 3221 "transfers.c"
}


static gboolean transfers_manager_notification_timeout_triggered (TransfersManager* self) {
	gboolean result = FALSE;
	GList* _tmp0_;
	guint _tmp1_ = 0U;
#line 438 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 439 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->notification_timeout = (guint) 0;
#line 440 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = self->notifications;
#line 440 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = g_list_length (_tmp0_);
#line 440 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	if (_tmp1_ > ((guint) 0)) {
#line 3239 "transfers.c"
		GList* _tmp2_;
		gconstpointer _tmp3_ = NULL;
		gchar* _tmp4_;
		gchar* filename;
		gchar* msg = NULL;
		GList* _tmp5_;
		guint _tmp6_ = 0U;
		MidoriApp* _tmp15_ = NULL;
		const gchar* _tmp16_ = NULL;
		const gchar* _tmp17_;
#line 441 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp2_ = self->notifications;
#line 441 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp3_ = g_list_nth_data (_tmp2_, (guint) 0);
#line 441 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp4_ = g_strdup ((const gchar*) _tmp3_);
#line 441 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		filename = _tmp4_;
#line 443 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp5_ = self->notifications;
#line 443 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp6_ = g_list_length (_tmp5_);
#line 443 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		if (_tmp6_ == ((guint) 1)) {
#line 3264 "transfers.c"
			const gchar* _tmp7_ = NULL;
			const gchar* _tmp8_;
			gchar* _tmp9_ = NULL;
#line 444 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp7_ = _ ("The file '<b>%s</b>' has been downloaded.");
#line 444 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp8_ = filename;
#line 444 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp9_ = g_strdup_printf (_tmp7_, _tmp8_);
#line 444 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_g_free0 (msg);
#line 444 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			msg = _tmp9_;
#line 3278 "transfers.c"
		} else {
			const gchar* _tmp10_ = NULL;
			const gchar* _tmp11_;
			GList* _tmp12_;
			guint _tmp13_ = 0U;
			gchar* _tmp14_ = NULL;
#line 446 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp10_ = _ ("'<b>%s</b>' and %d other files have been downloaded.");
#line 446 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp11_ = filename;
#line 446 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp12_ = self->notifications;
#line 446 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp13_ = g_list_length (_tmp12_);
#line 446 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp14_ = g_strdup_printf (_tmp10_, _tmp11_, _tmp13_);
#line 446 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_g_free0 (msg);
#line 446 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			msg = _tmp14_;
#line 3299 "transfers.c"
		}
#line 447 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp15_ = midori_extension_get_app ((MidoriExtension*) self);
#line 447 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp16_ = _ ("Transfer completed");
#line 447 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp17_ = msg;
#line 447 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		midori_app_send_notification (_tmp15_, _tmp16_, _tmp17_);
#line 448 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		__g_list_free__g_free0_0 (self->notifications);
#line 448 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		self->notifications = NULL;
#line 440 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_free0 (msg);
#line 440 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_free0 (filename);
#line 3317 "transfers.c"
	}
#line 450 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	result = FALSE;
#line 450 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 3323 "transfers.c"
}


static gboolean _transfers_manager_notification_timeout_triggered_gsource_func (gpointer self) {
	gboolean result;
	result = transfers_manager_notification_timeout_triggered (self);
#line 478 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 3332 "transfers.c"
}


static void transfers_manager_transfer_changed (TransfersManager* self, TransfersTransfer* transfer) {
	TransfersTransfer* _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp2_;
	GError * _inner_error_ = NULL;
#line 453 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 453 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (transfer != NULL);
#line 454 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = transfer;
#line 454 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = transfers_transfer_get_succeeded (_tmp0_);
#line 454 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = _tmp1_;
#line 454 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	if (_tmp2_) {
#line 3353 "transfers.c"
		TransfersTransfer* _tmp3_;
		gint _tmp4_;
		gint _tmp5_;
		TransfersTransfer* _tmp16_;
		const gchar* _tmp17_;
		const gchar* _tmp18_;
		gchar* _tmp19_;
		gchar* uri;
		const gchar* _tmp20_;
		gchar* _tmp21_ = NULL;
		gchar* filename;
		KatzeItem* _tmp22_;
		KatzeItem* item;
		KatzeItem* _tmp23_;
		const gchar* _tmp24_;
		KatzeItem* _tmp25_;
		const gchar* _tmp26_;
		KatzeItem* _tmp27_;
		TransfersTransfer* _tmp28_;
		WebKitDownload* _tmp29_;
		gboolean _tmp30_ = FALSE;
		const gchar* _tmp33_;
		gchar* _tmp34_;
		guint _tmp35_;
#line 456 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp3_ = transfer;
#line 456 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp4_ = transfers_transfer_get_action (_tmp3_);
#line 456 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp5_ = _tmp4_;
#line 456 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		if (_tmp5_ == ((gint) MIDORI_DOWNLOAD_OPEN)) {
#line 3386 "transfers.c"
			{
				TransfersTransfer* _tmp6_;
				WebKitDownload* _tmp7_;
				GList* _tmp8_;
				gconstpointer _tmp9_ = NULL;
				gboolean _tmp10_ = FALSE;
				gboolean _tmp11_;
#line 458 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp6_ = transfer;
#line 458 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp7_ = _tmp6_->download;
#line 458 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp8_ = self->widgets;
#line 458 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp9_ = g_list_nth_data (_tmp8_, (guint) 0);
#line 458 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp10_ = midori_download_action_clear (_tmp7_, (GtkWidget*) _tmp9_, &_inner_error_);
#line 458 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp11_ = _tmp10_;
#line 458 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				if (_inner_error_ != NULL) {
#line 3408 "transfers.c"
					goto __catch3_g_error;
				}
#line 458 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				if (_tmp11_) {
#line 3413 "transfers.c"
					TransfersTransfer* _tmp12_;
#line 459 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
					_tmp12_ = transfer;
#line 459 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
					g_signal_emit_by_name (_tmp12_, "remove");
#line 3419 "transfers.c"
				}
			}
			goto __finally3;
			__catch3_g_error:
			{
				GError* _error_ = NULL;
				const gchar* _tmp13_ = NULL;
				GError* _tmp14_;
				const gchar* _tmp15_;
#line 457 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_error_ = _inner_error_;
#line 457 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_inner_error_ = NULL;
#line 462 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp13_ = _ ("Failed to open download: %s");
#line 462 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp14_ = _error_;
#line 462 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp15_ = _tmp14_->message;
#line 462 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				g_warning (_tmp13_, _tmp15_);
#line 457 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_g_error_free0 (_error_);
#line 3443 "transfers.c"
			}
			__finally3:
#line 457 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			if (_inner_error_ != NULL) {
#line 457 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 457 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				g_clear_error (&_inner_error_);
#line 457 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				return;
#line 3454 "transfers.c"
			}
		}
#line 466 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp16_ = transfer;
#line 466 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp17_ = transfers_transfer_get_destination (_tmp16_);
#line 466 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp18_ = _tmp17_;
#line 466 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp19_ = g_strdup (_tmp18_);
#line 466 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		uri = _tmp19_;
#line 467 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp20_ = uri;
#line 467 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp21_ = midori_download_get_basename_for_display (_tmp20_);
#line 467 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		filename = _tmp21_;
#line 468 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp22_ = katze_item_new ();
#line 468 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		item = _tmp22_;
#line 469 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp23_ = item;
#line 469 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp24_ = uri;
#line 469 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		katze_item_set_uri (_tmp23_, _tmp24_);
#line 470 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp25_ = item;
#line 470 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp26_ = filename;
#line 470 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		katze_item_set_name (_tmp25_, _tmp26_);
#line 471 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp27_ = item;
#line 471 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		midori_browser_update_history (_tmp27_, "download", "create");
#line 472 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp28_ = transfer;
#line 472 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp29_ = _tmp28_->download;
#line 472 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp30_ = midori_download_has_wrong_checksum (_tmp29_);
#line 472 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		if (!_tmp30_) {
#line 3501 "transfers.c"
			GtkRecentManager* _tmp31_ = NULL;
			const gchar* _tmp32_;
#line 473 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp31_ = gtk_recent_manager_get_default ();
#line 473 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp32_ = uri;
#line 473 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			gtk_recent_manager_add_item (_tmp31_, _tmp32_);
#line 3510 "transfers.c"
		}
#line 475 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp33_ = filename;
#line 475 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp34_ = g_strdup (_tmp33_);
#line 475 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		self->notifications = g_list_append (self->notifications, _tmp34_);
#line 476 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp35_ = self->notification_timeout;
#line 476 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		if (_tmp35_ == ((guint) 0)) {
#line 3522 "transfers.c"
			guint _tmp36_ = 0U;
#line 477 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			transfers_manager_notification_timeout_triggered (self);
#line 478 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp36_ = midori_timeout_add_seconds ((guint) 60, _transfers_manager_notification_timeout_triggered_gsource_func, g_object_ref (self), g_object_unref);
#line 478 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			self->notification_timeout = _tmp36_;
#line 3530 "transfers.c"
		}
#line 454 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_object_unref0 (item);
#line 454 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_free0 (filename);
#line 454 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_free0 (uri);
#line 3538 "transfers.c"
	}
}


static void transfers_manager_transfer_remove (TransfersManager* self, TransfersTransfer* transfer) {
	KatzeArray* _tmp0_;
	TransfersTransfer* _tmp1_;
#line 483 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 483 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (transfer != NULL);
#line 484 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = self->array;
#line 484 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = transfer;
#line 484 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_emit_by_name (_tmp0_, "remove-item", (GObject*) _tmp1_);
#line 3556 "transfers.c"
}


static void transfers_manager_transfer_removed (TransfersManager* self, GObject* item) {
	GObject* _tmp0_;
	TransfersTransfer* _tmp1_;
	TransfersTransfer* transfer;
#line 487 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 487 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (item != NULL);
#line 488 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = item;
#line 488 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp0_, TRANSFERS_TYPE_TRANSFER) ? ((TransfersTransfer*) _tmp0_) : NULL);
#line 488 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfer = _tmp1_;
#line 489 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_emit_by_name (transfer, "removed");
#line 487 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (transfer);
#line 3578 "transfers.c"
}


static gboolean transfers_manager_browser_closed (TransfersManager* self, GtkWidget* widget, GdkEventAny* event) {
	gboolean result = FALSE;
	GtkWidget* _tmp0_;
	MidoriBrowser* _tmp1_;
	MidoriBrowser* browser;
	KatzeArray* _tmp2_;
	gboolean _tmp3_ = FALSE;
#line 493 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 493 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (widget != NULL, FALSE);
#line 493 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_val_if_fail (event != NULL, FALSE);
#line 497 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = widget;
#line 497 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp0_, MIDORI_TYPE_BROWSER) ? ((MidoriBrowser*) _tmp0_) : NULL);
#line 497 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	browser = _tmp1_;
#line 498 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = self->array;
#line 498 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp3_ = transfers_pending_transfers (_tmp2_);
#line 498 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	if (_tmp3_) {
#line 3607 "transfers.c"
		MidoriBrowser* _tmp4_;
		const gchar* _tmp5_ = NULL;
		GtkMessageDialog* _tmp6_;
		GtkMessageDialog* dialog;
		GtkMessageDialog* _tmp7_;
		const gchar* _tmp8_ = NULL;
		GtkMessageDialog* _tmp9_;
		const gchar* _tmp10_ = NULL;
		GtkMessageDialog* _tmp11_;
		const gchar* _tmp12_ = NULL;
		GtkMessageDialog* _tmp13_;
		gint _tmp14_ = 0;
		gboolean cancel;
		GtkMessageDialog* _tmp15_;
#line 499 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp4_ = browser;
#line 499 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp5_ = _ ("Some files are being downloaded");
#line 499 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp6_ = (GtkMessageDialog*) gtk_message_dialog_new ((GtkWindow*) _tmp4_, GTK_DIALOG_DESTROY_WITH_PARENT, GTK_MESSAGE_WARNING, GTK_BUTTONS_NONE, _tmp5_);
#line 499 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		g_object_ref_sink (_tmp6_);
#line 499 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		dialog = _tmp6_;
#line 503 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp7_ = dialog;
#line 503 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp8_ = _ ("Some files are being downloaded");
#line 503 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_window_set_title ((GtkWindow*) _tmp7_, _tmp8_);
#line 504 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp9_ = dialog;
#line 504 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp10_ = _ ("_Quit Midori");
#line 504 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_dialog_add_buttons ((GtkDialog*) _tmp9_, GTK_STOCK_CANCEL, GTK_RESPONSE_CANCEL, _tmp10_, GTK_RESPONSE_ACCEPT, NULL);
#line 506 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp11_ = dialog;
#line 506 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp12_ = _ ("The transfers will be cancelled if Midori quits.");
#line 506 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_message_dialog_format_secondary_text (_tmp11_, "%s", _tmp12_);
#line 508 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp13_ = dialog;
#line 508 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp14_ = gtk_dialog_run ((GtkDialog*) _tmp13_);
#line 508 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		cancel = _tmp14_ != ((gint) GTK_RESPONSE_ACCEPT);
#line 509 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_tmp15_ = dialog;
#line 509 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		gtk_widget_destroy ((GtkWidget*) _tmp15_);
#line 510 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		result = cancel;
#line 510 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_object_unref0 (dialog);
#line 510 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_object_unref0 (browser);
#line 510 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		return result;
#line 3668 "transfers.c"
	}
#line 512 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	result = FALSE;
#line 512 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (browser);
#line 512 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 3676 "transfers.c"
}


static void _transfers_manager_download_added_midori_browser_add_download (MidoriBrowser* _sender, WebKitDownload* download, gpointer self) {
#line 529 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_manager_download_added (self, download);
#line 3683 "transfers.c"
}


static gboolean _transfers_manager_browser_closed_gtk_widget_delete_event (GtkWidget* _sender, GdkEventAny* event, gpointer self) {
	gboolean result;
	result = transfers_manager_browser_closed (self, _sender, event);
#line 530 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 3692 "transfers.c"
}


static void transfers_manager_browser_added (TransfersManager* self, MidoriBrowser* browser) {
	KatzeArray* _tmp0_;
	TransfersSidebar* _tmp1_;
	TransfersSidebar* viewable;
	MidoriBrowser* _tmp2_;
	MidoriPanel* _tmp3_ = NULL;
	MidoriPanel* _tmp4_;
	MidoriPanel* _tmp5_;
	GtkWidget* _tmp6_;
	KatzeArray* _tmp7_;
	TransfersToolbar* _tmp8_;
	TransfersToolbar* toolbar;
	MidoriBrowser* _tmp9_;
	GtkStatusbar* _tmp10_ = NULL;
	GtkStatusbar* _tmp11_;
	GtkStatusbar* _tmp12_;
	GtkWidget* _tmp13_;
	MidoriBrowser* _tmp14_;
	MidoriBrowser* _tmp15_;
#line 515 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 515 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (browser != NULL);
#line 516 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = self->array;
#line 516 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = transfers_sidebar_new (_tmp0_);
#line 516 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_ref_sink (_tmp1_);
#line 516 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	viewable = _tmp1_;
#line 517 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_widget_show ((GtkWidget*) viewable);
#line 518 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = browser;
#line 518 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_get (_tmp2_, "panel", &_tmp3_, NULL);
#line 518 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp4_ = _tmp3_;
#line 518 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp5_ = _tmp4_;
#line 518 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	midori_panel_append_page (_tmp5_, (MidoriViewable*) viewable);
#line 518 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (_tmp5_);
#line 519 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp6_ = _g_object_ref0 ((GtkWidget*) viewable);
#line 519 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->widgets = g_list_append (self->widgets, _tmp6_);
#line 520 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp7_ = self->array;
#line 520 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp8_ = transfers_toolbar_new (_tmp7_);
#line 520 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_ref_sink (_tmp8_);
#line 520 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	toolbar = _tmp8_;
#line 522 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp9_ = browser;
#line 522 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_object_get (_tmp9_, "statusbar", &_tmp10_, NULL);
#line 522 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp11_ = _tmp10_;
#line 522 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp12_ = _tmp11_;
#line 522 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	gtk_box_pack_end ((GtkBox*) _tmp12_, (GtkWidget*) toolbar, FALSE, FALSE, (guint) 0);
#line 522 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (_tmp12_);
#line 526 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp13_ = _g_object_ref0 ((GtkWidget*) toolbar);
#line 526 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->widgets = g_list_append (self->widgets, _tmp13_);
#line 529 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp14_ = browser;
#line 529 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object (_tmp14_, "add-download", (GCallback) _transfers_manager_download_added_midori_browser_add_download, self, 0);
#line 530 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp15_ = browser;
#line 530 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object ((GtkWidget*) _tmp15_, "delete-event", (GCallback) _transfers_manager_browser_closed_gtk_widget_delete_event, self, 0);
#line 515 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (toolbar);
#line 515 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (viewable);
#line 3781 "transfers.c"
}


static void _transfers_manager_browser_added_midori_app_add_browser (MidoriApp* _sender, MidoriBrowser* browser, gpointer self) {
#line 540 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_manager_browser_added (self, browser);
#line 3788 "transfers.c"
}


static void transfers_manager_activated (TransfersManager* self, MidoriApp* app) {
	KatzeArray* _tmp0_;
	MidoriApp* _tmp1_;
	GList* _tmp2_ = NULL;
	MidoriApp* _tmp4_;
#line 533 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 533 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (app != NULL);
#line 534 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = katze_array_new (TRANSFERS_TYPE_TRANSFER);
#line 534 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->array);
#line 534 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->array = _tmp0_;
#line 535 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	__g_list_free__g_object_unref0_0 (self->widgets);
#line 535 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->widgets = NULL;
#line 536 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	__g_list_free__g_free0_0 (self->notifications);
#line 536 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->notifications = NULL;
#line 537 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self->notification_timeout = (guint) 0;
#line 538 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = app;
#line 538 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = midori_app_get_browsers (_tmp1_);
#line 3821 "transfers.c"
	{
		GList* browser_collection = NULL;
		GList* browser_it = NULL;
#line 538 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		browser_collection = _tmp2_;
#line 538 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		for (browser_it = browser_collection; browser_it != NULL; browser_it = browser_it->next) {
#line 3829 "transfers.c"
			MidoriBrowser* browser = NULL;
#line 538 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			browser = (MidoriBrowser*) browser_it->data;
#line 3833 "transfers.c"
			{
				MidoriBrowser* _tmp3_;
#line 539 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp3_ = browser;
#line 539 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				transfers_manager_browser_added (self, _tmp3_);
#line 3840 "transfers.c"
			}
		}
#line 538 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_list_free0 (browser_collection);
#line 3845 "transfers.c"
	}
#line 540 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp4_ = app;
#line 540 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object (_tmp4_, "add-browser", (GCallback) _transfers_manager_browser_added_midori_app_add_browser, self, 0);
#line 3851 "transfers.c"
}


static void transfers_manager_deactivated (TransfersManager* self) {
	MidoriApp* _tmp0_ = NULL;
	MidoriApp* _tmp1_;
	MidoriApp* app;
	MidoriApp* _tmp2_;
	guint _tmp3_ = 0U;
	MidoriApp* _tmp4_;
	GList* _tmp5_ = NULL;
	GList* _tmp10_;
	KatzeArray* _tmp13_;
	guint _tmp14_ = 0U;
#line 543 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_return_if_fail (self != NULL);
#line 544 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = midori_extension_get_app ((MidoriExtension*) self);
#line 544 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 544 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	app = _tmp1_;
#line 545 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp2_ = app;
#line 545 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_parse_name ("add-browser", MIDORI_TYPE_APP, &_tmp3_, NULL, FALSE);
#line 545 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_handlers_disconnect_matched (_tmp2_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp3_, 0, NULL, (GCallback) _transfers_manager_browser_added_midori_app_add_browser, self);
#line 546 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp4_ = app;
#line 546 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp5_ = midori_app_get_browsers (_tmp4_);
#line 3884 "transfers.c"
	{
		GList* browser_collection = NULL;
		GList* browser_it = NULL;
#line 546 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		browser_collection = _tmp5_;
#line 546 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		for (browser_it = browser_collection; browser_it != NULL; browser_it = browser_it->next) {
#line 3892 "transfers.c"
			MidoriBrowser* browser = NULL;
#line 546 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			browser = (MidoriBrowser*) browser_it->data;
#line 3896 "transfers.c"
			{
				MidoriBrowser* _tmp6_;
				guint _tmp7_ = 0U;
				MidoriBrowser* _tmp8_;
				guint _tmp9_ = 0U;
#line 547 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp6_ = browser;
#line 547 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				g_signal_parse_name ("add-download", MIDORI_TYPE_BROWSER, &_tmp7_, NULL, FALSE);
#line 547 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				g_signal_handlers_disconnect_matched (_tmp6_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp7_, 0, NULL, (GCallback) _transfers_manager_download_added_midori_browser_add_download, self);
#line 548 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp8_ = browser;
#line 548 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				g_signal_parse_name ("delete-event", GTK_TYPE_WIDGET, &_tmp9_, NULL, FALSE);
#line 548 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				g_signal_handlers_disconnect_matched ((GtkWidget*) _tmp8_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp9_, 0, NULL, (GCallback) _transfers_manager_browser_closed_gtk_widget_delete_event, self);
#line 3914 "transfers.c"
			}
		}
#line 546 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		_g_list_free0 (browser_collection);
#line 3919 "transfers.c"
	}
#line 550 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp10_ = self->widgets;
#line 3923 "transfers.c"
	{
		GList* widget_collection = NULL;
		GList* widget_it = NULL;
#line 550 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		widget_collection = _tmp10_;
#line 550 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
		for (widget_it = widget_collection; widget_it != NULL; widget_it = widget_it->next) {
#line 3931 "transfers.c"
			GtkWidget* _tmp11_;
			GtkWidget* widget = NULL;
#line 550 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			_tmp11_ = _g_object_ref0 ((GtkWidget*) widget_it->data);
#line 550 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
			widget = _tmp11_;
#line 3938 "transfers.c"
			{
				GtkWidget* _tmp12_;
#line 551 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_tmp12_ = widget;
#line 551 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				gtk_widget_destroy (_tmp12_);
#line 550 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
				_g_object_unref0 (widget);
#line 3947 "transfers.c"
			}
		}
	}
#line 552 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp13_ = self->array;
#line 552 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_parse_name ("remove-item", KATZE_TYPE_ARRAY, &_tmp14_, NULL, FALSE);
#line 552 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_handlers_disconnect_matched (_tmp13_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp14_, 0, NULL, (GCallback) _transfers_manager_transfer_removed_katze_array_remove_item, self);
#line 543 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (app);
#line 3959 "transfers.c"
}


static void _transfers_manager_activated_midori_extension_activate (MidoriExtension* _sender, MidoriApp* app, gpointer self) {
#line 561 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_manager_activated (self, app);
#line 3966 "transfers.c"
}


static void _transfers_manager_deactivated_midori_extension_deactivate (MidoriExtension* _sender, gpointer self) {
#line 562 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_manager_deactivated (self);
#line 3973 "transfers.c"
}


TransfersManager* transfers_manager_construct (GType object_type) {
	TransfersManager * self = NULL;
	const gchar* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
#line 556 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = _ ("Transfer Manager");
#line 556 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp1_ = _ ("View downloaded files");
#line 556 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self = (TransfersManager*) g_object_new (object_type, "name", _tmp0_, "description", _tmp1_, "version", "0.1" MIDORI_VERSION_SUFFIX, "authors", "Christian Dywan <christian@twotoasts.de>", NULL);
#line 561 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object ((MidoriExtension*) self, "activate", (GCallback) _transfers_manager_activated_midori_extension_activate, self, 0);
#line 562 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	g_signal_connect_object ((MidoriExtension*) self, "deactivate", (GCallback) _transfers_manager_deactivated_midori_extension_deactivate, self, 0);
#line 555 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return self;
#line 3993 "transfers.c"
}


TransfersManager* transfers_manager_new (void) {
#line 555 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return transfers_manager_construct (TRANSFERS_TYPE_MANAGER);
#line 4000 "transfers.c"
}


static void transfers_manager_class_init (TransfersManagerClass * klass) {
#line 424 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	transfers_manager_parent_class = g_type_class_peek_parent (klass);
#line 424 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	G_OBJECT_CLASS (klass)->finalize = transfers_manager_finalize;
#line 4009 "transfers.c"
}


static void transfers_manager_instance_init (TransfersManager * self) {
}


static void transfers_manager_finalize (GObject* obj) {
	TransfersManager * self;
#line 424 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TRANSFERS_TYPE_MANAGER, TransfersManager);
#line 425 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_g_object_unref0 (self->array);
#line 426 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	__g_list_free__g_object_unref0_0 (self->widgets);
#line 427 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	__g_list_free__g_free0_0 (self->notifications);
#line 424 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	G_OBJECT_CLASS (transfers_manager_parent_class)->finalize (obj);
#line 4029 "transfers.c"
}


GType transfers_manager_get_type (void) {
	static volatile gsize transfers_manager_type_id__volatile = 0;
	if (g_once_init_enter (&transfers_manager_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (TransfersManagerClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) transfers_manager_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (TransfersManager), 0, (GInstanceInitFunc) transfers_manager_instance_init, NULL };
		GType transfers_manager_type_id;
		transfers_manager_type_id = g_type_register_static (MIDORI_TYPE_EXTENSION, "TransfersManager", &g_define_type_info, 0);
		g_once_init_leave (&transfers_manager_type_id__volatile, transfers_manager_type_id);
	}
	return transfers_manager_type_id__volatile;
}


MidoriExtension* extension_init (void) {
	MidoriExtension* result = NULL;
	TransfersManager* _tmp0_;
#line 568 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	_tmp0_ = transfers_manager_new ();
#line 568 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	result = (MidoriExtension*) _tmp0_;
#line 568 "/home/zrl/epiphany_webkit/Webkit2Browser/Source/midori/extensions/transfers.vala"
	return result;
#line 4054 "transfers.c"
}



