/* extension.c generated by valac 0.20.1, the Vala compiler
 * generated from extension.vala, do not modify */

/*
 Copyright (C) 2009-2014 Christian Dywan <christian@twotoasts.de>
 Copyright (C) 2009-2012 Alexander Butenko <a.butenka@gmail.com>

 This library is free software; you can redistribute it and/or
 modify it under the terms of the GNU Lesser General Public
 License as published by the Free Software Foundation; either
 version 2.1 of the License, or (at your option) any later version.

 See the file COPYING for the full license text.
*/

#include <glib.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <libsoup/soup.h>
#include "midori/midori.h"
#include <glib/gi18n-lib.h>
#include "midori-core.h"
#include <gmodule.h>
#include <gio/gio.h>
#include <gtk/gtk.h>
#include "webkit2/webkit2.h"
#include <stdio.h>
#include <stdarg.h>
#include <glib/gstdio.h>


#define ADBLOCK_TYPE_DIRECTIVE (adblock_directive_get_type ())

#define ADBLOCK_TYPE_STATE (adblock_state_get_type ())
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_regex_unref0(var) ((var == NULL) ? NULL : (var = (g_regex_unref (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

#define ADBLOCK_TYPE_EXTENSION (adblock_extension_get_type ())
#define ADBLOCK_EXTENSION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ADBLOCK_TYPE_EXTENSION, AdblockExtension))
#define ADBLOCK_EXTENSION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ADBLOCK_TYPE_EXTENSION, AdblockExtensionClass))
#define ADBLOCK_IS_EXTENSION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ADBLOCK_TYPE_EXTENSION))
#define ADBLOCK_IS_EXTENSION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ADBLOCK_TYPE_EXTENSION))
#define ADBLOCK_EXTENSION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ADBLOCK_TYPE_EXTENSION, AdblockExtensionClass))

typedef struct _AdblockExtension AdblockExtension;
typedef struct _AdblockExtensionClass AdblockExtensionClass;
typedef struct _AdblockExtensionPrivate AdblockExtensionPrivate;

#define ADBLOCK_TYPE_CONFIG (adblock_config_get_type ())
#define ADBLOCK_CONFIG(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ADBLOCK_TYPE_CONFIG, AdblockConfig))
#define ADBLOCK_CONFIG_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ADBLOCK_TYPE_CONFIG, AdblockConfigClass))
#define ADBLOCK_IS_CONFIG(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ADBLOCK_TYPE_CONFIG))
#define ADBLOCK_IS_CONFIG_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ADBLOCK_TYPE_CONFIG))
#define ADBLOCK_CONFIG_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ADBLOCK_TYPE_CONFIG, AdblockConfigClass))

typedef struct _AdblockConfig AdblockConfig;
typedef struct _AdblockConfigClass AdblockConfigClass;

#define ADBLOCK_TYPE_SUBSCRIPTION (adblock_subscription_get_type ())
#define ADBLOCK_SUBSCRIPTION(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ADBLOCK_TYPE_SUBSCRIPTION, AdblockSubscription))
#define ADBLOCK_SUBSCRIPTION_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ADBLOCK_TYPE_SUBSCRIPTION, AdblockSubscriptionClass))
#define ADBLOCK_IS_SUBSCRIPTION(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ADBLOCK_TYPE_SUBSCRIPTION))
#define ADBLOCK_IS_SUBSCRIPTION_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ADBLOCK_TYPE_SUBSCRIPTION))
#define ADBLOCK_SUBSCRIPTION_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ADBLOCK_TYPE_SUBSCRIPTION, AdblockSubscriptionClass))

typedef struct _AdblockSubscription AdblockSubscription;
typedef struct _AdblockSubscriptionClass AdblockSubscriptionClass;

#define ADBLOCK_TYPE_STATUS_ICON (adblock_status_icon_get_type ())
#define ADBLOCK_STATUS_ICON(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ADBLOCK_TYPE_STATUS_ICON, AdblockStatusIcon))
#define ADBLOCK_STATUS_ICON_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ADBLOCK_TYPE_STATUS_ICON, AdblockStatusIconClass))
#define ADBLOCK_IS_STATUS_ICON(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ADBLOCK_TYPE_STATUS_ICON))
#define ADBLOCK_IS_STATUS_ICON_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ADBLOCK_TYPE_STATUS_ICON))
#define ADBLOCK_STATUS_ICON_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ADBLOCK_TYPE_STATUS_ICON, AdblockStatusIconClass))

typedef struct _AdblockStatusIcon AdblockStatusIcon;
typedef struct _AdblockStatusIconClass AdblockStatusIconClass;

#define ADBLOCK_TYPE_SUBSCRIPTION_MANAGER (adblock_subscription_manager_get_type ())
#define ADBLOCK_SUBSCRIPTION_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ADBLOCK_TYPE_SUBSCRIPTION_MANAGER, AdblockSubscriptionManager))
#define ADBLOCK_SUBSCRIPTION_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ADBLOCK_TYPE_SUBSCRIPTION_MANAGER, AdblockSubscriptionManagerClass))
#define ADBLOCK_IS_SUBSCRIPTION_MANAGER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ADBLOCK_TYPE_SUBSCRIPTION_MANAGER))
#define ADBLOCK_IS_SUBSCRIPTION_MANAGER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ADBLOCK_TYPE_SUBSCRIPTION_MANAGER))
#define ADBLOCK_SUBSCRIPTION_MANAGER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ADBLOCK_TYPE_SUBSCRIPTION_MANAGER, AdblockSubscriptionManagerClass))

typedef struct _AdblockSubscriptionManager AdblockSubscriptionManager;
typedef struct _AdblockSubscriptionManagerClass AdblockSubscriptionManagerClass;
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_string_free0(var) ((var == NULL) ? NULL : (var = (g_string_free (var, TRUE), NULL)))
#define _adblock_status_icon_unref0(var) ((var == NULL) ? NULL : (var = (adblock_status_icon_unref (var), NULL)))
#define _adblock_subscription_manager_unref0(var) ((var == NULL) ? NULL : (var = (adblock_subscription_manager_unref (var), NULL)))
#define _g_list_free0(var) ((var == NULL) ? NULL : (var = (g_list_free (var), NULL)))
typedef struct _AdblockStatusIconPrivate AdblockStatusIconPrivate;

#define ADBLOCK_STATUS_ICON_TYPE_ICON_BUTTON (adblock_status_icon_icon_button_get_type ())
#define ADBLOCK_STATUS_ICON_ICON_BUTTON(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ADBLOCK_STATUS_ICON_TYPE_ICON_BUTTON, AdblockStatusIconIconButton))
#define ADBLOCK_STATUS_ICON_ICON_BUTTON_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ADBLOCK_STATUS_ICON_TYPE_ICON_BUTTON, AdblockStatusIconIconButtonClass))
#define ADBLOCK_STATUS_ICON_IS_ICON_BUTTON(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ADBLOCK_STATUS_ICON_TYPE_ICON_BUTTON))
#define ADBLOCK_STATUS_ICON_IS_ICON_BUTTON_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ADBLOCK_STATUS_ICON_TYPE_ICON_BUTTON))
#define ADBLOCK_STATUS_ICON_ICON_BUTTON_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ADBLOCK_STATUS_ICON_TYPE_ICON_BUTTON, AdblockStatusIconIconButtonClass))

typedef struct _AdblockStatusIconIconButton AdblockStatusIconIconButton;
typedef struct _AdblockStatusIconIconButtonClass AdblockStatusIconIconButtonClass;
typedef struct _Block4Data Block4Data;

#define ADBLOCK_TYPE_CUSTOM_RULES_EDITOR (adblock_custom_rules_editor_get_type ())
#define ADBLOCK_CUSTOM_RULES_EDITOR(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ADBLOCK_TYPE_CUSTOM_RULES_EDITOR, AdblockCustomRulesEditor))
#define ADBLOCK_CUSTOM_RULES_EDITOR_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ADBLOCK_TYPE_CUSTOM_RULES_EDITOR, AdblockCustomRulesEditorClass))
#define ADBLOCK_IS_CUSTOM_RULES_EDITOR(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ADBLOCK_TYPE_CUSTOM_RULES_EDITOR))
#define ADBLOCK_IS_CUSTOM_RULES_EDITOR_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ADBLOCK_TYPE_CUSTOM_RULES_EDITOR))
#define ADBLOCK_CUSTOM_RULES_EDITOR_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ADBLOCK_TYPE_CUSTOM_RULES_EDITOR, AdblockCustomRulesEditorClass))

typedef struct _AdblockCustomRulesEditor AdblockCustomRulesEditor;
typedef struct _AdblockCustomRulesEditorClass AdblockCustomRulesEditorClass;
#define _adblock_custom_rules_editor_unref0(var) ((var == NULL) ? NULL : (var = (adblock_custom_rules_editor_unref (var), NULL)))

#define ADBLOCK_TYPE_FEATURE (adblock_feature_get_type ())
#define ADBLOCK_FEATURE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ADBLOCK_TYPE_FEATURE, AdblockFeature))
#define ADBLOCK_FEATURE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ADBLOCK_TYPE_FEATURE, AdblockFeatureClass))
#define ADBLOCK_IS_FEATURE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ADBLOCK_TYPE_FEATURE))
#define ADBLOCK_IS_FEATURE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ADBLOCK_TYPE_FEATURE))
#define ADBLOCK_FEATURE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ADBLOCK_TYPE_FEATURE, AdblockFeatureClass))

typedef struct _AdblockFeature AdblockFeature;
typedef struct _AdblockFeatureClass AdblockFeatureClass;

#define ADBLOCK_TYPE_ELEMENT (adblock_element_get_type ())
#define ADBLOCK_ELEMENT(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ADBLOCK_TYPE_ELEMENT, AdblockElement))
#define ADBLOCK_ELEMENT_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ADBLOCK_TYPE_ELEMENT, AdblockElementClass))
#define ADBLOCK_IS_ELEMENT(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ADBLOCK_TYPE_ELEMENT))
#define ADBLOCK_IS_ELEMENT_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ADBLOCK_TYPE_ELEMENT))
#define ADBLOCK_ELEMENT_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ADBLOCK_TYPE_ELEMENT, AdblockElementClass))

typedef struct _AdblockElement AdblockElement;
typedef struct _AdblockElementClass AdblockElementClass;
typedef struct _AdblockSubscriptionManagerPrivate AdblockSubscriptionManagerPrivate;

#define TYPE_TEST_CASE_CONFIG (test_case_config_get_type ())
typedef struct _TestCaseConfig TestCaseConfig;

#define TYPE_TEST_CASE_SUB (test_case_sub_get_type ())
typedef struct _TestCaseSub TestCaseSub;

#define TYPE_TEST_CASE_LINE (test_case_line_get_type ())
typedef struct _TestCaseLine TestCaseLine;

#define TYPE_TEST_CASE_PATTERN (test_case_pattern_get_type ())
typedef struct _TestCasePattern TestCasePattern;

#define TYPE_TEST_UPDATE_EXAMPLE (test_update_example_get_type ())
typedef struct _TestUpdateExample TestUpdateExample;

#define ADBLOCK_TYPE_UPDATER (adblock_updater_get_type ())
#define ADBLOCK_UPDATER(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), ADBLOCK_TYPE_UPDATER, AdblockUpdater))
#define ADBLOCK_UPDATER_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), ADBLOCK_TYPE_UPDATER, AdblockUpdaterClass))
#define ADBLOCK_IS_UPDATER(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), ADBLOCK_TYPE_UPDATER))
#define ADBLOCK_IS_UPDATER_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), ADBLOCK_TYPE_UPDATER))
#define ADBLOCK_UPDATER_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), ADBLOCK_TYPE_UPDATER, AdblockUpdaterClass))

typedef struct _AdblockUpdater AdblockUpdater;
typedef struct _AdblockUpdaterClass AdblockUpdaterClass;

#define TYPE_TEST_SUB_URI (test_sub_uri_get_type ())
typedef struct _TestSubUri TestSubUri;
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

typedef enum  {
	ADBLOCK_DIRECTIVE_ALLOW,
	ADBLOCK_DIRECTIVE_BLOCK
} AdblockDirective;

typedef enum  {
	ADBLOCK_STATE_ENABLED,
	ADBLOCK_STATE_DISABLED,
	ADBLOCK_STATE_BLOCKED
} AdblockState;

struct _AdblockExtension {
	MidoriExtension parent_instance;
	AdblockExtensionPrivate * priv;
	AdblockConfig* config;
	AdblockSubscription* custom;
	GString* hider_selectors;
	AdblockStatusIcon* status_icon;
	AdblockSubscriptionManager* manager;
	gboolean debug_element;
	gchar* js_hider_function_body;
};

struct _AdblockExtensionClass {
	MidoriExtensionClass parent_class;
};

struct _AdblockStatusIcon {
	GTypeInstance parent_instance;
	volatile int ref_count;
	AdblockStatusIconPrivate * priv;
	AdblockState state;
	gboolean debug_element_toggled;
	GList* toggle_buttons;
};

struct _AdblockStatusIconClass {
	GTypeClass parent_class;
	void (*finalize) (AdblockStatusIcon *self);
};

struct _Block4Data {
	int _ref_count_;
	AdblockExtension * self;
	gchar* uri;
};

struct _AdblockSubscriptionManager {
	GTypeInstance parent_instance;
	volatile int ref_count;
	AdblockSubscriptionManagerPrivate * priv;
	GtkLabel* description_label;
};

struct _AdblockSubscriptionManagerClass {
	GTypeClass parent_class;
	void (*finalize) (AdblockSubscriptionManager *self);
};

struct _TestCaseConfig {
	gchar* content;
	guint size;
	gboolean enabled;
};

struct _TestCaseSub {
	gchar* uri;
	gboolean active;
};

struct _TestCaseLine {
	gchar* line;
	gchar* fixed;
};

struct _TestCasePattern {
	gchar* uri;
	AdblockDirective directive;
};

struct _TestUpdateExample {
	gchar* content;
	gboolean result;
	gboolean valid;
};

struct _TestSubUri {
	gchar* src_uri;
	gchar* dst_uri;
};


static gpointer adblock_extension_parent_class = NULL;
extern gchar* tmp_folder;
gchar* tmp_folder = NULL;

GType adblock_directive_get_type (void) G_GNUC_CONST;
GType adblock_state_get_type (void) G_GNUC_CONST;
gchar* adblock_parse_subscription_uri (const gchar* uri);
GType adblock_extension_get_type (void) G_GNUC_CONST;
GType adblock_config_get_type (void) G_GNUC_CONST;
GType adblock_subscription_get_type (void) G_GNUC_CONST;
gpointer adblock_status_icon_ref (gpointer instance);
void adblock_status_icon_unref (gpointer instance);
GParamSpec* adblock_param_spec_status_icon (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void adblock_value_set_status_icon (GValue* value, gpointer v_object);
void adblock_value_take_status_icon (GValue* value, gpointer v_object);
gpointer adblock_value_get_status_icon (const GValue* value);
GType adblock_status_icon_get_type (void) G_GNUC_CONST;
gpointer adblock_subscription_manager_ref (gpointer instance);
void adblock_subscription_manager_unref (gpointer instance);
GParamSpec* adblock_param_spec_subscription_manager (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void adblock_value_set_subscription_manager (GValue* value, gpointer v_object);
void adblock_value_take_subscription_manager (GValue* value, gpointer v_object);
gpointer adblock_value_get_subscription_manager (const GValue* value);
GType adblock_subscription_manager_get_type (void) G_GNUC_CONST;
enum  {
	ADBLOCK_EXTENSION_DUMMY_PROPERTY
};
AdblockExtension* adblock_extension_new (void);
AdblockExtension* adblock_extension_construct (GType object_type);
static void adblock_extension_extension_activated (AdblockExtension* self, MidoriApp* app);
static void _adblock_extension_extension_activated_midori_extension_activate (MidoriExtension* _sender, MidoriApp* app, gpointer self);
static void adblock_extension_extension_deactivated (AdblockExtension* self);
static void _adblock_extension_extension_deactivated_midori_extension_deactivate (MidoriExtension* _sender, gpointer self);
static void adblock_extension_extension_preferences (AdblockExtension* self);
static void _adblock_extension_extension_preferences_midori_extension_open_preferences (MidoriExtension* _sender, gpointer self);
void adblock_subscription_manager_add_subscription (AdblockSubscriptionManager* self, const gchar* uri);
void adblock_extension_init (AdblockExtension* self);
static void adblock_extension_browser_added (AdblockExtension* self, MidoriBrowser* browser);
static void _adblock_extension_browser_added_midori_app_add_browser (MidoriApp* _sender, MidoriBrowser* browser, gpointer self);
static void adblock_extension_browser_removed (AdblockExtension* self, MidoriBrowser* browser);
static void _adblock_extension_browser_removed_midori_app_remove_browser (MidoriApp* _sender, MidoriBrowser* browser, gpointer self);
GType adblock_status_icon_icon_button_get_type (void) G_GNUC_CONST;
static void adblock_extension_tab_added (AdblockExtension* self, MidoriView* view);
static void _adblock_extension_tab_added_midori_browser_add_tab (MidoriBrowser* _sender, MidoriView* tab, gpointer self);
static void adblock_extension_tab_removed (AdblockExtension* self, MidoriView* view);
static void _adblock_extension_tab_removed_midori_browser_remove_tab (MidoriBrowser* _sender, MidoriView* tab, gpointer self);
AdblockStatusIconIconButton* adblock_status_icon_add_button (AdblockStatusIcon* self);
static gboolean adblock_extension_navigation_adblock (AdblockExtension* self, MidoriTab* tab, const gchar* uri);
static gboolean _adblock_extension_navigation_adblock_midori_tab_navigation_adblock (MidoriTab* _sender, const gchar* uri, gpointer self);
static void adblock_extension_load_status_changed (AdblockExtension* self, GObject* object, GParamSpec* pspec);
static void _adblock_extension_load_status_changed_g_object_notify (GObject* _sender, GParamSpec* pspec, gpointer self);
static void adblock_extension_context_menu (AdblockExtension* self, WebKitHitTestResult* hit_test_result, MidoriContextAction* menu);
static void _adblock_extension_context_menu_midori_tab_context_menu (MidoriTab* _sender, WebKitHitTestResult* hit_test_result, MidoriContextAction* menu, gpointer self);
gboolean adblock_config_get_enabled (AdblockConfig* self);
static void adblock_extension_inject_css (AdblockExtension* self, MidoriView* view, const gchar* page_uri);
static Block4Data* block4_data_ref (Block4Data* _data4_);
static void block4_data_unref (void * _userdata_);
static void __lambda11_ (Block4Data* _data4_, GtkAction* action);
AdblockCustomRulesEditor* adblock_custom_rules_editor_new (AdblockSubscription* custom);
AdblockCustomRulesEditor* adblock_custom_rules_editor_construct (GType object_type, AdblockSubscription* custom);
gpointer adblock_custom_rules_editor_ref (gpointer instance);
void adblock_custom_rules_editor_unref (gpointer instance);
GParamSpec* adblock_param_spec_custom_rules_editor (const gchar* name, const gchar* nick, const gchar* blurb, GType object_type, GParamFlags flags);
void adblock_value_set_custom_rules_editor (GValue* value, gpointer v_object);
void adblock_value_take_custom_rules_editor (GValue* value, gpointer v_object);
gpointer adblock_value_get_custom_rules_editor (const GValue* value);
GType adblock_custom_rules_editor_get_type (void) G_GNUC_CONST;
void adblock_custom_rules_editor_set_uri (AdblockCustomRulesEditor* self, const gchar* uri);
void adblock_custom_rules_editor_show (AdblockCustomRulesEditor* self);
static void ___lambda11__gtk_action_activate (GtkAction* _sender, gpointer self);
gboolean adblock_extension_request_handled (AdblockExtension* self, const gchar* request_uri, const gchar* page_uri);
void adblock_status_icon_set_state (AdblockStatusIcon* self, AdblockState state);
static gchar* adblock_extension_fetch_js_hider_function_body (AdblockExtension* self);
static gchar* adblock_extension_get_hider_js_for_blocked_resorces (AdblockExtension* self);
static gchar** adblock_extension_get_domains_for_uri (AdblockExtension* self, const gchar* uri, int* result_length1);
static void _vala_array_add1 (gchar*** array, int* length, int* size, gchar* value);
static gchar* adblock_extension_get_hider_css_rules_for_uri (AdblockExtension* self, const gchar* page_uri);
guint adblock_config_get_size (AdblockConfig* self);
AdblockSubscription* adblock_config_get (AdblockConfig* self, guint index);
guint adblock_subscription_get_size (AdblockSubscription* self);
GType adblock_feature_get_type (void) G_GNUC_CONST;
AdblockFeature* adblock_subscription_get (AdblockSubscription* self, guint index);
GType adblock_element_get_type (void) G_GNUC_CONST;
gchar* adblock_element_lookup (AdblockElement* self, const gchar* domain);
static void adblock_extension_load_config (AdblockExtension* self);
AdblockSubscriptionManager* adblock_subscription_manager_new (AdblockConfig* config);
AdblockSubscriptionManager* adblock_subscription_manager_construct (GType object_type, AdblockConfig* config);
AdblockStatusIcon* adblock_status_icon_new (AdblockConfig* config, AdblockSubscriptionManager* manager);
AdblockStatusIcon* adblock_status_icon_construct (GType object_type, AdblockConfig* config, AdblockSubscriptionManager* manager);
void adblock_subscription_parse (AdblockSubscription* self, GError** error);
const gchar* adblock_subscription_get_uri (AdblockSubscription* self);
static void adblock_extension_subscriptions_added_removed (AdblockExtension* self, GParamSpec* pspec);
static void _adblock_extension_subscriptions_added_removed_g_object_notify (GObject* _sender, GParamSpec* pspec, gpointer self);
static gboolean adblock_extension_open_link (AdblockExtension* self, const gchar* uri);
static gboolean _adblock_extension_open_link_gtk_label_activate_link (GtkLabel* _sender, const gchar* uri, gpointer self);
AdblockConfig* adblock_config_new (const gchar* path, const gchar* presets);
AdblockConfig* adblock_config_construct (GType object_type, const gchar* path, const gchar* presets);
AdblockDirective adblock_extension_get_directive_for_uri (AdblockExtension* self, const gchar* request_uri, const gchar* page_uri);
AdblockDirective* adblock_subscription_get_directive (AdblockSubscription* self, const gchar* request_uri, const gchar* page_uri);
static AdblockDirective* _adblock_directive_dup (AdblockDirective* self);
static gboolean _adblock_directive_equal (const AdblockDirective* s1, const AdblockDirective* s2);
static void adblock_extension_finalize (GObject* obj);
void adblock_debug (const gchar* format, ...);
gchar* adblock_fixup_regex (const gchar* prefix, const gchar* src);
MidoriExtension* extension_init (void);
gchar* get_test_file (const gchar* contents);
GType test_case_config_get_type (void) G_GNUC_CONST;
TestCaseConfig* test_case_config_dup (const TestCaseConfig* self);
void test_case_config_free (TestCaseConfig* self);
void test_case_config_copy (const TestCaseConfig* self, TestCaseConfig* dest);
void test_case_config_destroy (TestCaseConfig* self);
void test_adblock_config (void);
GType test_case_sub_get_type (void) G_GNUC_CONST;
TestCaseSub* test_case_sub_dup (const TestCaseSub* self);
void test_case_sub_free (TestCaseSub* self);
void test_case_sub_copy (const TestCaseSub* self, TestCaseSub* dest);
void test_case_sub_destroy (TestCaseSub* self);
void test_adblock_subs (void);
gboolean adblock_subscription_get_active (AdblockSubscription* self);
gboolean adblock_config_add (AdblockConfig* self, AdblockSubscription* sub);
AdblockSubscription* adblock_subscription_new (const gchar* uri);
AdblockSubscription* adblock_subscription_construct (GType object_type, const gchar* uri);
void adblock_config_save (AdblockConfig* self);
const gchar* adblock_config_get_path (AdblockConfig* self);
void adblock_config_set_enabled (AdblockConfig* self, gboolean value);
void adblock_subscription_set_active (AdblockSubscription* self, gboolean value);
void adblock_config_remove (AdblockConfig* self, AdblockSubscription* sub);
void test_adblock_init (void);
const gchar* adblock_subscription_get_title (AdblockSubscription* self);
void adblock_subscription_add_rule (AdblockSubscription* self, const gchar* rule);
GType test_case_line_get_type (void) G_GNUC_CONST;
TestCaseLine* test_case_line_dup (const TestCaseLine* self);
void test_case_line_free (TestCaseLine* self);
void test_case_line_copy (const TestCaseLine* self, TestCaseLine* dest);
void test_case_line_destroy (TestCaseLine* self);
void test_adblock_fixup_regexp (void);
GType test_case_pattern_get_type (void) G_GNUC_CONST;
TestCasePattern* test_case_pattern_dup (const TestCasePattern* self);
void test_case_pattern_free (TestCasePattern* self);
void test_case_pattern_copy (const TestCasePattern* self, TestCasePattern* dest);
void test_case_pattern_destroy (TestCasePattern* self);
gchar* pretty_directive (AdblockDirective* directive);
const gchar* adblock_directive_to_string (AdblockDirective self);
void test_adblock_pattern (void);
gchar* pretty_date (GDateTime* date);
GType test_update_example_get_type (void) G_GNUC_CONST;
TestUpdateExample* test_update_example_dup (const TestUpdateExample* self);
void test_update_example_free (TestUpdateExample* self);
void test_update_example_copy (const TestUpdateExample* self, TestUpdateExample* dest);
void test_update_example_destroy (TestUpdateExample* self);
void test_subscription_update (void);
AdblockUpdater* adblock_updater_new (void);
AdblockUpdater* adblock_updater_construct (GType object_type);
GType adblock_updater_get_type (void) G_GNUC_CONST;
void adblock_subscription_add_feature (AdblockSubscription* self, AdblockFeature* feature);
void adblock_subscription_clear (AdblockSubscription* self);
gboolean adblock_subscription_get_valid (AdblockSubscription* self);
gboolean adblock_updater_get_needs_update (AdblockUpdater* self);
GDateTime* adblock_updater_get_last_updated (AdblockUpdater* self);
GDateTime* adblock_updater_get_expires (AdblockUpdater* self);
GType test_sub_uri_get_type (void) G_GNUC_CONST;
TestSubUri* test_sub_uri_dup (const TestSubUri* self);
void test_sub_uri_free (TestSubUri* self);
void test_sub_uri_copy (const TestSubUri* self, TestSubUri* dest);
void test_sub_uri_destroy (TestSubUri* self);
void test_subscription_uri_parsing (void);
void extension_test (void);
static void _test_adblock_config_gcallback (void);
static void _test_adblock_subs_gcallback (void);
static void _test_adblock_init_gcallback (void);
static void _test_adblock_fixup_regexp_gcallback (void);
static void _test_adblock_pattern_gcallback (void);
static void _test_subscription_update_gcallback (void);
static void _test_subscription_uri_parsing_gcallback (void);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);
static gint _vala_array_length (gpointer array);

const TestCaseConfig configs[4] = {{"", (guint) 0, TRUE}, {"[settings]", (guint) 0, TRUE}, {"[settings]\nfilters=foo;", (guint) 1, TRUE}, {"[settings]\nfilters=foo;\ndisabled=true", (guint) 1, FALSE}};
const TestCaseSub subs[6] = {{"http://foo.com", TRUE}, {"http://bar.com", FALSE}, {"https://spam.com", TRUE}, {"https://eggs.com", FALSE}, {"file:///bla", TRUE}, {"file:///blub", FALSE}};
const TestCaseLine lines[14] = {{NULL, NULL}, {"!", "!"}, {"@@", "@@"}, {"##", "##"}, {"[", "\\["}, {"+advert/", "advert/"}, {"*foo", "foo"}, {"f*oo", "f.*oo"}, {"?foo", "\\?foo"}, {"foo?", "foo\\?"}, {".*foo/bar", "..*foo/bar"}, {"http://bla.blub/*", "http://bla.blub/.*"}, {"bag?r[]=*cpa", "bag\\?r\\[\\]=.*cpa"}, {"(facebookLike,", "(facebookLike,"}};
const TestCasePattern patterns[19] = {{"http://www.engadget.com/_uac/adpage.html", ADBLOCK_DIRECTIVE_BLOCK}, {"http://test.dom/test?var=1", ADBLOCK_DIRECTIVE_BLOCK}, {"http://ads.foo.bar/teddy", ADBLOCK_DIRECTIVE_BLOCK}, {"http://ads.fuu.bar/teddy", ADBLOCK_DIRECTIVE_ALLOW}, {"https://ads.bogus.name/blub", ADBLOCK_DIRECTIVE_BLOCK}, {"http://ads.foo.boing/beer", ADBLOCK_DIRECTIVE_ALLOW}, {"https://testsub.engine.adct.ru/test?id=1", ADBLOCK_DIRECTIVE_BLOCK}, {"http://test.ltd/addyn/test/test?var=adtech;&var2=1", ADBLOCK_DIRECTIVE_BLOCK}, {"http://add.doubleclick.net/pfadx/aaaa.mtvi", ADBLOCK_DIRECTIVE_BLOCK}, {"http://add.doubleclick.net/pfadx/aaaa.mtv", ADBLOCK_DIRECTIVE_ALLOW}, {"http://objects.tremormedia.com/embed/xml/list.xml?r=", ADBLOCK_DIRECTIVE_BLOCK}, {"http://qq.videostrip.c/sub/admatcherclient.php", ADBLOCK_DIRECTIVE_ALLOW}, {"http://qq.videostrip.com/sub/admatcherclient.php", ADBLOCK_DIRECTIVE_BLOCK}, {"http://qq.videostrip.com/sub/admatcherclient.php", ADBLOCK_DIRECTIVE_BLOCK}, {"http://br.gcl.ru/cgi-bin/br/test", ADBLOCK_DIRECTIVE_BLOCK}, {"https://bugs.webkit.org/buglist.cgi?query_format=advanced&short_desc_t" \
"ype=allwordssubstr&short_desc=&long_desc_type=substring&long_desc=&bug" \
"_file_loc_type=allwordssubstr&bug_file_loc=&keywords_type=allwords&key" \
"words=&bug_status=UNCONFIRMED&bug_status=NEW&bug_status=ASSIGNED&bug_s" \
"tatus=REOPENED&emailassigned_to1=1&emailtype1=substring&email1=&emaila" \
"ssigned_to2=1&emailreporter2=1&emailcc2=1&emailtype2=substring&email2=" \
"&bugidtype=include&bug_id=&votes=&chfieldfrom=&chfieldto=Now&chfieldva" \
"lue=&query_based_on=gtkport&field0-0-0=keywords&type0-0-0=anywordssubs" \
"tr&value0-0-0=Gtk%20Cairo%20soup&field0-0-1=short_desc&type0-0-1=anywo" \
"rdssubstr&value0-0-1=Gtk%20Cairo%20soup%20autoconf%20automake%20autoto" \
"ol&field0-0-2=component&type0-0-2=equals&value0-0-2=WebKit%20Gtk", ADBLOCK_DIRECTIVE_ALLOW}, {"http://www.engadget.com/2009/09/24/google-hits-android-rom-modder-with" \
"-a-cease-and-desist-letter/", ADBLOCK_DIRECTIVE_ALLOW}, {"http://karibik-invest.com/es/bienes_raices/search.php?sqT=19&sqN=&sqMp" \
"=&sqL=0&qR=1&sqMb=&searchMode=1&action=B%FAsqueda", ADBLOCK_DIRECTIVE_ALLOW}, {"http://google.com", ADBLOCK_DIRECTIVE_ALLOW}};
const TestUpdateExample examples[9] = {{"[Adblock Plus 1.1]\n" \
"! Last modified: 05 Sep 2010 11:00 UTC\n" \
"! This list expires after 48 hours\n", TRUE, TRUE}, {"[Adblock Plus 1.1]\n" \
"! Last modified: 05.09.2010 11:00 UTC\n" \
"! Expires: 2 days (update frequency)\n", TRUE, TRUE}, {"[Adblock Plus 1.1]\n" \
"! Updated: 05 Nov 2024 11:00 UTC\n" \
"! Expires: 5 days (update frequency)\n", FALSE, TRUE}, {"[Adblock]\n" \
"! dutchblock v3\n" \
"! This list expires after 14 days\n" \
"|http://b*.mookie1.com/\n", FALSE, TRUE}, {"[Adblock Plus 2.0]\n" \
"! Last modification time (GMT): 2012.11.05 13:33\n" \
"! Expires: 5 days (update frequency)\n", TRUE, TRUE}, {"[Adblock Plus 2.0]\n" \
"! Last modification time (GMT): 2012.11.05 13:33\n", TRUE, TRUE}, {"[Adblock]\n ! dummy,  i dont have any dates\n", FALSE, TRUE}, {"[Adblock Plus 2.0]\n" \
" ! Last modified: Oct 26, 2013 18:00 UTC\n" \
" ! This list expires after 5 days\n" \
"! Last modified by maty: 12Oct2013\n" \
"! \n", FALSE, TRUE}, {"\n", FALSE, FALSE}};
const TestSubUri suburis[4] = {{NULL, NULL}, {"not-a-link", NULL}, {"http://some.uri", "http://some.uri"}, {"abp:subscribe?location=https%3A%2F%2Feasylist-downloads.adblockplus.or" \
"g%2Fabpindo%2Beasylist.txt&title=ABPindo%2BEasyList", "https://easylist-downloads.adblockplus.org/abpindo+easylist.txt"}};

GType adblock_directive_get_type (void) {
	static volatile gsize adblock_directive_type_id__volatile = 0;
	if (g_once_init_enter (&adblock_directive_type_id__volatile)) {
		static const GEnumValue values[] = {{ADBLOCK_DIRECTIVE_ALLOW, "ADBLOCK_DIRECTIVE_ALLOW", "allow"}, {ADBLOCK_DIRECTIVE_BLOCK, "ADBLOCK_DIRECTIVE_BLOCK", "block"}, {0, NULL, NULL}};
		GType adblock_directive_type_id;
		adblock_directive_type_id = g_enum_register_static ("AdblockDirective", values);
		g_once_init_leave (&adblock_directive_type_id__volatile, adblock_directive_type_id);
	}
	return adblock_directive_type_id__volatile;
}


GType adblock_state_get_type (void) {
	static volatile gsize adblock_state_type_id__volatile = 0;
	if (g_once_init_enter (&adblock_state_type_id__volatile)) {
		static const GEnumValue values[] = {{ADBLOCK_STATE_ENABLED, "ADBLOCK_STATE_ENABLED", "enabled"}, {ADBLOCK_STATE_DISABLED, "ADBLOCK_STATE_DISABLED", "disabled"}, {ADBLOCK_STATE_BLOCKED, "ADBLOCK_STATE_BLOCKED", "blocked"}, {0, NULL, NULL}};
		GType adblock_state_type_id;
		adblock_state_type_id = g_enum_register_static ("AdblockState", values);
		g_once_init_leave (&adblock_state_type_id__volatile, adblock_state_type_id);
	}
	return adblock_state_type_id__volatile;
}


static gchar* string_replace (const gchar* self, const gchar* old, const gchar* replacement) {
	gchar* result = NULL;
	GError * _inner_error_ = NULL;
#line 1242 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1242 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	g_return_val_if_fail (old != NULL, NULL);
#line 1242 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	g_return_val_if_fail (replacement != NULL, NULL);
#line 480 "extension.c"
	{
		const gchar* _tmp0_;
		gchar* _tmp1_ = NULL;
		gchar* _tmp2_;
		GRegex* _tmp3_;
		GRegex* _tmp4_;
		GRegex* regex;
		GRegex* _tmp5_;
		const gchar* _tmp6_;
		gchar* _tmp7_ = NULL;
		gchar* _tmp8_;
#line 1244 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp0_ = old;
#line 1244 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp1_ = g_regex_escape_string (_tmp0_, -1);
#line 1244 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp2_ = _tmp1_;
#line 1244 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp3_ = g_regex_new (_tmp2_, 0, 0, &_inner_error_);
#line 1244 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp4_ = _tmp3_;
#line 1244 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_g_free0 (_tmp2_);
#line 1244 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		regex = _tmp4_;
#line 1244 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		if (_inner_error_ != NULL) {
#line 1244 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
			if (_inner_error_->domain == G_REGEX_ERROR) {
#line 510 "extension.c"
				goto __catch1_g_regex_error;
			}
#line 1244 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 1244 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
			g_clear_error (&_inner_error_);
#line 1244 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
			return NULL;
#line 519 "extension.c"
		}
#line 1245 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp5_ = regex;
#line 1245 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp6_ = replacement;
#line 1245 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp7_ = g_regex_replace_literal (_tmp5_, self, (gssize) (-1), 0, _tmp6_, 0, &_inner_error_);
#line 1245 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp8_ = _tmp7_;
#line 1245 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		if (_inner_error_ != NULL) {
#line 1245 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
			_g_regex_unref0 (regex);
#line 1245 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
			if (_inner_error_->domain == G_REGEX_ERROR) {
#line 535 "extension.c"
				goto __catch1_g_regex_error;
			}
#line 1245 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
			_g_regex_unref0 (regex);
#line 1245 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
			g_critical ("file %s: line %d: unexpected error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 1245 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
			g_clear_error (&_inner_error_);
#line 1245 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
			return NULL;
#line 546 "extension.c"
		}
#line 1245 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		result = _tmp8_;
#line 1245 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_g_regex_unref0 (regex);
#line 1245 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		return result;
#line 554 "extension.c"
	}
	goto __finally1;
	__catch1_g_regex_error:
	{
		GError* e = NULL;
#line 1243 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		e = _inner_error_;
#line 1243 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_inner_error_ = NULL;
#line 1247 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		g_assert_not_reached ();
#line 1243 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_g_error_free0 (e);
#line 568 "extension.c"
	}
	__finally1:
#line 1243 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	if (_inner_error_ != NULL) {
#line 1243 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 1243 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		g_clear_error (&_inner_error_);
#line 1243 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		return NULL;
#line 579 "extension.c"
	}
}


static glong string_strnlen (gchar* str, glong maxlen) {
	glong result = 0L;
	gchar* _tmp0_;
	glong _tmp1_;
	gchar* _tmp2_ = NULL;
	gchar* end;
	gchar* _tmp3_;
#line 1157 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp0_ = str;
#line 1157 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp1_ = maxlen;
#line 1157 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp2_ = memchr (_tmp0_, 0, (gsize) _tmp1_);
#line 1157 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	end = _tmp2_;
#line 1158 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp3_ = end;
#line 1158 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	if (_tmp3_ == NULL) {
#line 603 "extension.c"
		glong _tmp4_;
#line 1159 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp4_ = maxlen;
#line 1159 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		result = _tmp4_;
#line 1159 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		return result;
#line 611 "extension.c"
	} else {
		gchar* _tmp5_;
		gchar* _tmp6_;
#line 1161 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp5_ = end;
#line 1161 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp6_ = str;
#line 1161 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		result = (glong) (_tmp5_ - _tmp6_);
#line 1161 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		return result;
#line 623 "extension.c"
	}
}


static gchar* string_substring (const gchar* self, glong offset, glong len) {
	gchar* result = NULL;
	glong string_length = 0L;
	gboolean _tmp0_ = FALSE;
	glong _tmp1_;
	gboolean _tmp3_;
	glong _tmp9_;
	glong _tmp15_;
	glong _tmp18_;
	glong _tmp19_;
	glong _tmp20_;
	glong _tmp21_;
	glong _tmp22_;
	gchar* _tmp23_ = NULL;
#line 1168 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1170 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp1_ = offset;
#line 1170 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	if (_tmp1_ >= ((glong) 0)) {
#line 648 "extension.c"
		glong _tmp2_;
#line 1170 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp2_ = len;
#line 1170 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp0_ = _tmp2_ >= ((glong) 0);
#line 654 "extension.c"
	} else {
#line 1170 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp0_ = FALSE;
#line 658 "extension.c"
	}
#line 1170 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp3_ = _tmp0_;
#line 1170 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	if (_tmp3_) {
#line 664 "extension.c"
		glong _tmp4_;
		glong _tmp5_;
		glong _tmp6_ = 0L;
#line 1172 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp4_ = offset;
#line 1172 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp5_ = len;
#line 1172 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp6_ = string_strnlen ((gchar*) self, _tmp4_ + _tmp5_);
#line 1172 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		string_length = _tmp6_;
#line 676 "extension.c"
	} else {
		gint _tmp7_;
		gint _tmp8_;
#line 1174 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp7_ = strlen (self);
#line 1174 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp8_ = _tmp7_;
#line 1174 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		string_length = (glong) _tmp8_;
#line 686 "extension.c"
	}
#line 1177 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp9_ = offset;
#line 1177 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	if (_tmp9_ < ((glong) 0)) {
#line 692 "extension.c"
		glong _tmp10_;
		glong _tmp11_;
		glong _tmp12_;
#line 1178 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp10_ = string_length;
#line 1178 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp11_ = offset;
#line 1178 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		offset = _tmp10_ + _tmp11_;
#line 1179 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp12_ = offset;
#line 1179 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		g_return_val_if_fail (_tmp12_ >= ((glong) 0), NULL);
#line 706 "extension.c"
	} else {
		glong _tmp13_;
		glong _tmp14_;
#line 1181 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp13_ = offset;
#line 1181 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp14_ = string_length;
#line 1181 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		g_return_val_if_fail (_tmp13_ <= _tmp14_, NULL);
#line 716 "extension.c"
	}
#line 1183 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp15_ = len;
#line 1183 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	if (_tmp15_ < ((glong) 0)) {
#line 722 "extension.c"
		glong _tmp16_;
		glong _tmp17_;
#line 1184 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp16_ = string_length;
#line 1184 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp17_ = offset;
#line 1184 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		len = _tmp16_ - _tmp17_;
#line 731 "extension.c"
	}
#line 1186 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp18_ = offset;
#line 1186 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp19_ = len;
#line 1186 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp20_ = string_length;
#line 1186 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	g_return_val_if_fail ((_tmp18_ + _tmp19_) <= _tmp20_, NULL);
#line 1187 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp21_ = offset;
#line 1187 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp22_ = len;
#line 1187 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp23_ = g_strndup (((gchar*) self) + _tmp21_, (gsize) _tmp22_);
#line 1187 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	result = _tmp23_;
#line 1187 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	return result;
#line 751 "extension.c"
}


gchar* adblock_parse_subscription_uri (const gchar* uri) {
	gchar* result = NULL;
	const gchar* _tmp0_;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	const gchar* _tmp3_;
	gboolean _tmp4_ = FALSE;
	gboolean _tmp7_;
	gboolean _tmp10_;
#line 26 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = uri;
#line 26 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp0_ == NULL) {
#line 27 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		result = NULL;
#line 27 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return result;
#line 772 "extension.c"
	}
#line 29 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = uri;
#line 29 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp4_ = g_str_has_prefix (_tmp3_, "http");
#line 29 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp4_) {
#line 29 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp2_ = TRUE;
#line 782 "extension.c"
	} else {
		const gchar* _tmp5_;
		gboolean _tmp6_ = FALSE;
#line 29 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp5_ = uri;
#line 29 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp6_ = g_str_has_prefix (_tmp5_, "abp");
#line 29 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp2_ = _tmp6_;
#line 792 "extension.c"
	}
#line 29 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp7_ = _tmp2_;
#line 29 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp7_) {
#line 29 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp1_ = TRUE;
#line 800 "extension.c"
	} else {
		const gchar* _tmp8_;
		gboolean _tmp9_ = FALSE;
#line 29 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp8_ = uri;
#line 29 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp9_ = g_str_has_prefix (_tmp8_, "file");
#line 29 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp1_ = _tmp9_;
#line 810 "extension.c"
	}
#line 29 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp10_ = _tmp1_;
#line 29 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp10_) {
#line 816 "extension.c"
		const gchar* _tmp11_;
		gchar* _tmp12_;
		gchar* sub_uri;
		const gchar* _tmp13_;
		gboolean _tmp14_ = FALSE;
		const gchar* _tmp29_;
		gchar* _tmp30_ = NULL;
		gchar* decoded_uri;
#line 31 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp11_ = uri;
#line 31 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp12_ = g_strdup (_tmp11_);
#line 31 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		sub_uri = _tmp12_;
#line 32 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp13_ = uri;
#line 32 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp14_ = g_str_has_prefix (_tmp13_, "abp:");
#line 32 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		if (_tmp14_) {
#line 837 "extension.c"
			const gchar* _tmp15_;
			gchar* _tmp16_ = NULL;
			gchar* _tmp17_;
			const gchar* _tmp18_;
			gboolean _tmp19_ = FALSE;
#line 33 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp15_ = uri;
#line 33 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp16_ = string_replace (_tmp15_, "abp://", "abp:");
#line 33 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp17_ = _tmp16_;
#line 33 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_g_free0 (_tmp17_);
#line 34 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp18_ = uri;
#line 34 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp19_ = g_str_has_prefix (_tmp18_, "abp:subscribe?location=");
#line 34 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			if (_tmp19_) {
#line 857 "extension.c"
				const gchar* _tmp20_;
				gchar* _tmp21_ = NULL;
				gchar* _tmp22_;
				gchar** _tmp23_;
				gchar** _tmp24_ = NULL;
				gchar** _tmp25_;
				gint _tmp25__length1;
				gchar** parts;
				gint parts_length1;
				gint _parts_size_;
				gchar** _tmp26_;
				gint _tmp26__length1;
				const gchar* _tmp27_;
				gchar* _tmp28_;
#line 36 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp20_ = uri;
#line 36 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp21_ = string_substring (_tmp20_, (glong) 23, (glong) (-1));
#line 36 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp22_ = _tmp21_;
#line 36 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp24_ = _tmp23_ = g_strsplit (_tmp22_, "&", 2);
#line 36 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp25_ = _tmp24_;
#line 36 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp25__length1 = _vala_array_length (_tmp23_);
#line 36 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_g_free0 (_tmp22_);
#line 36 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				parts = _tmp25_;
#line 36 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				parts_length1 = _tmp25__length1;
#line 36 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_parts_size_ = parts_length1;
#line 37 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp26_ = parts;
#line 37 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp26__length1 = parts_length1;
#line 37 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp27_ = _tmp26_[0];
#line 37 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp28_ = g_strdup (_tmp27_);
#line 37 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_g_free0 (sub_uri);
#line 37 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				sub_uri = _tmp28_;
#line 34 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				parts = (_vala_array_free (parts, parts_length1, (GDestroyNotify) g_free), NULL);
#line 906 "extension.c"
			}
		}
#line 41 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp29_ = sub_uri;
#line 41 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp30_ = soup_uri_decode (_tmp29_);
#line 41 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		decoded_uri = _tmp30_;
#line 42 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		result = decoded_uri;
#line 42 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (sub_uri);
#line 42 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return result;
#line 921 "extension.c"
	}
#line 44 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	result = NULL;
#line 44 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return result;
#line 927 "extension.c"
}


static void _adblock_extension_extension_activated_midori_extension_activate (MidoriExtension* _sender, MidoriApp* app, gpointer self) {
#line 80 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_extension_extension_activated (self, app);
#line 934 "extension.c"
}


static void _adblock_extension_extension_deactivated_midori_extension_deactivate (MidoriExtension* _sender, gpointer self) {
#line 81 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_extension_extension_deactivated (self);
#line 941 "extension.c"
}


static void _adblock_extension_extension_preferences_midori_extension_open_preferences (MidoriExtension* _sender, gpointer self) {
#line 82 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_extension_extension_preferences (self);
#line 948 "extension.c"
}


AdblockExtension* adblock_extension_construct (GType object_type) {
	AdblockExtension * self = NULL;
	const gchar* _tmp0_ = NULL;
	const gchar* _tmp1_ = NULL;
#line 76 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = _ ("Advertisement blocker");
#line 76 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = _ ("Block advertisements according to a filter list");
#line 76 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	self = (AdblockExtension*) g_object_new (object_type, "name", _tmp0_, "description", _tmp1_, "version", "2.0", "authors", "Christian Dywan <christian@twotoasts.de>", NULL);
#line 80 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_connect_object ((MidoriExtension*) self, "activate", (GCallback) _adblock_extension_extension_activated_midori_extension_activate, self, 0);
#line 81 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_connect_object ((MidoriExtension*) self, "deactivate", (GCallback) _adblock_extension_extension_deactivated_midori_extension_deactivate, self, 0);
#line 82 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_connect_object ((MidoriExtension*) self, "open-preferences", (GCallback) _adblock_extension_extension_preferences_midori_extension_open_preferences, self, 0);
#line 75 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return self;
#line 970 "extension.c"
}


AdblockExtension* adblock_extension_new (void) {
#line 75 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return adblock_extension_construct (ADBLOCK_TYPE_EXTENSION);
#line 977 "extension.c"
}


static void adblock_extension_extension_preferences (AdblockExtension* self) {
	AdblockSubscriptionManager* _tmp0_;
#line 85 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (self != NULL);
#line 86 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = self->manager;
#line 86 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_subscription_manager_add_subscription (_tmp0_, NULL);
#line 989 "extension.c"
}


static void _adblock_extension_browser_added_midori_app_add_browser (MidoriApp* _sender, MidoriBrowser* browser, gpointer self) {
#line 108 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_extension_browser_added (self, browser);
#line 996 "extension.c"
}


static void _adblock_extension_browser_removed_midori_app_remove_browser (MidoriApp* _sender, MidoriBrowser* browser, gpointer self) {
#line 109 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_extension_browser_removed (self, browser);
#line 1003 "extension.c"
}


static void adblock_extension_extension_activated (AdblockExtension* self, MidoriApp* app) {
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_;
	gchar* cache_dir;
	const gchar* _tmp2_;
	gchar* _tmp3_ = NULL;
	gchar* wk2path;
	const gchar* _tmp4_;
	gchar* _tmp5_;
	gchar* filename;
	const gchar* _tmp6_;
	GFile* _tmp7_ = NULL;
	GFile* _tmp8_;
	const gchar* _tmp9_;
	GFile* _tmp10_ = NULL;
	GFile* _tmp11_;
	GFile* wk2link;
	gchar* _tmp12_ = NULL;
	gchar* _tmp13_;
	GFile* _tmp14_ = NULL;
	GFile* _tmp15_;
	const gchar* _tmp16_;
	GFile* _tmp17_ = NULL;
	GFile* _tmp18_;
	GFile* library;
	MidoriApp* _tmp25_;
	GList* _tmp26_ = NULL;
	MidoriApp* _tmp28_;
	MidoriApp* _tmp29_;
	GError * _inner_error_ = NULL;
#line 89 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (self != NULL);
#line 89 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (app != NULL);
#line 91 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = g_get_user_cache_dir ();
#line 91 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 91 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	cache_dir = _tmp1_;
#line 92 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = cache_dir;
#line 92 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = g_build_path (G_DIR_SEPARATOR_S, _tmp2_, "wk2ext", NULL);
#line 92 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	wk2path = _tmp3_;
#line 93 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp4_ = wk2path;
#line 93 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	midori_paths_mkdir_with_parents (_tmp4_, 0700);
#line 94 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp5_ = g_strdup ("libadblock." G_MODULE_SUFFIX);
#line 94 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	filename = _tmp5_;
#line 95 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp6_ = wk2path;
#line 95 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp7_ = g_file_new_for_path (_tmp6_);
#line 95 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp8_ = _tmp7_;
#line 95 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp9_ = filename;
#line 95 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp10_ = g_file_get_child (_tmp8_, _tmp9_);
#line 95 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp11_ = _tmp10_;
#line 95 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (_tmp8_);
#line 95 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	wk2link = _tmp11_;
#line 96 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp12_ = midori_paths_get_lib_path (PACKAGE_NAME);
#line 96 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp13_ = _tmp12_;
#line 96 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp14_ = g_file_new_for_path (_tmp13_);
#line 96 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp15_ = _tmp14_;
#line 96 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp16_ = filename;
#line 96 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp17_ = g_file_get_child (_tmp15_, _tmp16_);
#line 96 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp18_ = _tmp17_;
#line 96 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (_tmp15_);
#line 96 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (_tmp13_);
#line 96 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	library = _tmp18_;
#line 1097 "extension.c"
	{
		GFile* _tmp19_;
		GFile* _tmp20_;
		gchar* _tmp21_ = NULL;
		gchar* _tmp22_;
#line 98 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp19_ = wk2link;
#line 98 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp20_ = library;
#line 98 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp21_ = g_file_get_path (_tmp20_);
#line 98 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp22_ = _tmp21_;
#line 98 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_file_make_symbolic_link (_tmp19_, _tmp22_, NULL, &_inner_error_);
#line 98 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (_tmp22_);
#line 98 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		if (_inner_error_ != NULL) {
#line 98 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			if (g_error_matches (_inner_error_, G_IO_ERROR, G_IO_ERROR_EXISTS)) {
#line 1119 "extension.c"
				goto __catch2_g_io_error_exists;
			}
			goto __catch2_g_error;
		}
	}
	goto __finally2;
	__catch2_g_io_error_exists:
	{
		GError* exist_error = NULL;
#line 97 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		exist_error = _inner_error_;
#line 97 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_inner_error_ = NULL;
#line 97 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_error_free0 (exist_error);
#line 1135 "extension.c"
	}
	goto __finally2;
	__catch2_g_error:
	{
		GError* _error_ = NULL;
		GError* _tmp23_;
		const gchar* _tmp24_;
#line 97 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_error_ = _inner_error_;
#line 97 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_inner_error_ = NULL;
#line 102 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp23_ = _error_;
#line 102 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp24_ = _tmp23_->message;
#line 102 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_critical ("extension.vala:102: Failed to create WebKit2 link: %s", _tmp24_);
#line 97 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_error_free0 (_error_);
#line 1155 "extension.c"
	}
	__finally2:
#line 97 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_inner_error_ != NULL) {
#line 97 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_object_unref0 (library);
#line 97 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_object_unref0 (wk2link);
#line 97 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (filename);
#line 97 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (wk2path);
#line 97 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (cache_dir);
#line 97 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 97 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_clear_error (&_inner_error_);
#line 97 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return;
#line 1176 "extension.c"
	}
#line 105 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_extension_init (self);
#line 106 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp25_ = app;
#line 106 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp26_ = midori_app_get_browsers (_tmp25_);
#line 1184 "extension.c"
	{
		GList* browser_collection = NULL;
		GList* browser_it = NULL;
#line 106 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		browser_collection = _tmp26_;
#line 106 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		for (browser_it = browser_collection; browser_it != NULL; browser_it = browser_it->next) {
#line 1192 "extension.c"
			MidoriBrowser* browser = NULL;
#line 106 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			browser = (MidoriBrowser*) browser_it->data;
#line 1196 "extension.c"
			{
				MidoriBrowser* _tmp27_;
#line 107 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp27_ = browser;
#line 107 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				adblock_extension_browser_added (self, _tmp27_);
#line 1203 "extension.c"
			}
		}
#line 106 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_list_free0 (browser_collection);
#line 1208 "extension.c"
	}
#line 108 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp28_ = app;
#line 108 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_connect_object (_tmp28_, "add-browser", (GCallback) _adblock_extension_browser_added_midori_app_add_browser, self, 0);
#line 109 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp29_ = app;
#line 109 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_connect_object (_tmp29_, "remove-browser", (GCallback) _adblock_extension_browser_removed_midori_app_remove_browser, self, 0);
#line 89 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (library);
#line 89 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (wk2link);
#line 89 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (filename);
#line 89 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (wk2path);
#line 89 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (cache_dir);
#line 1228 "extension.c"
}


static gpointer _g_object_ref0 (gpointer self) {
#line 113 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return self ? g_object_ref (self) : NULL;
#line 1235 "extension.c"
}


static void adblock_extension_extension_deactivated (AdblockExtension* self) {
	MidoriApp* _tmp0_ = NULL;
	MidoriApp* _tmp1_;
	MidoriApp* app;
	MidoriApp* _tmp2_;
	GList* _tmp3_ = NULL;
	MidoriApp* _tmp5_;
	guint _tmp6_ = 0U;
	MidoriApp* _tmp7_;
	guint _tmp8_ = 0U;
	AdblockStatusIcon* _tmp9_;
	GList* _tmp10_;
#line 112 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (self != NULL);
#line 113 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = midori_extension_get_app ((MidoriExtension*) self);
#line 113 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = _g_object_ref0 (_tmp0_);
#line 113 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	app = _tmp1_;
#line 114 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = app;
#line 114 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = midori_app_get_browsers (_tmp2_);
#line 1263 "extension.c"
	{
		GList* browser_collection = NULL;
		GList* browser_it = NULL;
#line 114 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		browser_collection = _tmp3_;
#line 114 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		for (browser_it = browser_collection; browser_it != NULL; browser_it = browser_it->next) {
#line 1271 "extension.c"
			MidoriBrowser* browser = NULL;
#line 114 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			browser = (MidoriBrowser*) browser_it->data;
#line 1275 "extension.c"
			{
				MidoriBrowser* _tmp4_;
#line 115 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp4_ = browser;
#line 115 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				adblock_extension_browser_removed (self, _tmp4_);
#line 1282 "extension.c"
			}
		}
#line 114 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_list_free0 (browser_collection);
#line 1287 "extension.c"
	}
#line 116 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp5_ = app;
#line 116 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_parse_name ("add-browser", MIDORI_TYPE_APP, &_tmp6_, NULL, FALSE);
#line 116 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_handlers_disconnect_matched (_tmp5_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp6_, 0, NULL, (GCallback) _adblock_extension_browser_added_midori_app_add_browser, self);
#line 117 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp7_ = app;
#line 117 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_parse_name ("remove-browser", MIDORI_TYPE_APP, &_tmp8_, NULL, FALSE);
#line 117 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_handlers_disconnect_matched (_tmp7_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp8_, 0, NULL, (GCallback) _adblock_extension_browser_removed_midori_app_remove_browser, self);
#line 118 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp9_ = self->status_icon;
#line 118 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp10_ = _tmp9_->toggle_buttons;
#line 1305 "extension.c"
	{
		GList* button_collection = NULL;
		GList* button_it = NULL;
#line 118 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		button_collection = _tmp10_;
#line 118 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		for (button_it = button_collection; button_it != NULL; button_it = button_it->next) {
#line 1313 "extension.c"
			AdblockStatusIconIconButton* _tmp11_;
			AdblockStatusIconIconButton* button = NULL;
#line 118 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp11_ = _g_object_ref0 ((AdblockStatusIconIconButton*) button_it->data);
#line 118 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			button = _tmp11_;
#line 1320 "extension.c"
			{
				AdblockStatusIconIconButton* _tmp12_;
#line 119 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp12_ = button;
#line 119 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				gtk_widget_destroy ((GtkWidget*) _tmp12_);
#line 118 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_g_object_unref0 (button);
#line 1329 "extension.c"
			}
		}
	}
#line 112 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (app);
#line 1335 "extension.c"
}


static void _adblock_extension_tab_added_midori_browser_add_tab (MidoriBrowser* _sender, MidoriView* tab, gpointer self) {
#line 125 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_extension_tab_added (self, tab);
#line 1342 "extension.c"
}


static void _adblock_extension_tab_removed_midori_browser_remove_tab (MidoriBrowser* _sender, MidoriView* tab, gpointer self) {
#line 126 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_extension_tab_removed (self, tab);
#line 1349 "extension.c"
}


static void adblock_extension_browser_added (AdblockExtension* self, MidoriBrowser* browser) {
	MidoriBrowser* _tmp0_;
	GList* _tmp1_ = NULL;
	MidoriBrowser* _tmp3_;
	MidoriBrowser* _tmp4_;
	AdblockStatusIcon* _tmp5_;
	AdblockStatusIconIconButton* _tmp6_ = NULL;
	AdblockStatusIconIconButton* toggle_button;
	MidoriBrowser* _tmp7_;
	GtkStatusbar* _tmp8_ = NULL;
	GtkStatusbar* _tmp9_;
	GtkStatusbar* _tmp10_;
#line 122 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (self != NULL);
#line 122 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (browser != NULL);
#line 123 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = browser;
#line 123 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = midori_browser_get_tabs (_tmp0_);
#line 1373 "extension.c"
	{
		GList* tab_collection = NULL;
		GList* tab_it = NULL;
#line 123 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		tab_collection = _tmp1_;
#line 123 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		for (tab_it = tab_collection; tab_it != NULL; tab_it = tab_it->next) {
#line 1381 "extension.c"
			MidoriView* tab = NULL;
#line 123 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			tab = (MidoriView*) tab_it->data;
#line 1385 "extension.c"
			{
				MidoriView* _tmp2_;
#line 124 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp2_ = tab;
#line 124 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				adblock_extension_tab_added (self, _tmp2_);
#line 1392 "extension.c"
			}
		}
#line 123 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_list_free0 (tab_collection);
#line 1397 "extension.c"
	}
#line 125 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = browser;
#line 125 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_connect_object (_tmp3_, "add-tab", (GCallback) _adblock_extension_tab_added_midori_browser_add_tab, self, 0);
#line 126 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp4_ = browser;
#line 126 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_connect_object (_tmp4_, "remove-tab", (GCallback) _adblock_extension_tab_removed_midori_browser_remove_tab, self, 0);
#line 128 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp5_ = self->status_icon;
#line 128 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp6_ = adblock_status_icon_add_button (_tmp5_);
#line 128 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	toggle_button = _tmp6_;
#line 129 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp7_ = browser;
#line 129 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_object_get (_tmp7_, "statusbar", &_tmp8_, NULL);
#line 129 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp9_ = _tmp8_;
#line 129 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp10_ = _tmp9_;
#line 129 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	gtk_box_pack_end ((GtkBox*) _tmp10_, (GtkWidget*) toggle_button, FALSE, FALSE, (guint) 3);
#line 129 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (_tmp10_);
#line 130 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	gtk_widget_show ((GtkWidget*) toggle_button);
#line 122 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (toggle_button);
#line 1429 "extension.c"
}


static void adblock_extension_browser_removed (AdblockExtension* self, MidoriBrowser* browser) {
	MidoriBrowser* _tmp0_;
	GList* _tmp1_ = NULL;
	MidoriBrowser* _tmp3_;
	guint _tmp4_ = 0U;
	MidoriBrowser* _tmp5_;
	guint _tmp6_ = 0U;
#line 133 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (self != NULL);
#line 133 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (browser != NULL);
#line 134 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = browser;
#line 134 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = midori_browser_get_tabs (_tmp0_);
#line 1448 "extension.c"
	{
		GList* tab_collection = NULL;
		GList* tab_it = NULL;
#line 134 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		tab_collection = _tmp1_;
#line 134 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		for (tab_it = tab_collection; tab_it != NULL; tab_it = tab_it->next) {
#line 1456 "extension.c"
			MidoriView* tab = NULL;
#line 134 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			tab = (MidoriView*) tab_it->data;
#line 1460 "extension.c"
			{
				MidoriView* _tmp2_;
#line 135 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp2_ = tab;
#line 135 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				adblock_extension_tab_removed (self, _tmp2_);
#line 1467 "extension.c"
			}
		}
#line 134 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_list_free0 (tab_collection);
#line 1472 "extension.c"
	}
#line 136 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = browser;
#line 136 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_parse_name ("add-tab", MIDORI_TYPE_BROWSER, &_tmp4_, NULL, FALSE);
#line 136 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_handlers_disconnect_matched (_tmp3_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp4_, 0, NULL, (GCallback) _adblock_extension_tab_added_midori_browser_add_tab, self);
#line 137 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp5_ = browser;
#line 137 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_parse_name ("remove-tab", MIDORI_TYPE_BROWSER, &_tmp6_, NULL, FALSE);
#line 137 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_handlers_disconnect_matched (_tmp5_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp6_, 0, NULL, (GCallback) _adblock_extension_tab_removed_midori_browser_remove_tab, self);
#line 1486 "extension.c"
}


static gboolean _adblock_extension_navigation_adblock_midori_tab_navigation_adblock (MidoriTab* _sender, const gchar* uri, gpointer self) {
	gboolean result;
	result = adblock_extension_navigation_adblock (self, _sender, uri);
#line 141 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return result;
#line 1495 "extension.c"
}


static void _adblock_extension_load_status_changed_g_object_notify (GObject* _sender, GParamSpec* pspec, gpointer self) {
#line 145 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_extension_load_status_changed (self, _sender, pspec);
#line 1502 "extension.c"
}


static void _adblock_extension_context_menu_midori_tab_context_menu (MidoriTab* _sender, WebKitHitTestResult* hit_test_result, MidoriContextAction* menu, gpointer self) {
#line 146 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_extension_context_menu (self, hit_test_result, menu);
#line 1509 "extension.c"
}


static void adblock_extension_tab_added (AdblockExtension* self, MidoriView* view) {
	MidoriView* _tmp0_;
	MidoriView* _tmp1_;
	MidoriView* _tmp2_;
#line 140 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (self != NULL);
#line 140 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (view != NULL);
#line 141 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = view;
#line 141 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_connect_object ((MidoriTab*) _tmp0_, "navigation-adblock", (GCallback) _adblock_extension_navigation_adblock_midori_tab_navigation_adblock, self, 0);
#line 145 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = view;
#line 145 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_connect_object ((GObject*) _tmp1_, "notify::load-status", (GCallback) _adblock_extension_load_status_changed_g_object_notify, self, 0);
#line 146 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = view;
#line 146 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_connect_object ((MidoriTab*) _tmp2_, "context-menu", (GCallback) _adblock_extension_context_menu_midori_tab_context_menu, self, 0);
#line 1533 "extension.c"
}


static void adblock_extension_tab_removed (AdblockExtension* self, MidoriView* view) {
	MidoriView* _tmp0_;
	guint _tmp1_ = 0U;
	MidoriView* _tmp2_;
	guint _tmp3_ = 0U;
	GQuark _tmp4_ = 0U;
	MidoriView* _tmp5_;
	guint _tmp6_ = 0U;
#line 149 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (self != NULL);
#line 149 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (view != NULL);
#line 153 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = view;
#line 153 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_parse_name ("navigation-adblock", MIDORI_TYPE_TAB, &_tmp1_, NULL, FALSE);
#line 153 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_handlers_disconnect_matched ((MidoriTab*) _tmp0_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp1_, 0, NULL, (GCallback) _adblock_extension_navigation_adblock_midori_tab_navigation_adblock, self);
#line 154 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = view;
#line 154 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_parse_name ("notify::load-status", G_TYPE_OBJECT, &_tmp3_, &_tmp4_, TRUE);
#line 154 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_handlers_disconnect_matched ((GObject*) _tmp2_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_DETAIL | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp3_, _tmp4_, NULL, (GCallback) _adblock_extension_load_status_changed_g_object_notify, self);
#line 155 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp5_ = view;
#line 155 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_parse_name ("context-menu", MIDORI_TYPE_TAB, &_tmp6_, NULL, FALSE);
#line 155 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_handlers_disconnect_matched ((MidoriTab*) _tmp5_, G_SIGNAL_MATCH_ID | G_SIGNAL_MATCH_FUNC | G_SIGNAL_MATCH_DATA, _tmp6_, 0, NULL, (GCallback) _adblock_extension_context_menu_midori_tab_context_menu, self);
#line 1567 "extension.c"
}


static void adblock_extension_load_status_changed (AdblockExtension* self, GObject* object, GParamSpec* pspec) {
	GObject* _tmp0_;
	MidoriView* _tmp1_;
	MidoriView* view;
	AdblockConfig* _tmp2_;
	gboolean _tmp3_;
	gboolean _tmp4_;
#line 158 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (self != NULL);
#line 158 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (object != NULL);
#line 158 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (pspec != NULL);
#line 159 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = object;
#line 159 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = _g_object_ref0 (G_TYPE_CHECK_INSTANCE_TYPE (_tmp0_, MIDORI_TYPE_VIEW) ? ((MidoriView*) _tmp0_) : NULL);
#line 159 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	view = _tmp1_;
#line 160 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = self->config;
#line 160 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = adblock_config_get_enabled (_tmp2_);
#line 160 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp4_ = _tmp3_;
#line 160 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp4_) {
#line 1598 "extension.c"
		MidoriView* _tmp5_;
		MidoriLoadStatus _tmp6_;
		MidoriLoadStatus _tmp7_;
#line 161 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp5_ = view;
#line 161 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp6_ = midori_tab_get_load_status ((MidoriTab*) _tmp5_);
#line 161 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp7_ = _tmp6_;
#line 161 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		if (_tmp7_ == MIDORI_LOAD_FINISHED) {
#line 1610 "extension.c"
			MidoriView* _tmp8_;
			MidoriView* _tmp9_;
			const gchar* _tmp10_;
			const gchar* _tmp11_;
#line 162 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp8_ = view;
#line 162 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp9_ = view;
#line 162 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp10_ = midori_tab_get_uri ((MidoriTab*) _tmp9_);
#line 162 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp11_ = _tmp10_;
#line 162 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			adblock_extension_inject_css (self, _tmp8_, _tmp11_);
#line 1625 "extension.c"
		}
	}
#line 158 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (view);
#line 1630 "extension.c"
}


static Block4Data* block4_data_ref (Block4Data* _data4_) {
#line 166 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_atomic_int_inc (&_data4_->_ref_count_);
#line 166 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return _data4_;
#line 1639 "extension.c"
}


static void block4_data_unref (void * _userdata_) {
	Block4Data* _data4_;
	_data4_ = (Block4Data*) _userdata_;
#line 166 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (g_atomic_int_dec_and_test (&_data4_->_ref_count_)) {
#line 1648 "extension.c"
		AdblockExtension * self;
#line 166 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		self = _data4_->self;
#line 166 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (_data4_->uri);
#line 166 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_object_unref0 (self);
#line 166 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_slice_free (Block4Data, _data4_);
#line 1658 "extension.c"
	}
}


static void __lambda11_ (Block4Data* _data4_, GtkAction* action) {
	AdblockExtension * self;
	AdblockSubscription* _tmp0_;
	AdblockCustomRulesEditor* _tmp1_;
	AdblockCustomRulesEditor* custom_rules_editor;
	const gchar* _tmp2_;
#line 177 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	self = _data4_->self;
#line 177 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (action != NULL);
#line 178 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = self->custom;
#line 178 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = adblock_custom_rules_editor_new (_tmp0_);
#line 178 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	custom_rules_editor = _tmp1_;
#line 179 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = _data4_->uri;
#line 179 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_custom_rules_editor_set_uri (custom_rules_editor, _tmp2_);
#line 180 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_custom_rules_editor_show (custom_rules_editor);
#line 177 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_adblock_custom_rules_editor_unref0 (custom_rules_editor);
#line 1687 "extension.c"
}


static void ___lambda11__gtk_action_activate (GtkAction* _sender, gpointer self) {
#line 177 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	__lambda11_ (self, _sender);
#line 1694 "extension.c"
}


static void adblock_extension_context_menu (AdblockExtension* self, WebKitHitTestResult* hit_test_result, MidoriContextAction* menu) {
	Block4Data* _data4_;
	gchar* label = NULL;
	WebKitHitTestResult* _tmp0_;
	guint _tmp1_;
	guint _tmp2_;
	const gchar* _tmp18_;
	GtkAction* _tmp19_;
	GtkAction* action;
	GtkAction* _tmp20_;
	MidoriContextAction* _tmp21_;
	GtkAction* _tmp22_;
#line 166 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (self != NULL);
#line 166 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (hit_test_result != NULL);
#line 166 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (menu != NULL);
#line 166 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_data4_ = g_slice_new0 (Block4Data);
#line 166 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_data4_->_ref_count_ = 1;
#line 166 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_data4_->self = g_object_ref (self);
#line 168 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = hit_test_result;
#line 168 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = webkit_hit_test_result_get_context (_tmp0_);
#line 168 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = _tmp1_;
#line 168 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if ((_tmp2_ & WEBKIT_HIT_TEST_RESULT_CONTEXT_IMAGE) != ((guint) 0)) {
#line 1730 "extension.c"
		const gchar* _tmp3_ = NULL;
		gchar* _tmp4_;
		WebKitHitTestResult* _tmp5_;
		const gchar* _tmp6_;
		const gchar* _tmp7_;
		gchar* _tmp8_;
#line 169 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp3_ = _ ("Bl_ock image");
#line 169 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp4_ = g_strdup (_tmp3_);
#line 169 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (label);
#line 169 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		label = _tmp4_;
#line 170 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp5_ = hit_test_result;
#line 170 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp6_ = webkit_hit_test_result_get_image_uri (_tmp5_);
#line 170 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp7_ = _tmp6_;
#line 170 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp8_ = g_strdup (_tmp7_);
#line 170 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (_data4_->uri);
#line 170 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_data4_->uri = _tmp8_;
#line 1757 "extension.c"
	} else {
		WebKitHitTestResult* _tmp9_;
		guint _tmp10_;
		guint _tmp11_;
#line 171 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp9_ = hit_test_result;
#line 171 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp10_ = webkit_hit_test_result_get_context (_tmp9_);
#line 171 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp11_ = _tmp10_;
#line 171 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		if ((_tmp11_ & WEBKIT_HIT_TEST_RESULT_CONTEXT_LINK) != ((guint) 0)) {
#line 1770 "extension.c"
			const gchar* _tmp12_ = NULL;
			gchar* _tmp13_;
			WebKitHitTestResult* _tmp14_;
			const gchar* _tmp15_;
			const gchar* _tmp16_;
			gchar* _tmp17_;
#line 172 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp12_ = _ ("Bl_ock link");
#line 172 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp13_ = g_strdup (_tmp12_);
#line 172 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_g_free0 (label);
#line 172 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			label = _tmp13_;
#line 173 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp14_ = hit_test_result;
#line 173 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp15_ = webkit_hit_test_result_get_link_uri (_tmp14_);
#line 173 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp16_ = _tmp15_;
#line 173 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp17_ = g_strdup (_tmp16_);
#line 173 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_g_free0 (_data4_->uri);
#line 173 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_data4_->uri = _tmp17_;
#line 1797 "extension.c"
		} else {
#line 175 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_g_free0 (label);
#line 175 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			block4_data_unref (_data4_);
#line 175 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_data4_ = NULL;
#line 175 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			return;
#line 1807 "extension.c"
		}
	}
#line 176 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp18_ = label;
#line 176 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp19_ = gtk_action_new ("BlockElement", _tmp18_, NULL, NULL);
#line 176 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	action = _tmp19_;
#line 177 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp20_ = action;
#line 177 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_connect_data (_tmp20_, "activate", (GCallback) ___lambda11__gtk_action_activate, block4_data_ref (_data4_), (GClosureNotify) block4_data_unref, 0);
#line 182 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp21_ = menu;
#line 182 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp22_ = action;
#line 182 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	midori_context_action_add (_tmp21_, _tmp22_);
#line 166 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (action);
#line 166 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (label);
#line 166 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	block4_data_unref (_data4_);
#line 166 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_data4_ = NULL;
#line 1834 "extension.c"
}


static gboolean adblock_extension_navigation_adblock (AdblockExtension* self, MidoriTab* tab, const gchar* uri) {
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	const gchar* _tmp1_;
	gboolean _tmp2_ = FALSE;
	gboolean _tmp5_;
	AdblockState _tmp25_ = 0;
	AdblockConfig* _tmp26_;
	gboolean _tmp27_;
	gboolean _tmp28_;
	AdblockStatusIcon* _tmp29_;
	AdblockState _tmp30_;
#line 195 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 195 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_val_if_fail (tab != NULL, FALSE);
#line 195 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_val_if_fail (uri != NULL, FALSE);
#line 196 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = uri;
#line 196 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = g_str_has_prefix (_tmp1_, "abp:");
#line 196 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp2_) {
#line 196 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp0_ = TRUE;
#line 1864 "extension.c"
	} else {
		const gchar* _tmp3_;
		gboolean _tmp4_ = FALSE;
#line 196 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp3_ = uri;
#line 196 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp4_ = g_str_has_prefix (_tmp3_, "http:");
#line 196 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp0_ = _tmp4_;
#line 1874 "extension.c"
	}
#line 196 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp5_ = _tmp0_;
#line 196 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp5_) {
#line 1880 "extension.c"
		FILE* _tmp6_;
		const gchar* _tmp7_;
		const gchar* _tmp8_;
		MidoriTab* _tmp9_;
		const gchar* _tmp10_;
		const gchar* _tmp11_;
		gboolean _tmp12_ = FALSE;
#line 200 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp6_ = stdout;
#line 200 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp7_ = uri;
#line 200 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		fprintf (_tmp6_, "uri=================%s\n", _tmp7_);
#line 201 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp8_ = uri;
#line 201 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp9_ = tab;
#line 201 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp10_ = midori_tab_get_uri (_tmp9_);
#line 201 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp11_ = _tmp10_;
#line 201 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp12_ = adblock_extension_request_handled (self, _tmp8_, _tmp11_);
#line 201 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		if (_tmp12_) {
#line 1906 "extension.c"
			FILE* _tmp13_;
			const gchar* _tmp14_;
			FILE* _tmp15_;
			MidoriTab* _tmp16_;
			const gchar* _tmp17_;
			const gchar* _tmp18_;
			AdblockState _tmp19_ = 0;
			AdblockConfig* _tmp20_;
			gboolean _tmp21_;
			gboolean _tmp22_;
			AdblockStatusIcon* _tmp23_;
			AdblockState _tmp24_;
#line 202 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp13_ = stdout;
#line 202 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp14_ = uri;
#line 202 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			fprintf (_tmp13_, "uri==%s\n", _tmp14_);
#line 203 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp15_ = stdout;
#line 203 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp16_ = tab;
#line 203 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp17_ = midori_tab_get_uri (_tmp16_);
#line 203 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp18_ = _tmp17_;
#line 203 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			fprintf (_tmp15_, "pageuri==%s\n", _tmp18_);
#line 204 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp20_ = self->config;
#line 204 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp21_ = adblock_config_get_enabled (_tmp20_);
#line 204 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp22_ = _tmp21_;
#line 204 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			if (_tmp22_) {
#line 204 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp19_ = ADBLOCK_STATE_ENABLED;
#line 1945 "extension.c"
			} else {
#line 204 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp19_ = ADBLOCK_STATE_DISABLED;
#line 1949 "extension.c"
			}
#line 204 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp23_ = self->status_icon;
#line 204 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp24_ = _tmp19_;
#line 204 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			adblock_status_icon_set_state (_tmp23_, _tmp24_);
#line 205 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			result = TRUE;
#line 205 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			return result;
#line 1961 "extension.c"
		}
	}
#line 208 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp26_ = self->config;
#line 208 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp27_ = adblock_config_get_enabled (_tmp26_);
#line 208 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp28_ = _tmp27_;
#line 208 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp28_) {
#line 208 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp25_ = ADBLOCK_STATE_ENABLED;
#line 1974 "extension.c"
	} else {
#line 208 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp25_ = ADBLOCK_STATE_DISABLED;
#line 1978 "extension.c"
	}
#line 208 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp29_ = self->status_icon;
#line 208 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp30_ = _tmp25_;
#line 208 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_status_icon_set_state (_tmp29_, _tmp30_);
#line 209 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	result = FALSE;
#line 209 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return result;
#line 1990 "extension.c"
}


static gchar* adblock_extension_fetch_js_hider_function_body (AdblockExtension* self) {
	gchar* result = NULL;
	gchar* _tmp0_ = NULL;
	gchar* filename;
	GFile* _tmp1_ = NULL;
	GFile* js_file;
	GError * _inner_error_ = NULL;
#line 232 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 233 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = midori_paths_get_res_filename ("adblock/element_hider.js");
#line 233 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	filename = _tmp0_;
#line 234 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = g_file_new_for_path (filename);
#line 234 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	js_file = _tmp1_;
#line 2011 "extension.c"
	{
		guint8* function_body = NULL;
		gint function_body_length1 = 0;
		gint _function_body_size_ = 0;
		guint8* _tmp2_ = NULL;
		gsize _tmp3_;
		gchar* _tmp4_;
#line 237 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_file_load_contents (js_file, NULL, &_tmp2_, &_tmp3_, NULL, &_inner_error_);
#line 237 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		function_body = (g_free (function_body), NULL);
#line 237 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		function_body = _tmp2_;
#line 237 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		function_body_length1 = _tmp3_;
#line 237 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_function_body_size_ = function_body_length1;
#line 237 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		if (_inner_error_ != NULL) {
#line 237 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			function_body = (g_free (function_body), NULL);
#line 2033 "extension.c"
			goto __catch3_g_error;
		}
#line 238 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp4_ = g_strdup ((const gchar*) function_body);
#line 238 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		result = _tmp4_;
#line 238 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		function_body = (g_free (function_body), NULL);
#line 238 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_object_unref0 (js_file);
#line 238 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (filename);
#line 238 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return result;
#line 2048 "extension.c"
	}
	goto __finally3;
	__catch3_g_error:
	{
		GError* _error_ = NULL;
		GError* _tmp5_;
		const gchar* _tmp6_;
#line 235 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_error_ = _inner_error_;
#line 235 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_inner_error_ = NULL;
#line 241 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp5_ = _error_;
#line 241 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp6_ = _tmp5_->message;
#line 241 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_warning ("extension.vala:241: Error while loading adblock hider js: %s\n", _tmp6_);
#line 235 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_error_free0 (_error_);
#line 2068 "extension.c"
	}
	__finally3:
#line 235 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_inner_error_ != NULL) {
#line 235 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_object_unref0 (js_file);
#line 235 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (filename);
#line 235 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 235 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_clear_error (&_inner_error_);
#line 235 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return NULL;
#line 2083 "extension.c"
	}
#line 243 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	result = NULL;
#line 243 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (js_file);
#line 243 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (filename);
#line 243 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return result;
#line 2093 "extension.c"
}


static gchar* adblock_extension_get_hider_js_for_blocked_resorces (AdblockExtension* self) {
	gchar* result = NULL;
	GString* _tmp0_;
	const gchar* _tmp1_;
	gboolean _tmp2_ = FALSE;
	const gchar* _tmp3_;
	gboolean _tmp5_;
	GString* _tmp6_;
	GString* js;
	GString* _tmp7_;
	const gchar* _tmp8_;
	GString* _tmp9_;
	GString* _tmp10_;
	GString* _tmp11_;
	const gchar* _tmp12_;
	GString* _tmp13_;
	GString* _tmp14_;
	const gchar* _tmp15_;
	gchar* _tmp16_;
#line 246 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 247 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = self->hider_selectors;
#line 247 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = _tmp0_->str;
#line 247 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (g_strcmp0 (_tmp1_, "") == 0) {
#line 248 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		result = NULL;
#line 248 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return result;
#line 2128 "extension.c"
	}
#line 250 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = self->js_hider_function_body;
#line 250 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp3_ == NULL) {
#line 250 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp2_ = TRUE;
#line 2136 "extension.c"
	} else {
		const gchar* _tmp4_;
#line 250 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp4_ = self->js_hider_function_body;
#line 250 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp2_ = g_strcmp0 (_tmp4_, "") == 0;
#line 2143 "extension.c"
	}
#line 250 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp5_ = _tmp2_;
#line 250 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp5_) {
#line 251 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		result = NULL;
#line 251 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return result;
#line 2153 "extension.c"
	}
#line 253 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp6_ = g_string_new ("(function() {");
#line 253 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	js = _tmp6_;
#line 254 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp7_ = js;
#line 254 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp8_ = self->js_hider_function_body;
#line 254 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_string_append (_tmp7_, _tmp8_);
#line 255 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp9_ = js;
#line 255 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_string_append (_tmp9_, "var uris=new Array ();");
#line 256 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp10_ = js;
#line 256 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp11_ = self->hider_selectors;
#line 256 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp12_ = _tmp11_->str;
#line 256 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_string_append (_tmp10_, _tmp12_);
#line 257 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp13_ = js;
#line 257 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_string_append (_tmp13_, " hideElementBySrc (uris);})();");
#line 259 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp14_ = js;
#line 259 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp15_ = _tmp14_->str;
#line 259 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp16_ = g_strdup (_tmp15_);
#line 259 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	result = _tmp16_;
#line 259 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_string_free0 (js);
#line 259 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return result;
#line 2193 "extension.c"
}


static void _vala_array_add1 (gchar*** array, int* length, int* size, gchar* value) {
#line 277 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if ((*length) == (*size)) {
#line 277 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		*size = (*size) ? (2 * (*size)) : 4;
#line 277 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		*array = g_renew (gchar*, *array, (*size) + 1);
#line 2204 "extension.c"
	}
#line 277 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	(*array)[(*length)++] = value;
#line 277 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	(*array)[*length] = NULL;
#line 2210 "extension.c"
}


static gchar** adblock_extension_get_domains_for_uri (AdblockExtension* self, const gchar* uri, int* result_length1) {
	gchar** result = NULL;
	const gchar* _tmp0_;
	gchar** domains;
	gint domains_length1;
	gint _domains_size_;
	const gchar* _tmp2_;
	gchar* _tmp3_ = NULL;
	gchar* domain;
	const gchar* _tmp4_;
	gchar** _tmp5_;
	gchar** _tmp6_ = NULL;
	gchar** subdomains;
	gint subdomains_length1;
	gint _subdomains_size_;
	gchar** _tmp7_;
	gint _tmp7__length1;
	gchar** _tmp9_;
	gint _tmp9__length1;
	gint cnt;
	gchar** _tmp10_;
	gint _tmp10__length1;
	gint _tmp11_;
	const gchar* _tmp12_;
	GString* _tmp13_;
	GString* subdomain;
	GString* _tmp14_;
	gint _tmp15_;
	gchar** _tmp27_;
	gint _tmp27__length1;
#line 263 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 263 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_val_if_fail (uri != NULL, NULL);
#line 264 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = uri;
#line 264 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp0_ == NULL) {
#line 2252 "extension.c"
		gchar** _tmp1_;
		gint _tmp1__length1;
#line 265 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp1_ = NULL;
#line 265 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp1__length1 = 0;
#line 265 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		if (result_length1) {
#line 265 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			*result_length1 = _tmp1__length1;
#line 2263 "extension.c"
		}
#line 265 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		result = _tmp1_;
#line 265 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return result;
#line 2269 "extension.c"
	}
#line 266 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	domains = NULL;
#line 266 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	domains_length1 = 0;
#line 266 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_domains_size_ = domains_length1;
#line 267 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = uri;
#line 267 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = midori_uri_parse_hostname (_tmp2_, NULL);
#line 267 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	domain = _tmp3_;
#line 268 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp4_ = domain;
#line 268 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp6_ = _tmp5_ = g_strsplit (_tmp4_, ".", 0);
#line 268 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	subdomains = _tmp6_;
#line 268 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	subdomains_length1 = _vala_array_length (_tmp5_);
#line 268 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_subdomains_size_ = subdomains_length1;
#line 269 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp7_ = subdomains;
#line 269 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp7__length1 = subdomains_length1;
#line 269 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp7_ == NULL) {
#line 2299 "extension.c"
		gchar** _tmp8_;
		gint _tmp8__length1;
#line 270 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp8_ = NULL;
#line 270 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp8__length1 = 0;
#line 270 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		if (result_length1) {
#line 270 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			*result_length1 = _tmp8__length1;
#line 2310 "extension.c"
		}
#line 270 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		result = _tmp8_;
#line 270 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		subdomains = (_vala_array_free (subdomains, subdomains_length1, (GDestroyNotify) g_free), NULL);
#line 270 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (domain);
#line 270 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		domains = (_vala_array_free (domains, domains_length1, (GDestroyNotify) g_free), NULL);
#line 270 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return result;
#line 2322 "extension.c"
	}
#line 271 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp9_ = subdomains;
#line 271 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp9__length1 = subdomains_length1;
#line 271 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	cnt = _tmp9__length1 - 1;
#line 272 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp10_ = subdomains;
#line 272 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp10__length1 = subdomains_length1;
#line 272 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp11_ = cnt;
#line 272 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp12_ = _tmp10_[_tmp11_];
#line 272 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp13_ = g_string_new (_tmp12_);
#line 272 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	subdomain = _tmp13_;
#line 273 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp14_ = subdomain;
#line 273 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_string_prepend_c (_tmp14_, '.');
#line 274 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp15_ = cnt;
#line 274 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	cnt = _tmp15_ - 1;
#line 275 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	while (TRUE) {
#line 2352 "extension.c"
		gint _tmp16_;
		GString* _tmp17_;
		gchar** _tmp18_;
		gint _tmp18__length1;
		gint _tmp19_;
		const gchar* _tmp20_;
		gchar** _tmp21_;
		gint _tmp21__length1;
		GString* _tmp22_;
		const gchar* _tmp23_;
		gchar* _tmp24_;
		GString* _tmp25_;
		gint _tmp26_;
#line 275 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp16_ = cnt;
#line 275 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		if (!(_tmp16_ >= 0)) {
#line 275 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			break;
#line 2372 "extension.c"
		}
#line 276 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp17_ = subdomain;
#line 276 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp18_ = subdomains;
#line 276 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp18__length1 = subdomains_length1;
#line 276 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp19_ = cnt;
#line 276 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp20_ = _tmp18_[_tmp19_];
#line 276 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_string_prepend (_tmp17_, _tmp20_);
#line 277 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp21_ = domains;
#line 277 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp21__length1 = domains_length1;
#line 277 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp22_ = subdomain;
#line 277 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp23_ = _tmp22_->str;
#line 277 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp24_ = g_strdup (_tmp23_);
#line 277 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_vala_array_add1 (&domains, &domains_length1, &_domains_size_, _tmp24_);
#line 278 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp25_ = subdomain;
#line 278 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_string_prepend_c (_tmp25_, '.');
#line 279 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp26_ = cnt;
#line 279 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		cnt = _tmp26_ - 1;
#line 2406 "extension.c"
	}
#line 281 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp27_ = domains;
#line 281 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp27__length1 = domains_length1;
#line 281 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (result_length1) {
#line 281 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		*result_length1 = _tmp27__length1;
#line 2416 "extension.c"
	}
#line 281 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	result = _tmp27_;
#line 281 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_string_free0 (subdomain);
#line 281 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	subdomains = (_vala_array_free (subdomains, subdomains_length1, (GDestroyNotify) g_free), NULL);
#line 281 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (domain);
#line 281 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return result;
#line 2428 "extension.c"
}


static gchar* adblock_extension_get_hider_css_rules_for_uri (AdblockExtension* self, const gchar* page_uri) {
	gchar* result = NULL;
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	gint _tmp2_ = 0;
	gchar** _tmp3_ = NULL;
	gchar** domains;
	gint domains_length1;
	gint _domains_size_;
	gchar** _tmp4_;
	gint _tmp4__length1;
	GString* _tmp5_;
	GString* code;
	gint blockscnt;
	gchar* style;
	gint _tmp39_;
	GString* _tmp40_;
	GString* _tmp41_;
	gssize _tmp42_;
	gchar* hider_css = NULL;
	gboolean _tmp43_;
	GString* _tmp46_;
	const gchar* _tmp47_;
	gboolean _tmp48_;
	GString* _tmp52_;
	const gchar* _tmp53_;
	gchar* _tmp54_;
#line 284 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_val_if_fail (self != NULL, NULL);
#line 284 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_val_if_fail (page_uri != NULL, NULL);
#line 285 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = page_uri;
#line 285 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp0_ == NULL) {
#line 286 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		result = NULL;
#line 286 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return result;
#line 2471 "extension.c"
	}
#line 287 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = page_uri;
#line 287 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = adblock_extension_get_domains_for_uri (self, _tmp1_, &_tmp2_);
#line 287 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	domains = _tmp3_;
#line 287 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	domains_length1 = _tmp2_;
#line 287 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_domains_size_ = domains_length1;
#line 288 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp4_ = domains;
#line 288 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp4__length1 = domains_length1;
#line 288 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp4_ == NULL) {
#line 289 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		result = NULL;
#line 289 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		domains = (_vala_array_free (domains, domains_length1, (GDestroyNotify) g_free), NULL);
#line 289 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return result;
#line 2495 "extension.c"
	}
#line 290 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp5_ = g_string_new ("");
#line 290 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	code = _tmp5_;
#line 291 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	blockscnt = 0;
#line 292 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	style = NULL;
#line 2505 "extension.c"
	{
		AdblockConfig* _tmp6_;
		AdblockConfig* _tmp7_;
		AdblockConfig* _sub_list;
		AdblockConfig* _tmp8_;
		guint _tmp9_;
		guint _tmp10_;
		guint _sub_size;
		gint _sub_index;
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp6_ = self->config;
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp7_ = _g_object_ref0 (_tmp6_);
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_sub_list = _tmp7_;
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp8_ = _sub_list;
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp9_ = adblock_config_get_size (_tmp8_);
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp10_ = _tmp9_;
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_sub_size = _tmp10_;
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_sub_index = -1;
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		while (TRUE) {
#line 2533 "extension.c"
			gint _tmp11_;
			gint _tmp12_;
			guint _tmp13_;
			AdblockConfig* _tmp14_;
			gint _tmp15_;
			AdblockSubscription* _tmp16_ = NULL;
			AdblockSubscription* sub;
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp11_ = _sub_index;
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_sub_index = _tmp11_ + 1;
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp12_ = _sub_index;
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp13_ = _sub_size;
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			if (!(((guint) _tmp12_) < _tmp13_)) {
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				break;
#line 2553 "extension.c"
			}
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp14_ = _sub_list;
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp15_ = _sub_index;
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp16_ = adblock_config_get (_tmp14_, (guint) _tmp15_);
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			sub = _tmp16_;
#line 2563 "extension.c"
			{
				AdblockSubscription* _tmp17_;
				AdblockSubscription* _tmp18_;
				AdblockSubscription* _feature_list;
				AdblockSubscription* _tmp19_;
				guint _tmp20_;
				guint _tmp21_;
				guint _feature_size;
				gint _feature_index;
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp17_ = sub;
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp18_ = _g_object_ref0 (_tmp17_);
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_feature_list = _tmp18_;
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp19_ = _feature_list;
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp20_ = adblock_subscription_get_size (_tmp19_);
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp21_ = _tmp20_;
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_feature_size = _tmp21_;
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_feature_index = -1;
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				while (TRUE) {
#line 2591 "extension.c"
					gint _tmp22_;
					gint _tmp23_;
					guint _tmp24_;
					AdblockSubscription* _tmp25_;
					gint _tmp26_;
					AdblockFeature* _tmp27_ = NULL;
					AdblockFeature* feature;
					AdblockFeature* _tmp28_;
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp22_ = _feature_index;
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_feature_index = _tmp22_ + 1;
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp23_ = _feature_index;
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp24_ = _feature_size;
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					if (!(((guint) _tmp23_) < _tmp24_)) {
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						break;
#line 2612 "extension.c"
					}
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp25_ = _feature_list;
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp26_ = _feature_index;
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp27_ = adblock_subscription_get (_tmp25_, (guint) _tmp26_);
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					feature = _tmp27_;
#line 295 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp28_ = feature;
#line 295 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					if (G_TYPE_CHECK_INSTANCE_TYPE (_tmp28_, ADBLOCK_TYPE_ELEMENT)) {
#line 2626 "extension.c"
						gchar** _tmp29_;
						gint _tmp29__length1;
#line 296 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp29_ = domains;
#line 296 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp29__length1 = domains_length1;
#line 2633 "extension.c"
						{
							gchar** subdomain_collection = NULL;
							gint subdomain_collection_length1 = 0;
							gint _subdomain_collection_size_ = 0;
							gint subdomain_it = 0;
#line 296 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
							subdomain_collection = _tmp29_;
#line 296 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
							subdomain_collection_length1 = _tmp29__length1;
#line 296 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
							for (subdomain_it = 0; subdomain_it < _tmp29__length1; subdomain_it = subdomain_it + 1) {
#line 2645 "extension.c"
								gchar* _tmp30_;
								gchar* subdomain = NULL;
#line 296 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
								_tmp30_ = g_strdup (subdomain_collection[subdomain_it]);
#line 296 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
								subdomain = _tmp30_;
#line 2652 "extension.c"
								{
									AdblockFeature* _tmp31_;
									const gchar* _tmp32_;
									gchar* _tmp33_ = NULL;
									const gchar* _tmp34_;
#line 297 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
									_tmp31_ = feature;
#line 297 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
									_tmp32_ = subdomain;
#line 297 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
									_tmp33_ = adblock_element_lookup (G_TYPE_CHECK_INSTANCE_TYPE (_tmp31_, ADBLOCK_TYPE_ELEMENT) ? ((AdblockElement*) _tmp31_) : NULL, _tmp32_);
#line 297 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
									_g_free0 (style);
#line 297 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
									style = _tmp33_;
#line 298 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
									_tmp34_ = style;
#line 298 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
									if (_tmp34_ != NULL) {
#line 2672 "extension.c"
										GString* _tmp35_;
										const gchar* _tmp36_;
										GString* _tmp37_;
										gint _tmp38_;
#line 299 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
										_tmp35_ = code;
#line 299 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
										_tmp36_ = style;
#line 299 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
										g_string_append (_tmp35_, _tmp36_);
#line 300 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
										_tmp37_ = code;
#line 300 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
										g_string_append_c (_tmp37_, ',');
#line 301 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
										_tmp38_ = blockscnt;
#line 301 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
										blockscnt = _tmp38_ + 1;
#line 2691 "extension.c"
									}
#line 296 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
									_g_free0 (subdomain);
#line 2695 "extension.c"
								}
							}
						}
					}
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_object_unref0 (feature);
#line 2702 "extension.c"
				}
#line 294 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_g_object_unref0 (_feature_list);
#line 2706 "extension.c"
			}
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_g_object_unref0 (sub);
#line 2710 "extension.c"
		}
#line 293 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_object_unref0 (_sub_list);
#line 2714 "extension.c"
	}
#line 308 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp39_ = blockscnt;
#line 308 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp39_ == 0) {
#line 309 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		result = NULL;
#line 309 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (style);
#line 309 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_string_free0 (code);
#line 309 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		domains = (_vala_array_free (domains, domains_length1, (GDestroyNotify) g_free), NULL);
#line 309 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return result;
#line 2730 "extension.c"
	}
#line 310 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp40_ = code;
#line 310 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp41_ = code;
#line 310 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp42_ = _tmp41_->len;
#line 310 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_string_truncate (_tmp40_, (gsize) (_tmp42_ - 1));
#line 313 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp43_ = self->debug_element;
#line 313 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp43_) {
#line 2744 "extension.c"
		gchar* _tmp44_;
#line 314 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp44_ = g_strdup (" { background-color: red !important; border: 4px solid green !importan" \
"t; }");
#line 314 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (hider_css);
#line 314 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		hider_css = _tmp44_;
#line 2752 "extension.c"
	} else {
		gchar* _tmp45_;
#line 316 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp45_ = g_strdup (" { display: none !important }");
#line 316 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (hider_css);
#line 316 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		hider_css = _tmp45_;
#line 2761 "extension.c"
	}
#line 318 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp46_ = code;
#line 318 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp47_ = hider_css;
#line 318 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_string_append (_tmp46_, _tmp47_);
#line 319 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp48_ = self->debug_element;
#line 319 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp48_) {
#line 2773 "extension.c"
		FILE* _tmp49_;
		GString* _tmp50_;
		const gchar* _tmp51_;
#line 320 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp49_ = stdout;
#line 320 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp50_ = code;
#line 320 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp51_ = _tmp50_->str;
#line 320 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		fprintf (_tmp49_, "css: %s\n", _tmp51_);
#line 2785 "extension.c"
	}
#line 322 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp52_ = code;
#line 322 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp53_ = _tmp52_->str;
#line 322 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp54_ = g_strdup (_tmp53_);
#line 322 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	result = _tmp54_;
#line 322 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (hider_css);
#line 322 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (style);
#line 322 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_string_free0 (code);
#line 322 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	domains = (_vala_array_free (domains, domains_length1, (GDestroyNotify) g_free), NULL);
#line 322 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return result;
#line 2805 "extension.c"
}


static gboolean string_contains (const gchar* self, const gchar* needle) {
	gboolean result = FALSE;
	const gchar* _tmp0_;
	gchar* _tmp1_ = NULL;
#line 1238 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, FALSE);
#line 1238 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	g_return_val_if_fail (needle != NULL, FALSE);
#line 1239 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp0_ = needle;
#line 1239 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp1_ = strstr ((gchar*) self, (gchar*) _tmp0_);
#line 1239 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	result = _tmp1_ != NULL;
#line 1239 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	return result;
#line 2825 "extension.c"
}


static void adblock_extension_inject_css (AdblockExtension* self, MidoriView* view, const gchar* page_uri) {
	const gchar* _tmp0_;
	gboolean _tmp1_ = FALSE;
	const gchar* _tmp2_ = NULL;
	gchar* _tmp3_;
	gchar* _tmp4_;
	const gchar* _tmp5_;
	const gchar* _tmp7_;
	gboolean _tmp8_ = FALSE;
	gchar* _tmp11_ = NULL;
	gchar* blocked_js;
	const gchar* _tmp12_;
	const gchar* _tmp15_;
	gchar* _tmp16_ = NULL;
	gchar* style;
	const gchar* _tmp17_;
#line 325 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (self != NULL);
#line 325 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (view != NULL);
#line 325 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (page_uri != NULL);
#line 327 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = page_uri;
#line 327 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = midori_uri_is_http (_tmp0_);
#line 327 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (!_tmp1_) {
#line 328 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return;
#line 2859 "extension.c"
	}
#line 330 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = g_getenv ("MIDORI_DEBUG");
#line 330 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = g_strdup (_tmp2_);
#line 330 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp4_ = _tmp3_;
#line 330 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp5_ = _tmp4_;
#line 330 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp5_ == NULL) {
#line 2871 "extension.c"
		gchar* _tmp6_;
#line 330 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp6_ = g_strdup ("");
#line 330 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (_tmp4_);
#line 330 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp4_ = _tmp6_;
#line 2879 "extension.c"
	}
#line 330 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp7_ = _tmp4_;
#line 330 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp8_ = string_contains (_tmp7_, "adblock:element");
#line 330 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp8_) {
#line 331 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		self->debug_element = TRUE;
#line 2889 "extension.c"
	} else {
		AdblockStatusIcon* _tmp9_;
		gboolean _tmp10_;
#line 333 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp9_ = self->status_icon;
#line 333 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp10_ = _tmp9_->debug_element_toggled;
#line 333 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		self->debug_element = _tmp10_;
#line 2899 "extension.c"
	}
#line 340 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp11_ = adblock_extension_get_hider_js_for_blocked_resorces (self);
#line 340 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	blocked_js = _tmp11_;
#line 341 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp12_ = blocked_js;
#line 341 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp12_ != NULL) {
#line 2909 "extension.c"
		MidoriView* _tmp13_;
		const gchar* _tmp14_;
#line 342 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp13_ = view;
#line 342 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp14_ = blocked_js;
#line 342 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		midori_view_execute_script (_tmp13_, _tmp14_, NULL);
#line 2918 "extension.c"
	}
#line 344 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp15_ = page_uri;
#line 344 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp16_ = adblock_extension_get_hider_css_rules_for_uri (self, _tmp15_);
#line 344 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	style = _tmp16_;
#line 345 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp17_ = style;
#line 345 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp17_ != NULL) {
#line 2930 "extension.c"
		MidoriView* _tmp18_;
		const gchar* _tmp19_;
#line 346 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp18_ = view;
#line 346 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp19_ = style;
#line 346 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		midori_tab_inject_stylesheet ((MidoriTab*) _tmp18_, _tmp19_);
#line 2939 "extension.c"
	}
#line 325 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (style);
#line 325 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (blocked_js);
#line 325 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (_tmp4_);
#line 2947 "extension.c"
}


static void _adblock_extension_subscriptions_added_removed_g_object_notify (GObject* _sender, GParamSpec* pspec, gpointer self) {
#line 361 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_extension_subscriptions_added_removed (self, pspec);
#line 2954 "extension.c"
}


static gboolean _adblock_extension_open_link_gtk_label_activate_link (GtkLabel* _sender, const gchar* uri, gpointer self) {
	gboolean result;
	result = adblock_extension_open_link (self, uri);
#line 362 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return result;
#line 2963 "extension.c"
}


void adblock_extension_init (AdblockExtension* self) {
	GString* _tmp0_;
	AdblockConfig* _tmp1_;
	AdblockSubscriptionManager* _tmp2_;
	AdblockConfig* _tmp3_;
	AdblockSubscriptionManager* _tmp4_;
	AdblockStatusIcon* _tmp5_;
	AdblockConfig* _tmp23_;
	AdblockSubscriptionManager* _tmp24_;
	GtkLabel* _tmp25_;
	gchar* _tmp26_ = NULL;
	GError * _inner_error_ = NULL;
#line 349 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (self != NULL);
#line 350 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = g_string_new ("");
#line 350 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_string_free0 (self->hider_selectors);
#line 350 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	self->hider_selectors = _tmp0_;
#line 351 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_extension_load_config (self);
#line 352 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = self->config;
#line 352 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = adblock_subscription_manager_new (_tmp1_);
#line 352 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_adblock_subscription_manager_unref0 (self->manager);
#line 352 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	self->manager = _tmp2_;
#line 353 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = self->config;
#line 353 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp4_ = self->manager;
#line 353 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp5_ = adblock_status_icon_new (_tmp3_, _tmp4_);
#line 353 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_adblock_status_icon_unref0 (self->status_icon);
#line 353 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	self->status_icon = _tmp5_;
#line 3007 "extension.c"
	{
		AdblockConfig* _tmp6_;
		AdblockConfig* _tmp7_;
		AdblockConfig* _sub_list;
		AdblockConfig* _tmp8_;
		guint _tmp9_;
		guint _tmp10_;
		guint _sub_size;
		gint _sub_index;
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp6_ = self->config;
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp7_ = _g_object_ref0 (_tmp6_);
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_sub_list = _tmp7_;
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp8_ = _sub_list;
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp9_ = adblock_config_get_size (_tmp8_);
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp10_ = _tmp9_;
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_sub_size = _tmp10_;
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_sub_index = -1;
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		while (TRUE) {
#line 3035 "extension.c"
			gint _tmp11_;
			gint _tmp12_;
			guint _tmp13_;
			AdblockConfig* _tmp14_;
			gint _tmp15_;
			AdblockSubscription* _tmp16_ = NULL;
			AdblockSubscription* sub;
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp11_ = _sub_index;
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_sub_index = _tmp11_ + 1;
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp12_ = _sub_index;
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp13_ = _sub_size;
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			if (!(((guint) _tmp12_) < _tmp13_)) {
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				break;
#line 3055 "extension.c"
			}
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp14_ = _sub_list;
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp15_ = _sub_index;
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp16_ = adblock_config_get (_tmp14_, (guint) _tmp15_);
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			sub = _tmp16_;
#line 3065 "extension.c"
			{
				AdblockSubscription* _tmp17_;
#line 356 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp17_ = sub;
#line 356 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				adblock_subscription_parse (_tmp17_, &_inner_error_);
#line 356 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				if (_inner_error_ != NULL) {
#line 3074 "extension.c"
					goto __catch4_g_error;
				}
			}
			goto __finally4;
			__catch4_g_error:
			{
				GError* _error_ = NULL;
				AdblockSubscription* _tmp18_;
				const gchar* _tmp19_;
				const gchar* _tmp20_;
				GError* _tmp21_;
				const gchar* _tmp22_;
#line 355 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_error_ = _inner_error_;
#line 355 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_inner_error_ = NULL;
#line 358 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp18_ = sub;
#line 358 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp19_ = adblock_subscription_get_uri (_tmp18_);
#line 358 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp20_ = _tmp19_;
#line 358 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp21_ = _error_;
#line 358 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp22_ = _tmp21_->message;
#line 358 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				g_warning ("extension.vala:358: Error parsing %s: %s", _tmp20_, _tmp22_);
#line 355 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_g_error_free0 (_error_);
#line 3105 "extension.c"
			}
			__finally4:
#line 355 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			if (_inner_error_ != NULL) {
#line 355 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_g_object_unref0 (sub);
#line 355 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_g_object_unref0 (_sub_list);
#line 355 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 355 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				g_clear_error (&_inner_error_);
#line 355 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				return;
#line 3120 "extension.c"
			}
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_g_object_unref0 (sub);
#line 3124 "extension.c"
		}
#line 354 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_object_unref0 (_sub_list);
#line 3128 "extension.c"
	}
#line 361 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp23_ = self->config;
#line 361 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_connect_object ((GObject*) _tmp23_, "notify::size", (GCallback) _adblock_extension_subscriptions_added_removed_g_object_notify, self, 0);
#line 362 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp24_ = self->manager;
#line 362 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp25_ = _tmp24_->description_label;
#line 362 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_signal_connect_object (_tmp25_, "activate-link", (GCallback) _adblock_extension_open_link_gtk_label_activate_link, self, 0);
#line 364 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp26_ = adblock_extension_fetch_js_hider_function_body (self);
#line 364 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (self->js_hider_function_body);
#line 364 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	self->js_hider_function_body = _tmp26_;
#line 3146 "extension.c"
}


static gboolean adblock_extension_open_link (AdblockExtension* self, const gchar* uri) {
	gboolean result = FALSE;
	MidoriApp* _tmp0_ = NULL;
	MidoriBrowser* _tmp1_;
	MidoriBrowser* _tmp2_;
	MidoriBrowser* _tmp3_;
	MidoriBrowser* browser;
	const gchar* _tmp4_;
	GtkWidget* _tmp5_ = NULL;
	GtkWidget* _tmp6_;
	GtkWidget* view;
#line 368 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 368 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_val_if_fail (uri != NULL, FALSE);
#line 369 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = midori_extension_get_app ((MidoriExtension*) self);
#line 369 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = midori_app_get_browser (_tmp0_);
#line 369 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = _tmp1_;
#line 369 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = _g_object_ref0 (_tmp2_);
#line 369 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	browser = _tmp3_;
#line 370 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp4_ = uri;
#line 370 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp5_ = midori_browser_add_uri (browser, _tmp4_);
#line 370 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp6_ = _g_object_ref0 (_tmp5_);
#line 370 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	view = _tmp6_;
#line 371 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	midori_browser_set_tab (browser, view);
#line 372 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	result = TRUE;
#line 372 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (view);
#line 372 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (browser);
#line 372 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return result;
#line 3193 "extension.c"
}


static void adblock_extension_subscriptions_added_removed (AdblockExtension* self, GParamSpec* pspec) {
	GString* _tmp0_;
#line 375 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (self != NULL);
#line 375 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (pspec != NULL);
#line 376 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = g_string_new ("");
#line 376 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_string_free0 (self->hider_selectors);
#line 376 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	self->hider_selectors = _tmp0_;
#line 3209 "extension.c"
}


static void adblock_extension_load_config (AdblockExtension* self) {
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	gchar* config_dir;
	gchar* _tmp2_ = NULL;
	gchar* presets;
	gchar* _tmp3_ = NULL;
	gchar* filename;
	AdblockConfig* _tmp4_;
#line 379 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (self != NULL);
#line 381 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = g_get_user_config_dir ();
#line 381 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = g_build_filename (_tmp0_, "midori", "extensions", "libadblock." G_MODULE_SUFFIX, NULL);
#line 381 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	config_dir = _tmp1_;
#line 382 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	midori_paths_mkdir_with_parents (config_dir, 0700);
#line 386 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = midori_paths_get_extension_preset_filename ("adblock", "config");
#line 386 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	presets = _tmp2_;
#line 387 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = g_build_filename (config_dir, "config", NULL);
#line 387 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	filename = _tmp3_;
#line 388 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp4_ = adblock_config_new (filename, presets);
#line 388 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (self->config);
#line 388 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	self->config = _tmp4_;
#line 379 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (filename);
#line 379 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (presets);
#line 379 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (config_dir);
#line 3252 "extension.c"
}


static AdblockDirective* _adblock_directive_dup (AdblockDirective* self) {
	AdblockDirective* dup;
#line 425 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	dup = g_new0 (AdblockDirective, 1);
#line 425 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	memcpy (dup, self, sizeof (AdblockDirective));
#line 425 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return dup;
#line 3264 "extension.c"
}


static gpointer __adblock_directive_dup0 (gpointer self) {
#line 425 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return self ? _adblock_directive_dup (self) : NULL;
#line 3271 "extension.c"
}


static gboolean _adblock_directive_equal (const AdblockDirective* s1, const AdblockDirective* s2) {
#line 426 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (s1 == s2) {
#line 426 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return TRUE;
#line 3280 "extension.c"
	}
#line 426 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (s1 == NULL) {
#line 426 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return FALSE;
#line 3286 "extension.c"
	}
#line 426 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (s2 == NULL) {
#line 426 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return FALSE;
#line 3292 "extension.c"
	}
#line 426 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return (*s1) == (*s2);
#line 3296 "extension.c"
}


AdblockDirective adblock_extension_get_directive_for_uri (AdblockExtension* self, const gchar* request_uri, const gchar* page_uri) {
	AdblockDirective result = 0;
	AdblockConfig* _tmp0_;
	gboolean _tmp1_;
	gboolean _tmp2_;
	const gchar* _tmp3_;
	const gchar* _tmp4_;
	const gchar* _tmp5_;
	gboolean _tmp6_ = FALSE;
	gboolean _tmp7_ = FALSE;
	const gchar* _tmp8_;
	gboolean _tmp9_ = FALSE;
	gboolean _tmp12_;
	AdblockDirective* directive;
	AdblockDirective* _tmp29_;
	AdblockDirective* _tmp39_;
	AdblockDirective _tmp40_;
#line 401 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_val_if_fail (self != NULL, 0);
#line 401 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_val_if_fail (request_uri != NULL, 0);
#line 401 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_val_if_fail (page_uri != NULL, 0);
#line 402 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = self->config;
#line 402 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = adblock_config_get_enabled (_tmp0_);
#line 402 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = _tmp1_;
#line 402 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (!_tmp2_) {
#line 403 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		result = ADBLOCK_DIRECTIVE_ALLOW;
#line 403 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return result;
#line 3335 "extension.c"
	}
#line 406 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = request_uri;
#line 406 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp4_ = page_uri;
#line 406 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (g_strcmp0 (_tmp3_, _tmp4_) == 0) {
#line 407 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		result = ADBLOCK_DIRECTIVE_ALLOW;
#line 407 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return result;
#line 3347 "extension.c"
	}
#line 410 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp5_ = page_uri;
#line 410 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp6_ = midori_uri_is_blank (_tmp5_);
#line 410 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp6_) {
#line 411 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		result = ADBLOCK_DIRECTIVE_ALLOW;
#line 411 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return result;
#line 3359 "extension.c"
	}
#line 414 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp8_ = request_uri;
#line 414 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp9_ = midori_uri_is_http (_tmp8_);
#line 414 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (!_tmp9_) {
#line 414 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp7_ = TRUE;
#line 3369 "extension.c"
	} else {
		const gchar* _tmp10_;
		gboolean _tmp11_ = FALSE;
#line 414 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp10_ = request_uri;
#line 414 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp11_ = g_str_has_suffix (_tmp10_, "favicon.ico");
#line 414 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp7_ = _tmp11_;
#line 3379 "extension.c"
	}
#line 414 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp12_ = _tmp7_;
#line 414 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp12_) {
#line 415 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		result = ADBLOCK_DIRECTIVE_ALLOW;
#line 415 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return result;
#line 3389 "extension.c"
	}
#line 417 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	directive = NULL;
#line 3393 "extension.c"
	{
		AdblockConfig* _tmp13_;
		AdblockConfig* _tmp14_;
		AdblockConfig* _sub_list;
		AdblockConfig* _tmp15_;
		guint _tmp16_;
		guint _tmp17_;
		guint _sub_size;
		gint _sub_index;
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp13_ = self->config;
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp14_ = _g_object_ref0 (_tmp13_);
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_sub_list = _tmp14_;
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp15_ = _sub_list;
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp16_ = adblock_config_get_size (_tmp15_);
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp17_ = _tmp16_;
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_sub_size = _tmp17_;
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_sub_index = -1;
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		while (TRUE) {
#line 3421 "extension.c"
			gint _tmp18_;
			gint _tmp19_;
			guint _tmp20_;
			AdblockConfig* _tmp21_;
			gint _tmp22_;
			AdblockSubscription* _tmp23_ = NULL;
			AdblockSubscription* sub;
			AdblockSubscription* _tmp24_;
			const gchar* _tmp25_;
			const gchar* _tmp26_;
			AdblockDirective* _tmp27_ = NULL;
			AdblockDirective* _tmp28_;
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp18_ = _sub_index;
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_sub_index = _tmp18_ + 1;
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp19_ = _sub_index;
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp20_ = _sub_size;
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			if (!(((guint) _tmp19_) < _tmp20_)) {
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				break;
#line 3446 "extension.c"
			}
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp21_ = _sub_list;
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp22_ = _sub_index;
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp23_ = adblock_config_get (_tmp21_, (guint) _tmp22_);
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			sub = _tmp23_;
#line 419 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp24_ = sub;
#line 419 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp25_ = request_uri;
#line 419 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp26_ = page_uri;
#line 419 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp27_ = adblock_subscription_get_directive (_tmp24_, _tmp25_, _tmp26_);
#line 419 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_g_free0 (directive);
#line 419 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			directive = _tmp27_;
#line 420 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp28_ = directive;
#line 420 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			if (_tmp28_ != NULL) {
#line 421 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_g_object_unref0 (sub);
#line 421 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				break;
#line 3476 "extension.c"
			}
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_g_object_unref0 (sub);
#line 3480 "extension.c"
		}
#line 418 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_object_unref0 (_sub_list);
#line 3484 "extension.c"
	}
#line 424 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp29_ = directive;
#line 424 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp29_ == NULL) {
#line 3490 "extension.c"
		AdblockDirective _tmp30_;
		AdblockDirective* _tmp31_;
#line 425 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp30_ = ADBLOCK_DIRECTIVE_ALLOW;
#line 425 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp31_ = __adblock_directive_dup0 (&_tmp30_);
#line 425 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (directive);
#line 425 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		directive = _tmp31_;
#line 3501 "extension.c"
	} else {
		AdblockDirective* _tmp32_;
		AdblockDirective _tmp33_;
#line 426 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp32_ = directive;
#line 426 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp33_ = ADBLOCK_DIRECTIVE_BLOCK;
#line 426 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		if (_adblock_directive_equal (_tmp32_, &_tmp33_) == TRUE) {
#line 3511 "extension.c"
			AdblockStatusIcon* _tmp34_;
			GString* _tmp35_;
			const gchar* _tmp36_;
			gchar* _tmp37_ = NULL;
			gchar* _tmp38_;
#line 427 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp34_ = self->status_icon;
#line 427 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			adblock_status_icon_set_state (_tmp34_, ADBLOCK_STATE_BLOCKED);
#line 431 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp35_ = self->hider_selectors;
#line 431 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp36_ = request_uri;
#line 431 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp37_ = g_strdup_printf (" uris.push ('%s');\n", _tmp36_);
#line 431 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp38_ = _tmp37_;
#line 431 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			g_string_append (_tmp35_, _tmp38_);
#line 431 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_g_free0 (_tmp38_);
#line 3533 "extension.c"
		}
	}
#line 434 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp39_ = directive;
#line 434 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp40_ = *_tmp39_;
#line 434 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (_tmp39_);
#line 434 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	result = _tmp40_;
#line 434 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return result;
#line 3546 "extension.c"
}


gboolean adblock_extension_request_handled (AdblockExtension* self, const gchar* request_uri, const gchar* page_uri) {
	gboolean result = FALSE;
	const gchar* _tmp0_;
	const gchar* _tmp1_;
	AdblockDirective _tmp2_ = 0;
#line 437 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_val_if_fail (self != NULL, FALSE);
#line 437 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_val_if_fail (request_uri != NULL, FALSE);
#line 437 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_val_if_fail (page_uri != NULL, FALSE);
#line 438 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = request_uri;
#line 438 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = page_uri;
#line 438 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = adblock_extension_get_directive_for_uri (self, _tmp0_, _tmp1_);
#line 438 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	result = _tmp2_ == ADBLOCK_DIRECTIVE_BLOCK;
#line 438 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return result;
#line 3571 "extension.c"
}


static void adblock_extension_class_init (AdblockExtensionClass * klass) {
#line 47 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_extension_parent_class = g_type_class_peek_parent (klass);
#line 47 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	G_OBJECT_CLASS (klass)->finalize = adblock_extension_finalize;
#line 3580 "extension.c"
}


static void adblock_extension_instance_init (AdblockExtension * self) {
}


static void adblock_extension_finalize (GObject* obj) {
	AdblockExtension * self;
#line 47 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, ADBLOCK_TYPE_EXTENSION, AdblockExtension);
#line 48 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (self->config);
#line 49 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (self->custom);
#line 50 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_string_free0 (self->hider_selectors);
#line 51 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_adblock_status_icon_unref0 (self->status_icon);
#line 52 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_adblock_subscription_manager_unref0 (self->manager);
#line 55 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (self->js_hider_function_body);
#line 47 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	G_OBJECT_CLASS (adblock_extension_parent_class)->finalize (obj);
#line 3606 "extension.c"
}


GType adblock_extension_get_type (void) {
	static volatile gsize adblock_extension_type_id__volatile = 0;
	if (g_once_init_enter (&adblock_extension_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (AdblockExtensionClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) adblock_extension_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (AdblockExtension), 0, (GInstanceInitFunc) adblock_extension_instance_init, NULL };
		GType adblock_extension_type_id;
		adblock_extension_type_id = g_type_register_static (MIDORI_TYPE_EXTENSION, "AdblockExtension", &g_define_type_info, 0);
		g_once_init_leave (&adblock_extension_type_id__volatile, adblock_extension_type_id);
	}
	return adblock_extension_type_id__volatile;
}


void adblock_debug (const gchar* format, ...) {
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_;
	gchar* _tmp2_;
	const gchar* _tmp3_;
	const gchar* _tmp5_;
	gboolean _tmp6_ = FALSE;
	gboolean debug_match;
	gboolean _tmp7_;
	va_list args = {0};
	FILE* _tmp8_;
	const gchar* _tmp9_;
	gchar* _tmp10_;
	gchar* _tmp11_;
#line 442 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_if_fail (format != NULL);
#line 443 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = g_getenv ("MIDORI_DEBUG");
#line 443 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 443 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = _tmp1_;
#line 443 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = _tmp2_;
#line 443 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp3_ == NULL) {
#line 3648 "extension.c"
		gchar* _tmp4_;
#line 443 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp4_ = g_strdup ("");
#line 443 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (_tmp2_);
#line 443 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp2_ = _tmp4_;
#line 3656 "extension.c"
	}
#line 443 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp5_ = _tmp2_;
#line 443 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp6_ = string_contains (_tmp5_, "adblock:match");
#line 443 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	debug_match = _tmp6_;
#line 444 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp7_ = debug_match;
#line 444 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (!_tmp7_) {
#line 445 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (_tmp2_);
#line 445 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return;
#line 3672 "extension.c"
	}
#line 447 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	va_start (args, format);
#line 448 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp8_ = stdout;
#line 448 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp9_ = format;
#line 448 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp10_ = g_strconcat (_tmp9_, "\n", NULL);
#line 448 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp11_ = _tmp10_;
#line 448 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	vfprintf (_tmp8_, _tmp11_, args);
#line 448 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (_tmp11_);
#line 442 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	va_end (args);
#line 442 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (_tmp2_);
#line 3692 "extension.c"
}


static gchar string_get (const gchar* self, glong index) {
	gchar result = '\0';
	glong _tmp0_;
	gchar _tmp1_;
#line 965 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, '\0');
#line 966 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp0_ = index;
#line 966 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp1_ = ((gchar*) self)[_tmp0_];
#line 966 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	result = _tmp1_;
#line 966 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	return result;
#line 3710 "extension.c"
}


gchar* adblock_fixup_regex (const gchar* prefix, const gchar* src) {
	gchar* result = NULL;
	const gchar* _tmp0_;
	GString* _tmp1_;
	GString* fixed;
	GString* _tmp2_;
	const gchar* _tmp3_;
	guint i;
	const gchar* _tmp4_;
	gchar _tmp5_ = '\0';
	const gchar* _tmp7_;
	gint _tmp8_;
	gint _tmp9_;
	guint l;
	GString* _tmp22_;
	const gchar* _tmp23_;
	gchar* _tmp24_;
#line 451 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_val_if_fail (prefix != NULL, NULL);
#line 452 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = src;
#line 452 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp0_ == NULL) {
#line 453 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		result = NULL;
#line 453 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return result;
#line 3741 "extension.c"
	}
#line 455 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = g_string_new ("");
#line 455 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	fixed = _tmp1_;
#line 456 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = fixed;
#line 456 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = prefix;
#line 456 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_string_append (_tmp2_, _tmp3_);
#line 458 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	i = (guint) 0;
#line 459 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp4_ = src;
#line 459 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp5_ = string_get (_tmp4_, (glong) 0);
#line 459 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp5_ == '*') {
#line 3761 "extension.c"
		guint _tmp6_;
#line 460 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp6_ = i;
#line 460 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		i = _tmp6_ + 1;
#line 3767 "extension.c"
	}
#line 461 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp7_ = src;
#line 461 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp8_ = strlen (_tmp7_);
#line 461 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp9_ = _tmp8_;
#line 461 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	l = (guint) _tmp9_;
#line 462 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	while (TRUE) {
#line 3779 "extension.c"
		guint _tmp10_;
		guint _tmp11_;
		const gchar* _tmp12_;
		guint _tmp13_;
		gchar _tmp14_ = '\0';
		gchar c;
		gchar _tmp15_;
		guint _tmp21_;
#line 462 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp10_ = i;
#line 462 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp11_ = l;
#line 462 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		if (!(_tmp10_ < _tmp11_)) {
#line 462 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			break;
#line 3796 "extension.c"
		}
#line 463 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp12_ = src;
#line 463 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp13_ = i;
#line 463 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp14_ = string_get (_tmp12_, (glong) _tmp13_);
#line 463 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		c = _tmp14_;
#line 464 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp15_ = c;
#line 464 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		switch (_tmp15_) {
#line 464 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			case '*':
#line 3812 "extension.c"
			{
				GString* _tmp16_;
#line 466 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp16_ = fixed;
#line 466 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				g_string_append (_tmp16_, ".*");
#line 466 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				break;
#line 3821 "extension.c"
			}
#line 464 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			case '|':
#line 464 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			case '^':
#line 464 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			case '+':
#line 3829 "extension.c"
			{
#line 470 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				break;
#line 3833 "extension.c"
			}
#line 464 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			case '?':
#line 464 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			case '[':
#line 464 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			case ']':
#line 3841 "extension.c"
			{
				GString* _tmp17_;
				gchar _tmp18_;
#line 474 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp17_ = fixed;
#line 474 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp18_ = c;
#line 474 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				g_string_append_printf (_tmp17_, "\\%c", (gint) _tmp18_);
#line 474 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				break;
#line 3853 "extension.c"
			}
			default:
			{
				GString* _tmp19_;
				gchar _tmp20_;
#line 476 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp19_ = fixed;
#line 476 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp20_ = c;
#line 476 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				g_string_append_c (_tmp19_, _tmp20_);
#line 476 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				break;
#line 3867 "extension.c"
			}
		}
#line 478 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp21_ = i;
#line 478 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		i = _tmp21_ + 1;
#line 3874 "extension.c"
	}
#line 480 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp22_ = fixed;
#line 480 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp23_ = _tmp22_->str;
#line 480 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp24_ = g_strdup (_tmp23_);
#line 480 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	result = _tmp24_;
#line 480 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_string_free0 (fixed);
#line 480 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return result;
#line 3888 "extension.c"
}


MidoriExtension* extension_init (void) {
	MidoriExtension* result = NULL;
	AdblockExtension* _tmp0_;
#line 494 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = adblock_extension_new ();
#line 494 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	result = (MidoriExtension*) _tmp0_;
#line 494 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return result;
#line 3901 "extension.c"
}


gchar* get_test_file (const gchar* contents) {
	gchar* result = NULL;
	const gchar* _tmp0_;
	const gchar* _tmp2_;
	gchar* _tmp3_ = NULL;
	gchar* checksum;
	const gchar* _tmp4_;
	gchar* _tmp5_ = NULL;
	gchar* file;
	GError * _inner_error_ = NULL;
#line 498 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_return_val_if_fail (contents != NULL, NULL);
#line 499 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = tmp_folder;
#line 499 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp0_ == NULL) {
#line 3921 "extension.c"
		gchar* _tmp1_ = NULL;
#line 500 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp1_ = midori_paths_make_tmp_dir ("adblockXXXXXX");
#line 500 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (tmp_folder);
#line 500 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		tmp_folder = _tmp1_;
#line 3929 "extension.c"
	}
#line 501 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = contents;
#line 501 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = g_compute_checksum_for_string (G_CHECKSUM_MD5, _tmp2_, (gsize) (-1));
#line 501 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	checksum = _tmp3_;
#line 502 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp4_ = tmp_folder;
#line 502 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp5_ = g_build_path (G_DIR_SEPARATOR_S, _tmp4_, checksum, NULL);
#line 502 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	file = _tmp5_;
#line 3943 "extension.c"
	{
		const gchar* _tmp6_;
#line 504 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp6_ = contents;
#line 504 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_file_set_contents (file, _tmp6_, (gssize) (-1), &_inner_error_);
#line 504 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		if (_inner_error_ != NULL) {
#line 3952 "extension.c"
			goto __catch5_g_error;
		}
	}
	goto __finally5;
	__catch5_g_error:
	{
		GError* file_error = NULL;
		const gchar* _tmp7_;
#line 503 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		file_error = _inner_error_;
#line 503 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_inner_error_ = NULL;
#line 506 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp7_ = file_error->message;
#line 506 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_error ("extension.vala:506: %s", _tmp7_);
#line 503 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_error_free0 (file_error);
#line 3971 "extension.c"
	}
	__finally5:
#line 503 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_inner_error_ != NULL) {
#line 503 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (file);
#line 503 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (checksum);
#line 503 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 503 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_clear_error (&_inner_error_);
#line 503 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return NULL;
#line 3986 "extension.c"
	}
#line 508 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	result = file;
#line 508 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (checksum);
#line 508 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return result;
#line 3994 "extension.c"
}


void test_case_config_copy (const TestCaseConfig* self, TestCaseConfig* dest) {
	const gchar* _tmp0_;
	gchar* _tmp1_;
	guint _tmp2_;
	gboolean _tmp3_;
#line 511 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = (*self).content;
#line 511 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 511 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 ((*dest).content);
#line 511 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	(*dest).content = _tmp1_;
#line 511 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = (*self).size;
#line 511 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	(*dest).size = _tmp2_;
#line 511 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = (*self).enabled;
#line 511 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	(*dest).enabled = _tmp3_;
#line 4019 "extension.c"
}


void test_case_config_destroy (TestCaseConfig* self) {
#line 512 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 ((*self).content);
#line 4026 "extension.c"
}


TestCaseConfig* test_case_config_dup (const TestCaseConfig* self) {
	TestCaseConfig* dup;
#line 511 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	dup = g_new0 (TestCaseConfig, 1);
#line 511 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	test_case_config_copy (self, dup);
#line 511 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return dup;
#line 4038 "extension.c"
}


void test_case_config_free (TestCaseConfig* self) {
#line 511 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	test_case_config_destroy (self);
#line 511 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_free (self);
#line 4047 "extension.c"
}


GType test_case_config_get_type (void) {
	static volatile gsize test_case_config_type_id__volatile = 0;
	if (g_once_init_enter (&test_case_config_type_id__volatile)) {
		GType test_case_config_type_id;
		test_case_config_type_id = g_boxed_type_register_static ("TestCaseConfig", (GBoxedCopyFunc) test_case_config_dup, (GBoxedFreeFunc) test_case_config_free);
		g_once_init_leave (&test_case_config_type_id__volatile, test_case_config_type_id);
	}
	return test_case_config_type_id__volatile;
}


static gchar* bool_to_string (gboolean self) {
	gchar* result = NULL;
#line 37 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	if (self) {
#line 4066 "extension.c"
		gchar* _tmp0_;
#line 38 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp0_ = g_strdup ("true");
#line 38 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		result = _tmp0_;
#line 38 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		return result;
#line 4074 "extension.c"
	} else {
		gchar* _tmp1_;
#line 40 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		_tmp1_ = g_strdup ("false");
#line 40 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		result = _tmp1_;
#line 40 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		return result;
#line 4083 "extension.c"
	}
}


void test_adblock_config (void) {
	AdblockConfig* _tmp0_;
	AdblockConfig* _tmp1_;
	guint _tmp2_;
	guint _tmp3_;
#line 525 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = adblock_config_new (NULL, NULL);
#line 525 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = _tmp0_;
#line 525 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = adblock_config_get_size (_tmp1_);
#line 525 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = _tmp2_;
#line 525 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp3_ == ((guint) 0), "new Adblock.Config (null, null).size == 0");
#line 525 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (_tmp1_);
#line 4105 "extension.c"
	{
		TestCaseConfig* conf_collection = NULL;
		gint conf_collection_length1 = 0;
		gint _conf_collection_size_ = 0;
		gint conf_it = 0;
#line 527 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		conf_collection = configs;
#line 527 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		conf_collection_length1 = G_N_ELEMENTS (configs);
#line 527 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		for (conf_it = 0; conf_it < G_N_ELEMENTS (configs); conf_it = conf_it + 1) {
#line 4117 "extension.c"
			TestCaseConfig conf = {0};
#line 527 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			conf = conf_collection[conf_it];
#line 4121 "extension.c"
			{
				TestCaseConfig _tmp4_;
				const gchar* _tmp5_;
				gchar* _tmp6_ = NULL;
				gchar* _tmp7_;
				AdblockConfig* _tmp8_;
				AdblockConfig* _tmp9_;
				AdblockConfig* config;
				AdblockConfig* _tmp10_;
				guint _tmp11_;
				guint _tmp12_;
				TestCaseConfig _tmp13_;
				guint _tmp14_;
				AdblockConfig* _tmp26_;
				gboolean _tmp27_;
				gboolean _tmp28_;
				TestCaseConfig _tmp29_;
				gboolean _tmp30_;
#line 528 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp4_ = conf;
#line 528 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp5_ = _tmp4_.content;
#line 528 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp6_ = get_test_file (_tmp5_);
#line 528 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp7_ = _tmp6_;
#line 528 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp8_ = adblock_config_new (_tmp7_, NULL);
#line 528 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp9_ = _tmp8_;
#line 528 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_g_free0 (_tmp7_);
#line 528 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				config = _tmp9_;
#line 529 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp10_ = config;
#line 529 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp11_ = adblock_config_get_size (_tmp10_);
#line 529 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp12_ = _tmp11_;
#line 529 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp13_ = conf;
#line 529 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp14_ = _tmp13_.size;
#line 529 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				if (_tmp12_ != _tmp14_) {
#line 4168 "extension.c"
					AdblockConfig* _tmp15_;
					guint _tmp16_;
					guint _tmp17_;
					gchar* _tmp18_ = NULL;
					gchar* _tmp19_;
					TestCaseConfig _tmp20_;
					guint _tmp21_;
					gchar* _tmp22_ = NULL;
					gchar* _tmp23_;
					TestCaseConfig _tmp24_;
					const gchar* _tmp25_;
#line 530 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp15_ = config;
#line 530 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp16_ = adblock_config_get_size (_tmp15_);
#line 530 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp17_ = _tmp16_;
#line 530 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp18_ = g_strdup_printf ("%u", _tmp17_);
#line 530 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp19_ = _tmp18_;
#line 530 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp20_ = conf;
#line 530 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp21_ = _tmp20_.size;
#line 530 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp22_ = g_strdup_printf ("%u", _tmp21_);
#line 530 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp23_ = _tmp22_;
#line 530 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp24_ = conf;
#line 530 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp25_ = _tmp24_.content;
#line 530 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					g_error ("extension.vala:530: Wrong size %s rather than %s:\n%s", _tmp19_, _tmp23_, _tmp25_);
#line 530 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_free0 (_tmp23_);
#line 530 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_free0 (_tmp19_);
#line 4208 "extension.c"
				}
#line 532 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp26_ = config;
#line 532 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp27_ = adblock_config_get_enabled (_tmp26_);
#line 532 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp28_ = _tmp27_;
#line 532 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp29_ = conf;
#line 532 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp30_ = _tmp29_.enabled;
#line 532 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				if (_tmp28_ != _tmp30_) {
#line 4222 "extension.c"
					AdblockConfig* _tmp31_;
					gboolean _tmp32_;
					gboolean _tmp33_;
					gchar* _tmp34_ = NULL;
					gchar* _tmp35_;
					TestCaseConfig _tmp36_;
					gboolean _tmp37_;
					gchar* _tmp38_ = NULL;
					gchar* _tmp39_;
					TestCaseConfig _tmp40_;
					const gchar* _tmp41_;
#line 533 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp31_ = config;
#line 533 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp32_ = adblock_config_get_enabled (_tmp31_);
#line 533 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp33_ = _tmp32_;
#line 533 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp34_ = bool_to_string (_tmp33_);
#line 533 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp35_ = _tmp34_;
#line 533 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp36_ = conf;
#line 533 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp37_ = _tmp36_.enabled;
#line 533 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp38_ = bool_to_string (_tmp37_);
#line 533 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp39_ = _tmp38_;
#line 533 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp40_ = conf;
#line 533 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp41_ = _tmp40_.content;
#line 533 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					g_error ("extension.vala:533: Wrongly got enabled=%s rather than %s:\n%s", _tmp35_, _tmp39_, _tmp41_);
#line 533 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_free0 (_tmp39_);
#line 533 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_free0 (_tmp35_);
#line 4262 "extension.c"
				}
#line 527 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_g_object_unref0 (config);
#line 4266 "extension.c"
			}
		}
	}
}


void test_case_sub_copy (const TestCaseSub* self, TestCaseSub* dest) {
	const gchar* _tmp0_;
	gchar* _tmp1_;
	gboolean _tmp2_;
#line 538 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = (*self).uri;
#line 538 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 538 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 ((*dest).uri);
#line 538 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	(*dest).uri = _tmp1_;
#line 538 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = (*self).active;
#line 538 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	(*dest).active = _tmp2_;
#line 4289 "extension.c"
}


void test_case_sub_destroy (TestCaseSub* self) {
#line 539 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 ((*self).uri);
#line 4296 "extension.c"
}


TestCaseSub* test_case_sub_dup (const TestCaseSub* self) {
	TestCaseSub* dup;
#line 538 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	dup = g_new0 (TestCaseSub, 1);
#line 538 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	test_case_sub_copy (self, dup);
#line 538 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return dup;
#line 4308 "extension.c"
}


void test_case_sub_free (TestCaseSub* self) {
#line 538 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	test_case_sub_destroy (self);
#line 538 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_free (self);
#line 4317 "extension.c"
}


GType test_case_sub_get_type (void) {
	static volatile gsize test_case_sub_type_id__volatile = 0;
	if (g_once_init_enter (&test_case_sub_type_id__volatile)) {
		GType test_case_sub_type_id;
		test_case_sub_type_id = g_boxed_type_register_static ("TestCaseSub", (GBoxedCopyFunc) test_case_sub_dup, (GBoxedFreeFunc) test_case_sub_free);
		g_once_init_leave (&test_case_sub_type_id__volatile, test_case_sub_type_id);
	}
	return test_case_sub_type_id__volatile;
}


void test_adblock_subs (void) {
	gchar* _tmp0_ = NULL;
	gchar* _tmp1_;
	AdblockConfig* _tmp2_;
	AdblockConfig* _tmp3_;
	AdblockConfig* config;
	AdblockConfig* _tmp4_;
	gboolean _tmp5_;
	gboolean _tmp6_;
	AdblockConfig* _tmp31_;
	guint _tmp32_;
	guint _tmp33_;
	AdblockConfig* _tmp34_;
	AdblockSubscription* _tmp35_;
	AdblockSubscription* _tmp36_;
	gboolean _tmp37_ = FALSE;
	AdblockConfig* _tmp38_;
	AdblockConfig* _tmp39_;
	const gchar* _tmp40_;
	const gchar* _tmp41_;
	AdblockConfig* _tmp42_;
	AdblockConfig* copy;
	AdblockConfig* _tmp43_;
	guint _tmp44_;
	guint _tmp45_;
	AdblockConfig* _tmp46_;
	guint _tmp47_;
	guint _tmp48_;
	AdblockConfig* _tmp49_;
	gboolean _tmp50_;
	gboolean _tmp51_;
	AdblockConfig* _tmp52_;
	gboolean _tmp53_;
	gboolean _tmp54_;
	AdblockConfig* _tmp86_;
	AdblockConfig* _tmp87_;
	const gchar* _tmp88_;
	const gchar* _tmp89_;
	AdblockConfig* _tmp90_;
	AdblockConfig* _tmp91_;
	gboolean _tmp92_;
	gboolean _tmp93_;
	AdblockConfig* _tmp94_;
	gboolean _tmp95_;
	gboolean _tmp96_;
	AdblockConfig* _tmp112_;
	const gchar* _tmp113_;
	const gchar* _tmp114_;
	AdblockConfig* _tmp115_;
	AdblockSubscription* _tmp165_;
	AdblockSubscription* s;
	AdblockConfig* _tmp166_;
	gboolean _tmp167_ = FALSE;
	AdblockConfig* _tmp168_;
	guint _tmp169_;
	guint _tmp170_;
	AdblockConfig* _tmp171_;
	AdblockConfig* _tmp172_;
	guint _tmp173_;
	guint _tmp174_;
	AdblockConfig* _tmp175_;
	gboolean _tmp176_ = FALSE;
	AdblockConfig* _tmp177_;
	guint _tmp178_;
	guint _tmp179_;
	GError * _inner_error_ = NULL;
#line 553 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = get_test_file ("\n" \
"[settings]\n" \
"filters=http://foo.com;http-//bar.com;https://spam.com;http-://eggs.co" \
"m;file:///bla;file-///blub;http://foo.com;\n");
#line 553 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = _tmp0_;
#line 553 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = adblock_config_new (_tmp1_, NULL);
#line 553 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = _tmp2_;
#line 553 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (_tmp1_);
#line 553 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	config = _tmp3_;
#line 558 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp4_ = config;
#line 558 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp5_ = adblock_config_get_enabled (_tmp4_);
#line 558 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp6_ = _tmp5_;
#line 558 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp6_, "config.enabled");
#line 4418 "extension.c"
	{
		TestCaseSub* sub_collection = NULL;
		gint sub_collection_length1 = 0;
		gint _sub_collection_size_ = 0;
		gint sub_it = 0;
#line 559 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		sub_collection = subs;
#line 559 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		sub_collection_length1 = G_N_ELEMENTS (subs);
#line 559 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		for (sub_it = 0; sub_it < G_N_ELEMENTS (subs); sub_it = sub_it + 1) {
#line 4430 "extension.c"
			TestCaseSub sub = {0};
#line 559 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			sub = sub_collection[sub_it];
#line 4434 "extension.c"
			{
				gboolean found;
				gboolean _tmp28_;
#line 560 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				found = FALSE;
#line 4440 "extension.c"
				{
					AdblockConfig* _tmp7_;
					AdblockConfig* _tmp8_;
					AdblockConfig* _subscription_list;
					AdblockConfig* _tmp9_;
					guint _tmp10_;
					guint _tmp11_;
					guint _subscription_size;
					gint _subscription_index;
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp7_ = config;
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp8_ = _g_object_ref0 (_tmp7_);
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_subscription_list = _tmp8_;
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp9_ = _subscription_list;
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp10_ = adblock_config_get_size (_tmp9_);
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp11_ = _tmp10_;
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_subscription_size = _tmp11_;
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_subscription_index = -1;
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					while (TRUE) {
#line 4468 "extension.c"
						gint _tmp12_;
						gint _tmp13_;
						guint _tmp14_;
						AdblockConfig* _tmp15_;
						gint _tmp16_;
						AdblockSubscription* _tmp17_ = NULL;
						AdblockSubscription* subscription;
						AdblockSubscription* _tmp18_;
						const gchar* _tmp19_;
						const gchar* _tmp20_;
						TestCaseSub _tmp21_;
						const gchar* _tmp22_;
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp12_ = _subscription_index;
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_subscription_index = _tmp12_ + 1;
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp13_ = _subscription_index;
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp14_ = _subscription_size;
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						if (!(((guint) _tmp13_) < _tmp14_)) {
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
							break;
#line 4493 "extension.c"
						}
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp15_ = _subscription_list;
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp16_ = _subscription_index;
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp17_ = adblock_config_get (_tmp15_, (guint) _tmp16_);
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						subscription = _tmp17_;
#line 562 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp18_ = subscription;
#line 562 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp19_ = adblock_subscription_get_uri (_tmp18_);
#line 562 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp20_ = _tmp19_;
#line 562 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp21_ = sub;
#line 562 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp22_ = _tmp21_.uri;
#line 562 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						if (g_strcmp0 (_tmp20_, _tmp22_) == 0) {
#line 4515 "extension.c"
							AdblockSubscription* _tmp23_;
							gboolean _tmp24_;
							gboolean _tmp25_;
							TestCaseSub _tmp26_;
							gboolean _tmp27_;
#line 563 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
							_tmp23_ = subscription;
#line 563 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
							_tmp24_ = adblock_subscription_get_active (_tmp23_);
#line 563 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
							_tmp25_ = _tmp24_;
#line 563 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
							_tmp26_ = sub;
#line 563 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
							_tmp27_ = _tmp26_.active;
#line 563 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
							_vala_assert (_tmp25_ == _tmp27_, "subscription.active == sub.active");
#line 564 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
							found = TRUE;
#line 4535 "extension.c"
						}
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_g_object_unref0 (subscription);
#line 4539 "extension.c"
					}
#line 561 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_object_unref0 (_subscription_list);
#line 4543 "extension.c"
				}
#line 567 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp28_ = found;
#line 567 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				if (!_tmp28_) {
#line 4549 "extension.c"
					TestCaseSub _tmp29_;
					const gchar* _tmp30_;
#line 568 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp29_ = sub;
#line 568 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp30_ = _tmp29_.uri;
#line 568 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					g_error ("extension.vala:568: %s not found", _tmp30_);
#line 4558 "extension.c"
				}
			}
		}
	}
#line 572 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp31_ = config;
#line 572 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp32_ = adblock_config_get_size (_tmp31_);
#line 572 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp33_ = _tmp32_;
#line 572 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp33_ == ((guint) 6), "config.size == 6");
#line 574 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp34_ = config;
#line 574 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp35_ = adblock_subscription_new ("https://spam.com");
#line 574 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp36_ = _tmp35_;
#line 574 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp37_ = adblock_config_add (_tmp34_, _tmp36_);
#line 574 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (!_tmp37_, "!config.add (new Adblock.Subscription (\"https://spam.com\"))");
#line 574 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (_tmp36_);
#line 577 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp38_ = config;
#line 577 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_config_save (_tmp38_);
#line 578 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp39_ = config;
#line 578 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp40_ = adblock_config_get_path (_tmp39_);
#line 578 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp41_ = _tmp40_;
#line 578 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp42_ = adblock_config_new (_tmp41_, NULL);
#line 578 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	copy = _tmp42_;
#line 579 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp43_ = copy;
#line 579 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp44_ = adblock_config_get_size (_tmp43_);
#line 579 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp45_ = _tmp44_;
#line 579 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp46_ = config;
#line 579 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp47_ = adblock_config_get_size (_tmp46_);
#line 579 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp48_ = _tmp47_;
#line 579 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp45_ == _tmp48_, "copy.size == config.size");
#line 580 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp49_ = copy;
#line 580 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp50_ = adblock_config_get_enabled (_tmp49_);
#line 580 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp51_ = _tmp50_;
#line 580 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp52_ = config;
#line 580 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp53_ = adblock_config_get_enabled (_tmp52_);
#line 580 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp54_ = _tmp53_;
#line 580 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp51_ == _tmp54_, "copy.enabled == config.enabled");
#line 4625 "extension.c"
	{
		gint i;
#line 581 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		i = 0;
#line 4630 "extension.c"
		{
			gboolean _tmp55_;
#line 581 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp55_ = TRUE;
#line 581 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			while (TRUE) {
#line 4637 "extension.c"
				gboolean _tmp56_;
				gint _tmp58_;
				AdblockConfig* _tmp59_;
				guint _tmp60_;
				guint _tmp61_;
				AdblockConfig* _tmp62_;
				gint _tmp63_;
				AdblockSubscription* _tmp64_ = NULL;
				AdblockSubscription* _tmp65_;
				const gchar* _tmp66_;
				const gchar* _tmp67_;
				AdblockConfig* _tmp68_;
				gint _tmp69_;
				AdblockSubscription* _tmp70_ = NULL;
				AdblockSubscription* _tmp71_;
				const gchar* _tmp72_;
				const gchar* _tmp73_;
				AdblockConfig* _tmp74_;
				gint _tmp75_;
				AdblockSubscription* _tmp76_ = NULL;
				AdblockSubscription* _tmp77_;
				gboolean _tmp78_;
				gboolean _tmp79_;
				AdblockConfig* _tmp80_;
				gint _tmp81_;
				AdblockSubscription* _tmp82_ = NULL;
				AdblockSubscription* _tmp83_;
				gboolean _tmp84_;
				gboolean _tmp85_;
#line 581 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp56_ = _tmp55_;
#line 581 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				if (!_tmp56_) {
#line 4671 "extension.c"
					gint _tmp57_;
#line 581 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp57_ = i;
#line 581 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					i = _tmp57_ + 1;
#line 4677 "extension.c"
				}
#line 581 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp55_ = FALSE;
#line 581 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp58_ = i;
#line 581 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp59_ = config;
#line 581 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp60_ = adblock_config_get_size (_tmp59_);
#line 581 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp61_ = _tmp60_;
#line 581 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				if (!(((guint) _tmp58_) < _tmp61_)) {
#line 581 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					break;
#line 4693 "extension.c"
				}
#line 582 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp62_ = copy;
#line 582 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp63_ = i;
#line 582 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp64_ = adblock_config_get (_tmp62_, (guint) _tmp63_);
#line 582 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp65_ = _tmp64_;
#line 582 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp66_ = adblock_subscription_get_uri (_tmp65_);
#line 582 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp67_ = _tmp66_;
#line 582 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp68_ = config;
#line 582 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp69_ = i;
#line 582 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp70_ = adblock_config_get (_tmp68_, (guint) _tmp69_);
#line 582 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp71_ = _tmp70_;
#line 582 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp72_ = adblock_subscription_get_uri (_tmp71_);
#line 582 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp73_ = _tmp72_;
#line 582 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_vala_assert (g_strcmp0 (_tmp67_, _tmp73_) == 0, "copy[i].uri == config[i].uri");
#line 582 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_g_object_unref0 (_tmp71_);
#line 582 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_g_object_unref0 (_tmp65_);
#line 583 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp74_ = copy;
#line 583 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp75_ = i;
#line 583 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp76_ = adblock_config_get (_tmp74_, (guint) _tmp75_);
#line 583 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp77_ = _tmp76_;
#line 583 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp78_ = adblock_subscription_get_active (_tmp77_);
#line 583 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp79_ = _tmp78_;
#line 583 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp80_ = config;
#line 583 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp81_ = i;
#line 583 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp82_ = adblock_config_get (_tmp80_, (guint) _tmp81_);
#line 583 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp83_ = _tmp82_;
#line 583 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp84_ = adblock_subscription_get_active (_tmp83_);
#line 583 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp85_ = _tmp84_;
#line 583 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_vala_assert (_tmp79_ == _tmp85_, "copy[i].active == config[i].active");
#line 583 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_g_object_unref0 (_tmp83_);
#line 583 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_g_object_unref0 (_tmp77_);
#line 4755 "extension.c"
			}
		}
	}
#line 586 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp86_ = config;
#line 586 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_config_set_enabled (_tmp86_, FALSE);
#line 587 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp87_ = config;
#line 587 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp88_ = adblock_config_get_path (_tmp87_);
#line 587 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp89_ = _tmp88_;
#line 587 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp90_ = adblock_config_new (_tmp89_, NULL);
#line 587 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (copy);
#line 587 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	copy = _tmp90_;
#line 588 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp91_ = copy;
#line 588 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp92_ = adblock_config_get_enabled (_tmp91_);
#line 588 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp93_ = _tmp92_;
#line 588 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp94_ = config;
#line 588 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp95_ = adblock_config_get_enabled (_tmp94_);
#line 588 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp96_ = _tmp95_;
#line 588 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp93_ == _tmp96_, "copy.enabled == config.enabled");
#line 4789 "extension.c"
	{
		AdblockConfig* _tmp97_;
		AdblockConfig* _tmp98_;
		AdblockConfig* _sub_list;
		AdblockConfig* _tmp99_;
		guint _tmp100_;
		guint _tmp101_;
		guint _sub_size;
		gint _sub_index;
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp97_ = config;
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp98_ = _g_object_ref0 (_tmp97_);
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_sub_list = _tmp98_;
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp99_ = _sub_list;
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp100_ = adblock_config_get_size (_tmp99_);
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp101_ = _tmp100_;
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_sub_size = _tmp101_;
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_sub_index = -1;
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		while (TRUE) {
#line 4817 "extension.c"
			gint _tmp102_;
			gint _tmp103_;
			guint _tmp104_;
			AdblockConfig* _tmp105_;
			gint _tmp106_;
			AdblockSubscription* _tmp107_ = NULL;
			AdblockSubscription* sub;
			AdblockSubscription* _tmp108_;
			AdblockSubscription* _tmp109_;
			gboolean _tmp110_;
			gboolean _tmp111_;
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp102_ = _sub_index;
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_sub_index = _tmp102_ + 1;
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp103_ = _sub_index;
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp104_ = _sub_size;
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			if (!(((guint) _tmp103_) < _tmp104_)) {
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				break;
#line 4841 "extension.c"
			}
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp105_ = _sub_list;
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp106_ = _sub_index;
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp107_ = adblock_config_get (_tmp105_, (guint) _tmp106_);
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			sub = _tmp107_;
#line 591 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp108_ = sub;
#line 591 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp109_ = sub;
#line 591 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp110_ = adblock_subscription_get_active (_tmp109_);
#line 591 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp111_ = _tmp110_;
#line 591 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			adblock_subscription_set_active (_tmp108_, !_tmp111_);
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_g_object_unref0 (sub);
#line 4863 "extension.c"
		}
#line 590 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_object_unref0 (_sub_list);
#line 4867 "extension.c"
	}
#line 592 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp112_ = config;
#line 592 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp113_ = adblock_config_get_path (_tmp112_);
#line 592 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp114_ = _tmp113_;
#line 592 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp115_ = adblock_config_new (_tmp114_, NULL);
#line 592 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (copy);
#line 592 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	copy = _tmp115_;
#line 4881 "extension.c"
	{
		guint i;
#line 593 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		i = (guint) 0;
#line 4886 "extension.c"
		{
			gboolean _tmp116_;
#line 593 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			_tmp116_ = TRUE;
#line 593 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			while (TRUE) {
#line 4893 "extension.c"
				gboolean _tmp117_;
				guint _tmp119_;
				AdblockConfig* _tmp120_;
				guint _tmp121_;
				guint _tmp122_;
				AdblockConfig* _tmp123_;
				guint _tmp124_;
				AdblockSubscription* _tmp125_ = NULL;
				AdblockSubscription* _tmp126_;
				gboolean _tmp127_;
				gboolean _tmp128_;
				AdblockConfig* _tmp129_;
				guint _tmp130_;
				AdblockSubscription* _tmp131_ = NULL;
				AdblockSubscription* _tmp132_;
				gboolean _tmp133_;
				gboolean _tmp134_;
				gboolean _tmp135_;
#line 593 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp117_ = _tmp116_;
#line 593 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				if (!_tmp117_) {
#line 4916 "extension.c"
					guint _tmp118_;
#line 593 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp118_ = i;
#line 593 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					i = _tmp118_ + 1;
#line 4922 "extension.c"
				}
#line 593 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp116_ = FALSE;
#line 593 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp119_ = i;
#line 593 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp120_ = config;
#line 593 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp121_ = adblock_config_get_size (_tmp120_);
#line 593 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp122_ = _tmp121_;
#line 593 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				if (!(_tmp119_ < _tmp122_)) {
#line 593 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					break;
#line 4938 "extension.c"
				}
#line 594 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp123_ = config;
#line 594 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp124_ = i;
#line 594 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp125_ = adblock_config_get (_tmp123_, _tmp124_);
#line 594 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp126_ = _tmp125_;
#line 594 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp127_ = adblock_subscription_get_active (_tmp126_);
#line 594 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp128_ = _tmp127_;
#line 594 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp129_ = copy;
#line 594 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp130_ = i;
#line 594 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp131_ = adblock_config_get (_tmp129_, _tmp130_);
#line 594 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp132_ = _tmp131_;
#line 594 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp133_ = adblock_subscription_get_active (_tmp132_);
#line 594 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp134_ = _tmp133_;
#line 594 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp135_ = _tmp128_ != _tmp134_;
#line 594 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_g_object_unref0 (_tmp132_);
#line 594 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_g_object_unref0 (_tmp126_);
#line 594 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				if (_tmp135_) {
#line 4972 "extension.c"
					gchar* contents = NULL;
					const gchar* _tmp141_ = NULL;
					AdblockConfig* _tmp142_;
					guint _tmp143_;
					AdblockSubscription* _tmp144_ = NULL;
					AdblockSubscription* _tmp145_;
					gboolean _tmp146_;
					gboolean _tmp147_;
					gboolean _tmp148_;
					const gchar* _tmp149_ = NULL;
					AdblockConfig* _tmp150_;
					guint _tmp151_;
					AdblockSubscription* _tmp152_ = NULL;
					AdblockSubscription* _tmp153_;
					gboolean _tmp154_;
					gboolean _tmp155_;
					gboolean _tmp156_;
					AdblockConfig* _tmp157_;
					guint _tmp158_;
					AdblockSubscription* _tmp159_ = NULL;
					AdblockSubscription* _tmp160_;
					const gchar* _tmp161_;
					const gchar* _tmp162_;
					const gchar* _tmp163_;
					const gchar* _tmp164_;
					{
						AdblockConfig* _tmp136_;
						const gchar* _tmp137_;
						const gchar* _tmp138_;
						gchar* _tmp139_ = NULL;
#line 597 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp136_ = config;
#line 597 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp137_ = adblock_config_get_path (_tmp136_);
#line 597 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp138_ = _tmp137_;
#line 597 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						g_file_get_contents (_tmp138_, &_tmp139_, NULL, &_inner_error_);
#line 597 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_g_free0 (contents);
#line 597 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						contents = _tmp139_;
#line 597 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						if (_inner_error_ != NULL) {
#line 5017 "extension.c"
							goto __catch6_g_error;
						}
					}
					goto __finally6;
					__catch6_g_error:
					{
						GError* file_error = NULL;
						const gchar* _tmp140_;
#line 596 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						file_error = _inner_error_;
#line 596 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_inner_error_ = NULL;
#line 599 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp140_ = file_error->message;
#line 599 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						g_error ("extension.vala:599: %s", _tmp140_);
#line 596 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_g_error_free0 (file_error);
#line 5036 "extension.c"
					}
					__finally6:
#line 596 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					if (_inner_error_ != NULL) {
#line 596 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_g_free0 (contents);
#line 596 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_g_object_unref0 (copy);
#line 596 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_g_object_unref0 (config);
#line 596 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 596 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						g_clear_error (&_inner_error_);
#line 596 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						return;
#line 5053 "extension.c"
					}
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp142_ = copy;
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp143_ = i;
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp144_ = adblock_config_get (_tmp142_, _tmp143_);
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp145_ = _tmp144_;
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp146_ = adblock_subscription_get_active (_tmp145_);
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp147_ = _tmp146_;
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp148_ = _tmp147_;
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_object_unref0 (_tmp145_);
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					if (_tmp148_) {
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp141_ = "active";
#line 5075 "extension.c"
					} else {
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp141_ = "disabled";
#line 5079 "extension.c"
					}
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp150_ = config;
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp151_ = i;
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp152_ = adblock_config_get (_tmp150_, _tmp151_);
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp153_ = _tmp152_;
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp154_ = adblock_subscription_get_active (_tmp153_);
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp155_ = _tmp154_;
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp156_ = _tmp155_;
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_object_unref0 (_tmp153_);
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					if (_tmp156_) {
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp149_ = "active";
#line 5101 "extension.c"
					} else {
#line 602 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp149_ = "disabled";
#line 5105 "extension.c"
					}
#line 601 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp157_ = copy;
#line 601 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp158_ = i;
#line 601 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp159_ = adblock_config_get (_tmp157_, _tmp158_);
#line 601 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp160_ = _tmp159_;
#line 601 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp161_ = adblock_subscription_get_uri (_tmp160_);
#line 601 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp162_ = _tmp161_;
#line 601 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp163_ = _tmp141_;
#line 601 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp164_ = _tmp149_;
#line 601 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					g_error ("extension.vala:601: %s is %s but should be %s:\n%s", _tmp162_, _tmp163_, _tmp164_, contents);
#line 601 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_object_unref0 (_tmp160_);
#line 594 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_free0 (contents);
#line 5129 "extension.c"
				}
			}
		}
	}
#line 607 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp165_ = adblock_subscription_new ("http://en.de");
#line 607 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	s = _tmp165_;
#line 608 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp166_ = config;
#line 608 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp167_ = adblock_config_add (_tmp166_, s);
#line 608 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp167_, "config.add (s)");
#line 609 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp168_ = config;
#line 609 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp169_ = adblock_config_get_size (_tmp168_);
#line 609 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp170_ = _tmp169_;
#line 609 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp170_ == ((guint) 7), "config.size == 7");
#line 610 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp171_ = config;
#line 610 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_config_remove (_tmp171_, s);
#line 611 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp172_ = config;
#line 611 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp173_ = adblock_config_get_size (_tmp172_);
#line 611 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp174_ = _tmp173_;
#line 611 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp174_ == ((guint) 6), "config.size == 6");
#line 613 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp175_ = config;
#line 613 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp176_ = adblock_config_add (_tmp175_, s);
#line 613 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp176_, "config.add (s)");
#line 614 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp177_ = config;
#line 614 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp178_ = adblock_config_get_size (_tmp177_);
#line 614 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp179_ = _tmp178_;
#line 614 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp179_ == ((guint) 7), "config.size == 7");
#line 552 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (s);
#line 552 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (copy);
#line 552 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (config);
#line 5184 "extension.c"
}


void test_adblock_init (void) {
	AdblockExtension* _tmp0_;
	AdblockExtension* extension;
	AdblockConfig* _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
	AdblockConfig* _tmp4_;
	guint _tmp5_;
	guint _tmp6_;
	AdblockStatusIcon* _tmp14_;
	AdblockState _tmp15_;
	gchar* _tmp16_ = NULL;
	gchar* path;
	gchar* uri = NULL;
	AdblockSubscription* _tmp20_;
	AdblockSubscription* sub;
	AdblockConfig* _tmp21_;
	AdblockStatusIcon* _tmp22_;
	AdblockState _tmp23_;
	AdblockConfig* _tmp24_;
	guint _tmp25_;
	guint _tmp26_;
	gboolean _tmp28_ = FALSE;
	gboolean _tmp29_ = FALSE;
	AdblockStatusIcon* _tmp30_;
	AdblockState _tmp31_;
	const gchar* _tmp32_;
	const gchar* _tmp33_;
	AdblockDirective* _tmp34_ = NULL;
	AdblockDirective* _tmp35_;
	AdblockDirective _tmp36_;
	gboolean _tmp37_ = FALSE;
	AdblockStatusIcon* _tmp38_;
	AdblockState _tmp39_;
	GString* _tmp40_;
	const gchar* _tmp41_;
	AdblockConfig* _tmp42_;
	gboolean _tmp43_ = FALSE;
	AdblockConfig* _tmp44_;
	GString* _tmp45_;
	const gchar* _tmp46_;
	AdblockConfig* _tmp47_;
	guint _tmp48_;
	guint _tmp49_;
	AdblockConfig* _tmp50_;
	AdblockSubscription* _tmp51_;
	AdblockSubscription* _tmp52_;
	AdblockDirective* _tmp53_ = NULL;
	AdblockDirective* _tmp54_;
	AdblockDirective _tmp55_;
	gboolean _tmp56_ = FALSE;
	AdblockStatusIcon* _tmp57_;
	AdblockState _tmp58_;
	AdblockSubscription* _tmp59_;
	AdblockDirective* _tmp60_ = NULL;
	AdblockDirective* _tmp61_;
	AdblockDirective _tmp62_;
	gboolean _tmp63_ = FALSE;
	AdblockSubscription* _tmp64_;
	AdblockSubscription* _tmp65_;
	AdblockDirective* _tmp66_ = NULL;
	AdblockDirective* _tmp67_;
	AdblockDirective _tmp68_;
	gboolean _tmp69_ = FALSE;
	gboolean _tmp70_ = FALSE;
	gboolean _tmp71_ = FALSE;
	AdblockSubscription* _tmp72_;
	AdblockDirective* _tmp73_ = NULL;
	AdblockDirective* _tmp74_;
	AdblockDirective _tmp75_;
	AdblockSubscription* _tmp76_;
	gboolean _tmp77_ = FALSE;
	gboolean _tmp78_ = FALSE;
	AdblockSubscription* _tmp79_;
	AdblockDirective* _tmp80_ = NULL;
	AdblockDirective* _tmp81_;
	AdblockDirective _tmp82_;
	gboolean _tmp83_ = FALSE;
	AdblockSubscription* _tmp84_;
	AdblockDirective* _tmp85_ = NULL;
	AdblockDirective* _tmp86_;
	AdblockDirective _tmp87_;
	GError * _inner_error_ = NULL;
#line 619 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = adblock_extension_new ();
#line 619 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	extension = _tmp0_;
#line 620 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_extension_init (extension);
#line 621 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = extension->config;
#line 621 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = adblock_config_get_enabled (_tmp1_);
#line 621 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = _tmp2_;
#line 621 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp3_, "extension.config.enabled");
#line 623 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp4_ = extension->config;
#line 623 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp5_ = adblock_config_get_size (_tmp4_);
#line 623 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp6_ = _tmp5_;
#line 623 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp6_ != ((guint) 3)) {
#line 5293 "extension.c"
		AdblockConfig* _tmp7_;
		guint _tmp8_;
		guint _tmp9_;
		gchar* _tmp10_ = NULL;
		gchar* _tmp11_;
		gchar* _tmp12_ = NULL;
		gchar* _tmp13_;
#line 624 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp7_ = extension->config;
#line 624 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp8_ = adblock_config_get_size (_tmp7_);
#line 624 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp9_ = _tmp8_;
#line 624 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp10_ = g_strdup_printf ("%u", _tmp9_);
#line 624 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp11_ = _tmp10_;
#line 624 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp12_ = g_strdup_printf ("Expected 3 initial subs, got %s", _tmp11_);
#line 624 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp13_ = _tmp12_;
#line 624 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_error ("extension.vala:624: %s", _tmp13_);
#line 624 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (_tmp13_);
#line 624 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (_tmp11_);
#line 5321 "extension.c"
	}
#line 626 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp14_ = extension->status_icon;
#line 626 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp15_ = _tmp14_->state;
#line 626 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp15_ == ADBLOCK_STATE_ENABLED, "extension.status_icon.state == Adblock.State.ENABLED");
#line 629 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp16_ = midori_paths_get_res_filename ("adblock.list");
#line 629 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	path = _tmp16_;
#line 5333 "extension.c"
	{
		gchar* _tmp17_ = NULL;
		gchar* _tmp18_;
#line 632 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp17_ = g_filename_to_uri (path, NULL, &_inner_error_);
#line 632 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp18_ = _tmp17_;
#line 632 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		if (_inner_error_ != NULL) {
#line 5343 "extension.c"
			goto __catch7_g_error;
		}
#line 632 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (uri);
#line 632 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		uri = _tmp18_;
#line 5350 "extension.c"
	}
	goto __finally7;
	__catch7_g_error:
	{
		GError* _error_ = NULL;
		const gchar* _tmp19_;
#line 631 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_error_ = _inner_error_;
#line 631 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_inner_error_ = NULL;
#line 634 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp19_ = _error_->message;
#line 634 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_error ("extension.vala:634: %s", _tmp19_);
#line 631 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_error_free0 (_error_);
#line 5367 "extension.c"
	}
	__finally7:
#line 631 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_inner_error_ != NULL) {
#line 631 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (uri);
#line 631 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (path);
#line 631 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_object_unref0 (extension);
#line 631 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 631 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_clear_error (&_inner_error_);
#line 631 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return;
#line 5384 "extension.c"
	}
#line 636 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp20_ = adblock_subscription_new (uri);
#line 636 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	sub = _tmp20_;
#line 637 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp21_ = extension->config;
#line 637 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_config_add (_tmp21_, sub);
#line 638 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp22_ = extension->status_icon;
#line 638 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp23_ = _tmp22_->state;
#line 638 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp23_ == ADBLOCK_STATE_ENABLED, "extension.status_icon.state == Adblock.State.ENABLED");
#line 639 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp24_ = extension->config;
#line 639 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp25_ = adblock_config_get_size (_tmp24_);
#line 639 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp26_ = _tmp25_;
#line 639 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp26_ == ((guint) 4), "extension.config.size == 4");
#line 5408 "extension.c"
	{
#line 641 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		adblock_subscription_parse (sub, &_inner_error_);
#line 641 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		if (_inner_error_ != NULL) {
#line 5414 "extension.c"
			goto __catch8_g_error;
		}
	}
	goto __finally8;
	__catch8_g_error:
	{
		GError* _error_ = NULL;
		const gchar* _tmp27_;
#line 640 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_error_ = _inner_error_;
#line 640 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_inner_error_ = NULL;
#line 643 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp27_ = _error_->message;
#line 643 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_error ("extension.vala:643: %s", _tmp27_);
#line 640 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_error_free0 (_error_);
#line 5433 "extension.c"
	}
	__finally8:
#line 640 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_inner_error_ != NULL) {
#line 640 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_object_unref0 (sub);
#line 640 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (uri);
#line 640 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (path);
#line 640 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_object_unref0 (extension);
#line 640 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 640 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_clear_error (&_inner_error_);
#line 640 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return;
#line 5452 "extension.c"
	}
#line 646 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp28_ = adblock_extension_request_handled (extension, "https://ads.bogus.name/blub", "https://ads.bogus.name/blub");
#line 646 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (!_tmp28_, "!extension.request_handled (\"https://ads.bogus.name/blub\", \"https://ads.bogus.name/blub\")");
#line 648 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp29_ = adblock_extension_request_handled (extension, "https://foo.com", "https://ads.bogus.name/blub/favicon.ico");
#line 648 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (!_tmp29_, "!extension.request_handled (\"https://foo.com\", \"https://ads.bogus.name/blub/favicon.ico\")");
#line 649 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp30_ = extension->status_icon;
#line 649 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp31_ = _tmp30_->state;
#line 649 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp31_ == ADBLOCK_STATE_ENABLED, "extension.status_icon.state == Adblock.State.ENABLED");
#line 651 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp32_ = adblock_subscription_get_title (sub);
#line 651 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp33_ = _tmp32_;
#line 651 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (g_strcmp0 (_tmp33_, "Exercise") == 0, "sub.title == \"Exercise\"");
#line 652 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp34_ = adblock_subscription_get_directive (sub, "https://ads.bogus.name/blub", "");
#line 652 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp35_ = _tmp34_;
#line 652 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp36_ = ADBLOCK_DIRECTIVE_BLOCK;
#line 652 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_adblock_directive_equal (_tmp35_, &_tmp36_) == TRUE, "sub.get_directive (\"https://ads.bogus.name/blub\", \"\") == Adblock.Directive.BLOCK");
#line 652 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (_tmp35_);
#line 654 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp37_ = adblock_extension_request_handled (extension, "https://ads.bogus.name/blub", "https://foo.com");
#line 654 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp37_, "extension.request_handled (\"https://ads.bogus.name/blub\", \"https://foo.com\")");
#line 655 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp38_ = extension->status_icon;
#line 655 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp39_ = _tmp38_->state;
#line 655 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp39_ == ADBLOCK_STATE_BLOCKED, "extension.status_icon.state == Adblock.State.BLOCKED");
#line 656 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp40_ = extension->hider_selectors;
#line 656 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp41_ = _tmp40_->str;
#line 656 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (g_strcmp0 (_tmp41_, "") != 0, "extension.hider_selectors.str != \"\"");
#line 658 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp42_ = extension->config;
#line 658 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_config_set_enabled (_tmp42_, FALSE);
#line 659 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp43_ = adblock_extension_request_handled (extension, "https://ads.bogus.name/blub", "https://foo.com");
#line 659 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (!_tmp43_, "!extension.request_handled (\"https://ads.bogus.name/blub\", \"https://foo.com\")");
#line 662 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp44_ = extension->config;
#line 662 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_config_remove (_tmp44_, sub);
#line 663 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp45_ = extension->hider_selectors;
#line 663 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp46_ = _tmp45_->str;
#line 663 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (g_strcmp0 (_tmp46_, "") == 0, "extension.hider_selectors.str == \"\"");
#line 664 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp47_ = extension->config;
#line 664 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp48_ = adblock_config_get_size (_tmp47_);
#line 664 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp49_ = _tmp48_;
#line 664 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp49_ == ((guint) 3), "extension.config.size == 3");
#line 666 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp50_ = extension->config;
#line 666 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_config_set_enabled (_tmp50_, TRUE);
#line 667 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp51_ = extension->custom;
#line 667 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_subscription_add_rule (_tmp51_, "/adpage.");
#line 668 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp52_ = extension->custom;
#line 668 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp53_ = adblock_subscription_get_directive (_tmp52_, "http://www.engadget.com/_uac/adpage.html", "http://foo.com");
#line 668 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp54_ = _tmp53_;
#line 668 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp55_ = ADBLOCK_DIRECTIVE_BLOCK;
#line 668 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_adblock_directive_equal (_tmp54_, &_tmp55_) == TRUE, "extension.custom.get_directive (\"http://www.engadget.com/_uac/adpage.html\", \"http://foo.com\") == Adblock.Directive.BLOCK");
#line 668 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (_tmp54_);
#line 669 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp56_ = adblock_extension_request_handled (extension, "http://www.engadget.com/_uac/adpage.html", "http://foo.com");
#line 669 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp56_, "extension.request_handled (\"http://www.engadget.com/_uac/adpage.html\", \"http://foo.com\")");
#line 670 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp57_ = extension->status_icon;
#line 670 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp58_ = _tmp57_->state;
#line 670 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp58_ == ADBLOCK_STATE_BLOCKED, "extension.status_icon.state == Adblock.State.BLOCKED");
#line 672 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp59_ = extension->custom;
#line 672 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp60_ = adblock_subscription_get_directive (_tmp59_, "http://www.engadget.com/_uac/adpage.html", "http://foo.com");
#line 672 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp61_ = _tmp60_;
#line 672 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp62_ = ADBLOCK_DIRECTIVE_BLOCK;
#line 672 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_adblock_directive_equal (_tmp61_, &_tmp62_) == TRUE, "extension.custom.get_directive (\"http://www.engadget.com/_uac/adpage.html\", \"http://foo.com\") == Adblock.Directive.BLOCK");
#line 672 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (_tmp61_);
#line 673 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp63_ = adblock_extension_request_handled (extension, "http://www.engadget.com/_uac/adpage.html", "http://foo.com");
#line 673 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp63_, "extension.request_handled (\"http://www.engadget.com/_uac/adpage.html\", \"http://foo.com\")");
#line 675 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp64_ = extension->custom;
#line 675 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_subscription_add_rule (_tmp64_, "/images/*.png");
#line 676 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp65_ = extension->custom;
#line 676 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp66_ = adblock_subscription_get_directive (_tmp65_, "http://alpha.beta.com/images/yota.png", "https://foo.com");
#line 676 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp67_ = _tmp66_;
#line 676 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp68_ = ADBLOCK_DIRECTIVE_BLOCK;
#line 676 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_adblock_directive_equal (_tmp67_, &_tmp68_) == TRUE, "extension.custom.get_directive (\"http://alpha.beta.com/images/yota.png\", \"https://foo.com\") == Adblock.Directive.BLOCK");
#line 676 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (_tmp67_);
#line 677 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp69_ = adblock_extension_request_handled (extension, "http://alpha.beta.com/images/yota.png", "https://foo.com");
#line 677 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp69_, "extension.request_handled (\"http://alpha.beta.com/images/yota.png\", \"https://foo.com\")");
#line 679 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp70_ = adblock_extension_request_handled (extension, "http://alpha.beta.com/images/yota.png", "https://foo.com");
#line 679 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp70_, "extension.request_handled (\"http://alpha.beta.com/images/yota.png\", \"https://foo.com\")");
#line 681 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp71_ = adblock_extension_request_handled (extension, "http://alpha.beta.com/images/yota.jpg", "https://foo.com");
#line 681 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (!_tmp71_, "!extension.request_handled (\"http://alpha.beta.com/images/yota.jpg\", \"https://foo.com\")");
#line 682 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp72_ = extension->custom;
#line 682 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp73_ = adblock_subscription_get_directive (_tmp72_, "http://alpha.beta.com/images/yota.jpg", "https://foo.com");
#line 682 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp74_ = _tmp73_;
#line 682 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp75_ = ADBLOCK_DIRECTIVE_BLOCK;
#line 682 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_adblock_directive_equal (_tmp74_, &_tmp75_) != TRUE, "extension.custom.get_directive (\"http://alpha.beta.com/images/yota.jpg\", \"https://foo.com\") != Adblock.Directive.BLOCK");
#line 682 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (_tmp74_);
#line 684 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp76_ = extension->custom;
#line 684 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_subscription_add_rule (_tmp76_, "@@http://alpha.beta.com/images/drop*bear.png");
#line 685 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp77_ = adblock_extension_request_handled (extension, "http://alpha.beta.com/images/drop-bear.png", "https://foo.com");
#line 685 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (!_tmp77_, "!extension.request_handled (\"http://alpha.beta.com/images/drop-bear.png\", \"https://foo.com\")");
#line 686 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp78_ = adblock_extension_request_handled (extension, "http://alpha.beta.com/images/dropzone_bear.png", "https://foo.com");
#line 686 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (!_tmp78_, "!extension.request_handled (\"http://alpha.beta.com/images/dropzone_bear.png\", \"https://foo.com\")");
#line 687 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp79_ = extension->custom;
#line 687 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp80_ = adblock_subscription_get_directive (_tmp79_, "http://alpha.beta.com/images/drop-bear.png", "https://foo.com");
#line 687 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp81_ = _tmp80_;
#line 687 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp82_ = ADBLOCK_DIRECTIVE_BLOCK;
#line 687 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_adblock_directive_equal (_tmp81_, &_tmp82_) != TRUE, "extension.custom.get_directive (\"http://alpha.beta.com/images/drop-bear.png\", \"https://foo.com\") != Adblock.Directive.BLOCK");
#line 687 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (_tmp81_);
#line 689 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp83_ = adblock_extension_request_handled (extension, "http://alpha.beta.com/images/bear.png", "https://foo.com");
#line 689 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_tmp83_, "extension.request_handled (\"http://alpha.beta.com/images/bear.png\", \"https://foo.com\")");
#line 690 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp84_ = extension->custom;
#line 690 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp85_ = adblock_subscription_get_directive (_tmp84_, "http://alpha.beta.com/images/bear.png", "https://foo.com");
#line 690 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp86_ = _tmp85_;
#line 690 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp87_ = ADBLOCK_DIRECTIVE_BLOCK;
#line 690 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_vala_assert (_adblock_directive_equal (_tmp86_, &_tmp87_) == TRUE, "extension.custom.get_directive (\"http://alpha.beta.com/images/bear.png\", \"https://foo.com\") == Adblock.Directive.BLOCK");
#line 690 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (_tmp86_);
#line 617 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (sub);
#line 617 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (uri);
#line 617 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (path);
#line 617 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (extension);
#line 5660 "extension.c"
}


void test_case_line_copy (const TestCaseLine* self, TestCaseLine* dest) {
	const gchar* _tmp0_;
	gchar* _tmp1_;
	const gchar* _tmp2_;
	gchar* _tmp3_;
#line 693 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = (*self).line;
#line 693 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 693 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 ((*dest).line);
#line 693 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	(*dest).line = _tmp1_;
#line 693 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = (*self).fixed;
#line 693 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = g_strdup (_tmp2_);
#line 693 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 ((*dest).fixed);
#line 693 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	(*dest).fixed = _tmp3_;
#line 5685 "extension.c"
}


void test_case_line_destroy (TestCaseLine* self) {
#line 694 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 ((*self).line);
#line 695 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 ((*self).fixed);
#line 5694 "extension.c"
}


TestCaseLine* test_case_line_dup (const TestCaseLine* self) {
	TestCaseLine* dup;
#line 693 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	dup = g_new0 (TestCaseLine, 1);
#line 693 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	test_case_line_copy (self, dup);
#line 693 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return dup;
#line 5706 "extension.c"
}


void test_case_line_free (TestCaseLine* self) {
#line 693 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	test_case_line_destroy (self);
#line 693 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_free (self);
#line 5715 "extension.c"
}


GType test_case_line_get_type (void) {
	static volatile gsize test_case_line_type_id__volatile = 0;
	if (g_once_init_enter (&test_case_line_type_id__volatile)) {
		GType test_case_line_type_id;
		test_case_line_type_id = g_boxed_type_register_static ("TestCaseLine", (GBoxedCopyFunc) test_case_line_dup, (GBoxedFreeFunc) test_case_line_free);
		g_once_init_leave (&test_case_line_type_id__volatile, test_case_line_type_id);
	}
	return test_case_line_type_id__volatile;
}


void test_adblock_fixup_regexp (void) {
	{
		TestCaseLine* line_collection = NULL;
		gint line_collection_length1 = 0;
		gint _line_collection_size_ = 0;
		gint line_it = 0;
#line 716 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		line_collection = lines;
#line 716 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		line_collection_length1 = G_N_ELEMENTS (lines);
#line 716 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		for (line_it = 0; line_it < G_N_ELEMENTS (lines); line_it = line_it + 1) {
#line 5742 "extension.c"
			TestCaseLine line = {0};
#line 716 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			line = line_collection[line_it];
#line 5746 "extension.c"
			{
				TestCaseLine _tmp0_;
				const gchar* _tmp1_;
				TestCaseLine _tmp2_;
				const gchar* _tmp3_;
				gchar* _tmp4_ = NULL;
				gchar* _tmp5_;
				TestCaseLine _tmp6_;
				const gchar* _tmp7_;
#line 717 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp0_ = line;
#line 717 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp1_ = _tmp0_.line;
#line 717 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp2_ = line;
#line 717 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp3_ = _tmp2_.line;
#line 717 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp4_ = adblock_fixup_regex ("", _tmp3_);
#line 717 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp5_ = _tmp4_;
#line 717 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp6_ = line;
#line 717 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp7_ = _tmp6_.fixed;
#line 717 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				katze_assert_str_equal (_tmp1_, _tmp5_, _tmp7_);
#line 717 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_g_free0 (_tmp5_);
#line 5776 "extension.c"
			}
		}
	}
}


void test_case_pattern_copy (const TestCasePattern* self, TestCasePattern* dest) {
	const gchar* _tmp0_;
	gchar* _tmp1_;
	AdblockDirective _tmp2_;
#line 721 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = (*self).uri;
#line 721 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 721 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 ((*dest).uri);
#line 721 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	(*dest).uri = _tmp1_;
#line 721 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = (*self).directive;
#line 721 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	(*dest).directive = _tmp2_;
#line 5799 "extension.c"
}


void test_case_pattern_destroy (TestCasePattern* self) {
#line 722 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 ((*self).uri);
#line 5806 "extension.c"
}


TestCasePattern* test_case_pattern_dup (const TestCasePattern* self) {
	TestCasePattern* dup;
#line 721 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	dup = g_new0 (TestCasePattern, 1);
#line 721 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	test_case_pattern_copy (self, dup);
#line 721 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return dup;
#line 5818 "extension.c"
}


void test_case_pattern_free (TestCasePattern* self) {
#line 721 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	test_case_pattern_destroy (self);
#line 721 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_free (self);
#line 5827 "extension.c"
}


GType test_case_pattern_get_type (void) {
	static volatile gsize test_case_pattern_type_id__volatile = 0;
	if (g_once_init_enter (&test_case_pattern_type_id__volatile)) {
		GType test_case_pattern_type_id;
		test_case_pattern_type_id = g_boxed_type_register_static ("TestCasePattern", (GBoxedCopyFunc) test_case_pattern_dup, (GBoxedFreeFunc) test_case_pattern_free);
		g_once_init_leave (&test_case_pattern_type_id__volatile, test_case_pattern_type_id);
	}
	return test_case_pattern_type_id__volatile;
}


gchar* pretty_directive (AdblockDirective* directive) {
	gchar* result = NULL;
	AdblockDirective* _tmp0_;
	AdblockDirective* _tmp2_;
	GEnumValue* _tmp3_;
	gchar* _tmp4_;
#line 751 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = directive;
#line 751 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp0_ == NULL) {
#line 5852 "extension.c"
		gchar* _tmp1_;
#line 752 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp1_ = g_strdup ("none");
#line 752 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		result = _tmp1_;
#line 752 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return result;
#line 5860 "extension.c"
	}
#line 753 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = directive;
#line 753 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = g_enum_get_value (g_type_class_ref (ADBLOCK_TYPE_DIRECTIVE), *_tmp2_);
#line 753 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp4_ = g_strdup ((_tmp3_ != NULL) ? _tmp3_->value_name : NULL);
#line 753 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	result = _tmp4_;
#line 753 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return result;
#line 5872 "extension.c"
}


void test_adblock_pattern (void) {
	gchar* _tmp0_ = NULL;
	gchar* path;
	gchar* uri = NULL;
	AdblockSubscription* _tmp4_;
	AdblockSubscription* sub;
	GError * _inner_error_ = NULL;
#line 757 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = midori_paths_get_res_filename ("adblock.list");
#line 757 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	path = _tmp0_;
#line 5887 "extension.c"
	{
		gchar* _tmp1_ = NULL;
		gchar* _tmp2_;
#line 760 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp1_ = g_filename_to_uri (path, NULL, &_inner_error_);
#line 760 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp2_ = _tmp1_;
#line 760 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		if (_inner_error_ != NULL) {
#line 5897 "extension.c"
			goto __catch9_g_error;
		}
#line 760 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (uri);
#line 760 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		uri = _tmp2_;
#line 5904 "extension.c"
	}
	goto __finally9;
	__catch9_g_error:
	{
		GError* _error_ = NULL;
		const gchar* _tmp3_;
#line 759 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_error_ = _inner_error_;
#line 759 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_inner_error_ = NULL;
#line 762 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp3_ = _error_->message;
#line 762 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_error ("extension.vala:762: %s", _tmp3_);
#line 759 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_error_free0 (_error_);
#line 5921 "extension.c"
	}
	__finally9:
#line 759 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_inner_error_ != NULL) {
#line 759 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (uri);
#line 759 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (path);
#line 759 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 759 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_clear_error (&_inner_error_);
#line 759 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return;
#line 5936 "extension.c"
	}
#line 764 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp4_ = adblock_subscription_new (uri);
#line 764 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	sub = _tmp4_;
#line 5942 "extension.c"
	{
#line 766 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		adblock_subscription_parse (sub, &_inner_error_);
#line 766 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		if (_inner_error_ != NULL) {
#line 5948 "extension.c"
			goto __catch10_g_error;
		}
	}
	goto __finally10;
	__catch10_g_error:
	{
		GError* _error_ = NULL;
		const gchar* _tmp5_;
#line 765 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_error_ = _inner_error_;
#line 765 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_inner_error_ = NULL;
#line 768 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp5_ = _error_->message;
#line 768 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_error ("extension.vala:768: %s", _tmp5_);
#line 765 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_error_free0 (_error_);
#line 5967 "extension.c"
	}
	__finally10:
#line 765 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_inner_error_ != NULL) {
#line 765 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_object_unref0 (sub);
#line 765 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (uri);
#line 765 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (path);
#line 765 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 765 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_clear_error (&_inner_error_);
#line 765 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return;
#line 5984 "extension.c"
	}
	{
		TestCasePattern* pattern_collection = NULL;
		gint pattern_collection_length1 = 0;
		gint _pattern_collection_size_ = 0;
		gint pattern_it = 0;
#line 770 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		pattern_collection = patterns;
#line 770 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		pattern_collection_length1 = G_N_ELEMENTS (patterns);
#line 770 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		for (pattern_it = 0; pattern_it < G_N_ELEMENTS (patterns); pattern_it = pattern_it + 1) {
#line 5997 "extension.c"
			TestCasePattern pattern = {0};
#line 770 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			pattern = pattern_collection[pattern_it];
#line 6001 "extension.c"
			{
				TestCasePattern _tmp6_;
				const gchar* _tmp7_;
				AdblockDirective* _tmp8_ = NULL;
				AdblockDirective* directive;
				AdblockDirective* _tmp9_;
				AdblockDirective* _tmp12_;
				TestCasePattern _tmp13_;
				AdblockDirective _tmp14_;
#line 771 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp6_ = pattern;
#line 771 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp7_ = _tmp6_.uri;
#line 771 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp8_ = adblock_subscription_get_directive (sub, _tmp7_, "");
#line 771 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				directive = _tmp8_;
#line 772 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp9_ = directive;
#line 772 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				if (_tmp9_ == NULL) {
#line 6023 "extension.c"
					AdblockDirective _tmp10_;
					AdblockDirective* _tmp11_;
#line 773 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp10_ = ADBLOCK_DIRECTIVE_ALLOW;
#line 773 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp11_ = __adblock_directive_dup0 (&_tmp10_);
#line 773 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_free0 (directive);
#line 773 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					directive = _tmp11_;
#line 6034 "extension.c"
				}
#line 774 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp12_ = directive;
#line 774 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp13_ = pattern;
#line 774 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp14_ = _tmp13_.directive;
#line 774 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				if (_adblock_directive_equal (_tmp12_, &_tmp14_) != TRUE) {
#line 6044 "extension.c"
					TestCasePattern _tmp15_;
					AdblockDirective _tmp16_;
					gchar* _tmp17_ = NULL;
					gchar* _tmp18_;
					TestCasePattern _tmp19_;
					const gchar* _tmp20_;
					AdblockDirective* _tmp21_;
					gchar* _tmp22_ = NULL;
					gchar* _tmp23_;
#line 775 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp15_ = pattern;
#line 775 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp16_ = _tmp15_.directive;
#line 775 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp17_ = pretty_directive (&_tmp16_);
#line 775 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp18_ = _tmp17_;
#line 775 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp19_ = pattern;
#line 775 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp20_ = _tmp19_.uri;
#line 775 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp21_ = directive;
#line 775 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp22_ = pretty_directive (_tmp21_);
#line 775 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp23_ = _tmp22_;
#line 775 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					g_error ("extension.vala:775: %s expected for %s but got %s", _tmp18_, _tmp20_, _tmp23_);
#line 775 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_free0 (_tmp23_);
#line 775 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_free0 (_tmp18_);
#line 6078 "extension.c"
				}
#line 770 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_g_free0 (directive);
#line 6082 "extension.c"
			}
		}
	}
#line 756 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (sub);
#line 756 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (uri);
#line 756 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (path);
#line 6092 "extension.c"
}


static gchar* g_date_time_to_string (GDateTime* self) {
	gchar* result = NULL;
	gchar* _tmp0_ = NULL;
#line 2472 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 2473 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp0_ = g_date_time_format (self, "%FT%H:%M:%S%z");
#line 2473 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	result = _tmp0_;
#line 2473 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	return result;
#line 6107 "extension.c"
}


gchar* pretty_date (GDateTime* date) {
	gchar* result = NULL;
	GDateTime* _tmp0_;
	GDateTime* _tmp2_;
	gchar* _tmp3_ = NULL;
#line 782 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = date;
#line 782 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_tmp0_ == NULL) {
#line 6120 "extension.c"
		gchar* _tmp1_;
#line 783 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp1_ = g_strdup ("N/A");
#line 783 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		result = _tmp1_;
#line 783 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return result;
#line 6128 "extension.c"
	}
#line 784 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = date;
#line 784 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = g_date_time_to_string (_tmp2_);
#line 784 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	result = _tmp3_;
#line 784 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return result;
#line 6138 "extension.c"
}


void test_update_example_copy (const TestUpdateExample* self, TestUpdateExample* dest) {
	const gchar* _tmp0_;
	gchar* _tmp1_;
	gboolean _tmp2_;
	gboolean _tmp3_;
#line 787 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = (*self).content;
#line 787 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 787 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 ((*dest).content);
#line 787 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	(*dest).content = _tmp1_;
#line 787 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = (*self).result;
#line 787 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	(*dest).result = _tmp2_;
#line 787 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = (*self).valid;
#line 787 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	(*dest).valid = _tmp3_;
#line 6163 "extension.c"
}


void test_update_example_destroy (TestUpdateExample* self) {
#line 788 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 ((*self).content);
#line 6170 "extension.c"
}


TestUpdateExample* test_update_example_dup (const TestUpdateExample* self) {
	TestUpdateExample* dup;
#line 787 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	dup = g_new0 (TestUpdateExample, 1);
#line 787 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	test_update_example_copy (self, dup);
#line 787 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return dup;
#line 6182 "extension.c"
}


void test_update_example_free (TestUpdateExample* self) {
#line 787 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	test_update_example_destroy (self);
#line 787 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_free (self);
#line 6191 "extension.c"
}


GType test_update_example_get_type (void) {
	static volatile gsize test_update_example_type_id__volatile = 0;
	if (g_once_init_enter (&test_update_example_type_id__volatile)) {
		GType test_update_example_type_id;
		test_update_example_type_id = g_boxed_type_register_static ("TestUpdateExample", (GBoxedCopyFunc) test_update_example_dup, (GBoxedFreeFunc) test_update_example_free);
		g_once_init_leave (&test_update_example_type_id__volatile, test_update_example_type_id);
	}
	return test_update_example_type_id__volatile;
}


static guint8* string_get_data (const gchar* self, int* result_length1) {
	guint8* result;
	guint8* res;
	gint res_length1;
	gint _res_size_;
	gint _tmp0_;
	gint _tmp1_;
	gint _tmp2_;
	guint8* _tmp3_;
	gint _tmp3__length1;
	guint8* _tmp4_;
	gint _tmp4__length1;
#line 1260 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	g_return_val_if_fail (self != NULL, NULL);
#line 1261 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	res = (guint8*) self;
#line 1261 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	res_length1 = -1;
#line 1261 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_res_size_ = res_length1;
#line 1262 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp0_ = strlen (self);
#line 1262 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp1_ = _tmp0_;
#line 1262 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	res_length1 = (gint) _tmp1_;
#line 1262 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp2_ = res_length1;
#line 1263 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp3_ = res;
#line 1263 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp3__length1 = res_length1;
#line 1263 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp4_ = _tmp3_;
#line 1263 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	_tmp4__length1 = _tmp3__length1;
#line 1263 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	if (result_length1) {
#line 1263 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
		*result_length1 = _tmp4__length1;
#line 6246 "extension.c"
	}
#line 1263 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	result = _tmp4_;
#line 1263 "/usr/share/vala-0.20/vapi/glib-2.0.vapi"
	return result;
#line 6252 "extension.c"
}


void test_subscription_update (void) {
	gchar* uri = NULL;
	GFileIOStream* iostream = NULL;
	GFile* file = NULL;
	AdblockSubscription* _tmp5_;
	AdblockSubscription* sub;
	AdblockUpdater* _tmp6_;
	AdblockUpdater* updater;
	AdblockSubscription* _tmp7_;
	AdblockUpdater* _tmp8_;
	GError * _inner_error_ = NULL;
	{
		GFileIOStream* _tmp0_ = NULL;
		GFile* _tmp1_ = NULL;
		GFile* _tmp2_;
		gchar* _tmp3_ = NULL;
#line 811 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp1_ = g_file_new_tmp ("midori_adblock_update_test_XXXXXX", &_tmp0_, &_inner_error_);
#line 811 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_object_unref0 (iostream);
#line 811 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		iostream = _tmp0_;
#line 811 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp2_ = _tmp1_;
#line 811 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		if (_inner_error_ != NULL) {
#line 6282 "extension.c"
			goto __catch11_g_error;
		}
#line 811 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_object_unref0 (file);
#line 811 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		file = _tmp2_;
#line 812 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp3_ = g_file_get_uri (file);
#line 812 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (uri);
#line 812 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		uri = _tmp3_;
#line 6295 "extension.c"
	}
	goto __finally11;
	__catch11_g_error:
	{
		GError* _error_ = NULL;
		const gchar* _tmp4_;
#line 810 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_error_ = _inner_error_;
#line 810 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_inner_error_ = NULL;
#line 814 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_tmp4_ = _error_->message;
#line 814 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_error ("extension.vala:814: %s", _tmp4_);
#line 810 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_error_free0 (_error_);
#line 6312 "extension.c"
	}
	__finally11:
#line 810 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	if (_inner_error_ != NULL) {
#line 810 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_object_unref0 (file);
#line 810 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_object_unref0 (iostream);
#line 810 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		_g_free0 (uri);
#line 810 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 810 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		g_clear_error (&_inner_error_);
#line 810 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		return;
#line 6329 "extension.c"
	}
#line 816 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp5_ = adblock_subscription_new (uri);
#line 816 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	sub = _tmp5_;
#line 817 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp6_ = adblock_updater_new ();
#line 817 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	updater = _tmp6_;
#line 818 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp7_ = sub;
#line 818 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp8_ = updater;
#line 818 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	adblock_subscription_add_feature (_tmp7_, (AdblockFeature*) _tmp8_);
#line 6345 "extension.c"
	{
		TestUpdateExample* example_collection = NULL;
		gint example_collection_length1 = 0;
		gint _example_collection_size_ = 0;
		gint example_it = 0;
#line 820 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		example_collection = examples;
#line 820 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		example_collection_length1 = G_N_ELEMENTS (examples);
#line 820 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		for (example_it = 0; example_it < G_N_ELEMENTS (examples); example_it = example_it + 1) {
#line 6357 "extension.c"
			TestUpdateExample example = {0};
#line 820 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			example = example_collection[example_it];
#line 6361 "extension.c"
			{
				TestUpdateExample _tmp16_;
				gboolean _tmp17_;
				AdblockSubscription* _tmp18_;
				gboolean _tmp19_;
				gboolean _tmp20_;
				TestUpdateExample _tmp32_;
				gboolean _tmp33_;
				AdblockUpdater* _tmp34_;
				gboolean _tmp35_;
				gboolean _tmp36_;
				{
					TestUpdateExample _tmp9_;
					const gchar* _tmp10_;
					guint8* _tmp11_;
					gint _tmp11__length1;
					guint8* _tmp12_;
					gint _tmp12__length1;
					AdblockSubscription* _tmp13_;
					AdblockSubscription* _tmp14_;
#line 822 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp9_ = example;
#line 822 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp10_ = _tmp9_.content;
#line 822 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp11_ = string_get_data (_tmp10_, &_tmp11__length1);
#line 822 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp12_ = _tmp11_;
#line 822 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp12__length1 = _tmp11__length1;
#line 822 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					g_file_replace_contents (file, _tmp12_, (gsize) _tmp12__length1, NULL, FALSE, G_FILE_CREATE_NONE, NULL, NULL, &_inner_error_);
#line 822 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					if (_inner_error_ != NULL) {
#line 6396 "extension.c"
						goto __catch12_g_error;
					}
#line 823 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp13_ = sub;
#line 823 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					adblock_subscription_clear (_tmp13_);
#line 824 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp14_ = sub;
#line 824 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					adblock_subscription_parse (_tmp14_, &_inner_error_);
#line 824 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					if (_inner_error_ != NULL) {
#line 6409 "extension.c"
						goto __catch12_g_error;
					}
				}
				goto __finally12;
				__catch12_g_error:
				{
					GError* _error_ = NULL;
					const gchar* _tmp15_;
#line 821 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_error_ = _inner_error_;
#line 821 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_inner_error_ = NULL;
#line 826 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp15_ = _error_->message;
#line 826 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					g_error ("extension.vala:826: %s", _tmp15_);
#line 821 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_error_free0 (_error_);
#line 6428 "extension.c"
				}
				__finally12:
#line 821 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				if (_inner_error_ != NULL) {
#line 821 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_object_unref0 (updater);
#line 821 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_object_unref0 (sub);
#line 821 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_object_unref0 (file);
#line 821 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_object_unref0 (iostream);
#line 821 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_free0 (uri);
#line 821 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 821 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					g_clear_error (&_inner_error_);
#line 821 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					return;
#line 6449 "extension.c"
				}
#line 828 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp16_ = example;
#line 828 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp17_ = _tmp16_.valid;
#line 828 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp18_ = sub;
#line 828 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp19_ = adblock_subscription_get_valid (_tmp18_);
#line 828 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp20_ = _tmp19_;
#line 828 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				if (_tmp17_ != _tmp20_) {
#line 6463 "extension.c"
					const gchar* _tmp21_ = NULL;
					TestUpdateExample _tmp22_;
					gboolean _tmp23_;
					const gchar* _tmp24_ = NULL;
					AdblockSubscription* _tmp25_;
					gboolean _tmp26_;
					gboolean _tmp27_;
					const gchar* _tmp28_;
					const gchar* _tmp29_;
					TestUpdateExample _tmp30_;
					const gchar* _tmp31_;
#line 830 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp22_ = example;
#line 830 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp23_ = _tmp22_.valid;
#line 830 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					if (_tmp23_) {
#line 830 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp21_ = "";
#line 6483 "extension.c"
					} else {
#line 830 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp21_ = "in";
#line 6487 "extension.c"
					}
#line 830 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp25_ = sub;
#line 830 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp26_ = adblock_subscription_get_valid (_tmp25_);
#line 830 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp27_ = _tmp26_;
#line 830 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					if (_tmp27_) {
#line 830 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp24_ = "";
#line 6499 "extension.c"
					} else {
#line 830 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp24_ = "in";
#line 6503 "extension.c"
					}
#line 829 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp28_ = _tmp21_;
#line 829 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp29_ = _tmp24_;
#line 829 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp30_ = example;
#line 829 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp31_ = _tmp30_.content;
#line 829 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					g_error ("extension.vala:829: Subscription expected to be %svalid but %svalid:\n" \
"%s", _tmp28_, _tmp29_, _tmp31_);
#line 6515 "extension.c"
				}
#line 831 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp32_ = example;
#line 831 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp33_ = _tmp32_.result;
#line 831 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp34_ = updater;
#line 831 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp35_ = adblock_updater_get_needs_update (_tmp34_);
#line 831 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp36_ = _tmp35_;
#line 831 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				if (_tmp33_ != _tmp36_) {
#line 6529 "extension.c"
					const gchar* _tmp37_ = NULL;
					TestUpdateExample _tmp38_;
					gboolean _tmp39_;
					const gchar* _tmp40_;
					TestUpdateExample _tmp41_;
					const gchar* _tmp42_;
					AdblockUpdater* _tmp43_;
					GDateTime* _tmp44_;
					GDateTime* _tmp45_;
					gchar* _tmp46_ = NULL;
					gchar* _tmp47_;
					AdblockUpdater* _tmp48_;
					GDateTime* _tmp49_;
					GDateTime* _tmp50_;
					gchar* _tmp51_ = NULL;
					gchar* _tmp52_;
#line 833 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp38_ = example;
#line 833 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp39_ = _tmp38_.result;
#line 833 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					if (_tmp39_) {
#line 833 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp37_ = "";
#line 6554 "extension.c"
					} else {
#line 833 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
						_tmp37_ = " not";
#line 6558 "extension.c"
					}
#line 832 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp40_ = _tmp37_;
#line 832 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp41_ = example;
#line 832 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp42_ = _tmp41_.content;
#line 832 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp43_ = updater;
#line 832 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp44_ = adblock_updater_get_last_updated (_tmp43_);
#line 832 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp45_ = _tmp44_;
#line 832 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp46_ = pretty_date (_tmp45_);
#line 832 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp47_ = _tmp46_;
#line 832 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp48_ = updater;
#line 832 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp49_ = adblock_updater_get_expires (_tmp48_);
#line 832 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp50_ = _tmp49_;
#line 832 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp51_ = pretty_date (_tmp50_);
#line 832 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp52_ = _tmp51_;
#line 832 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					g_error ("extension.vala:832: Update%s expected for:\n" \
"%s\n" \
"Last Updated: %s\n" \
"Expires: %s", _tmp40_, _tmp42_, _tmp47_, _tmp52_);
#line 832 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_free0 (_tmp52_);
#line 832 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_g_free0 (_tmp47_);
#line 6592 "extension.c"
				}
			}
		}
	}
#line 806 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (updater);
#line 806 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (sub);
#line 806 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (file);
#line 806 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_object_unref0 (iostream);
#line 806 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (uri);
#line 6607 "extension.c"
}


void test_sub_uri_copy (const TestSubUri* self, TestSubUri* dest) {
	const gchar* _tmp0_;
	gchar* _tmp1_;
	const gchar* _tmp2_;
	gchar* _tmp3_;
#line 838 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp0_ = (*self).src_uri;
#line 838 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 838 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 ((*dest).src_uri);
#line 838 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	(*dest).src_uri = _tmp1_;
#line 838 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp2_ = (*self).dst_uri;
#line 838 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_tmp3_ = g_strdup (_tmp2_);
#line 838 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 ((*dest).dst_uri);
#line 838 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	(*dest).dst_uri = _tmp3_;
#line 6632 "extension.c"
}


void test_sub_uri_destroy (TestSubUri* self) {
#line 839 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 ((*self).src_uri);
#line 840 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 ((*self).dst_uri);
#line 6641 "extension.c"
}


TestSubUri* test_sub_uri_dup (const TestSubUri* self) {
	TestSubUri* dup;
#line 838 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	dup = g_new0 (TestSubUri, 1);
#line 838 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	test_sub_uri_copy (self, dup);
#line 838 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	return dup;
#line 6653 "extension.c"
}


void test_sub_uri_free (TestSubUri* self) {
#line 838 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	test_sub_uri_destroy (self);
#line 838 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_free (self);
#line 6662 "extension.c"
}


GType test_sub_uri_get_type (void) {
	static volatile gsize test_sub_uri_type_id__volatile = 0;
	if (g_once_init_enter (&test_sub_uri_type_id__volatile)) {
		GType test_sub_uri_type_id;
		test_sub_uri_type_id = g_boxed_type_register_static ("TestSubUri", (GBoxedCopyFunc) test_sub_uri_dup, (GBoxedFreeFunc) test_sub_uri_free);
		g_once_init_leave (&test_sub_uri_type_id__volatile, test_sub_uri_type_id);
	}
	return test_sub_uri_type_id__volatile;
}


void test_subscription_uri_parsing (void) {
	gchar* parsed_uri = NULL;
	{
		TestSubUri* example_collection = NULL;
		gint example_collection_length1 = 0;
		gint _example_collection_size_ = 0;
		gint example_it = 0;
#line 853 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		example_collection = suburis;
#line 853 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		example_collection_length1 = G_N_ELEMENTS (suburis);
#line 853 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
		for (example_it = 0; example_it < G_N_ELEMENTS (suburis); example_it = example_it + 1) {
#line 6690 "extension.c"
			TestSubUri example = {0};
#line 853 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
			example = example_collection[example_it];
#line 6694 "extension.c"
			{
				TestSubUri _tmp0_;
				const gchar* _tmp1_;
				gchar* _tmp2_ = NULL;
				const gchar* _tmp3_;
				TestSubUri _tmp4_;
				const gchar* _tmp5_;
#line 854 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp0_ = example;
#line 854 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp1_ = _tmp0_.src_uri;
#line 854 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp2_ = adblock_parse_subscription_uri (_tmp1_);
#line 854 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_g_free0 (parsed_uri);
#line 854 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				parsed_uri = _tmp2_;
#line 855 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp3_ = parsed_uri;
#line 855 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp4_ = example;
#line 855 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				_tmp5_ = _tmp4_.dst_uri;
#line 855 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
				if (g_strcmp0 (_tmp3_, _tmp5_) != 0) {
#line 6720 "extension.c"
					TestSubUri _tmp6_;
					const gchar* _tmp7_;
					const gchar* _tmp8_;
					TestSubUri _tmp9_;
					const gchar* _tmp10_;
#line 856 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp6_ = example;
#line 856 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp7_ = _tmp6_.dst_uri;
#line 856 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp8_ = parsed_uri;
#line 856 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp9_ = example;
#line 856 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					_tmp10_ = _tmp9_.src_uri;
#line 856 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
					g_error ("extension.vala:856: Subscription expected to be %svalid but %svalid:\n" \
"%s", _tmp7_, _tmp8_, _tmp10_);
#line 6738 "extension.c"
				}
			}
		}
	}
#line 851 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	_g_free0 (parsed_uri);
#line 6745 "extension.c"
}


static void _test_adblock_config_gcallback (void) {
#line 862 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	test_adblock_config ();
#line 6752 "extension.c"
}


static void _test_adblock_subs_gcallback (void) {
#line 863 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	test_adblock_subs ();
#line 6759 "extension.c"
}


static void _test_adblock_init_gcallback (void) {
#line 864 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	test_adblock_init ();
#line 6766 "extension.c"
}


static void _test_adblock_fixup_regexp_gcallback (void) {
#line 865 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	test_adblock_fixup_regexp ();
#line 6773 "extension.c"
}


static void _test_adblock_pattern_gcallback (void) {
#line 866 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	test_adblock_pattern ();
#line 6780 "extension.c"
}


static void _test_subscription_update_gcallback (void) {
#line 867 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	test_subscription_update ();
#line 6787 "extension.c"
}


static void _test_subscription_uri_parsing_gcallback (void) {
#line 868 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	test_subscription_uri_parsing ();
#line 6794 "extension.c"
}


void extension_test (void) {
#line 862 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_test_add_func ("/extensions/adblock2/config", _test_adblock_config_gcallback);
#line 863 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_test_add_func ("/extensions/adblock2/subs", _test_adblock_subs_gcallback);
#line 864 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_test_add_func ("/extensions/adblock2/init", _test_adblock_init_gcallback);
#line 865 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_test_add_func ("/extensions/adblock2/parse", _test_adblock_fixup_regexp_gcallback);
#line 866 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_test_add_func ("/extensions/adblock2/pattern", _test_adblock_pattern_gcallback);
#line 867 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_test_add_func ("/extensions/adblock2/update", _test_subscription_update_gcallback);
#line 868 "/home/luyue/new/Webkit2Browser/Source/midori/extensions/adblock/extension.vala"
	g_test_add_func ("/extensions/adblock2/subsparse", _test_subscription_uri_parsing_gcallback);
#line 6813 "extension.c"
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	if ((array != NULL) && (destroy_func != NULL)) {
		int i;
		for (i = 0; i < array_length; i = i + 1) {
			if (((gpointer*) array)[i] != NULL) {
				destroy_func (((gpointer*) array)[i]);
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
	_vala_array_destroy (array, array_length, destroy_func);
	g_free (array);
}


static gint _vala_array_length (gpointer array) {
	int length;
	length = 0;
	if (array) {
		while (((gpointer*) array)[length]) {
			length++;
		}
	}
	return length;
}



